{"version":3,"file":"main.js","sources":["../../../../packages/util/src/util/misc.ts","../../../../packages/util/src/util/binarySearch.ts","../../../../packages/util/src/util/cowArray.ts","../../../../packages/util/src/util/linked.ts","../../../../packages/util/src/util/disposer.ts","../../../../packages/util/src/util/dom.ts","../../../../packages/util/src/util/wrap.ts","../../../../packages/util/src/util/xyz.ts","../../../../packages/util/src/util/geo.ts","../../../../node_modules/immutable/dist/immutable.es.js","../../../../packages/util/src/util/immutable.ts","../../../../packages/util/src/util/interval.ts","../../../../packages/util/src/util/splitString.ts","../../../../packages/util/src/util/time.ts","../../../../packages/util/src/ref/config.ts","../../../../packages/util/src/ref/misc.ts","../../../../packages/util/src/ref/txn.ts","../../../../packages/util/src/ref/listenable.ts","../../../../packages/util/src/ref/activityListenable.ts","../../../../packages/util/src/ref/ref.ts","../../../../packages/util/src/ref/notifier.ts","../../../../packages/util/src/workerPool.ts","../../../../packages/core/src/init.ts","../../../../packages/core/src/util/arrayWithZIndices.ts","../../../../packages/core/src/util/misc.ts","../../../../packages/core/src/util/notifierTree.ts","../../../../packages/core/src/support/valueBase.ts","../../../../packages/core/src/support/color.ts","../../../../packages/core/src/support/misc.ts","../../../../packages/core/src/support/colorTable.ts","../../../../packages/core/src/support/colorTablesCet.ts","../../../../packages/core/src/support/colorTablesMpl.ts","../../../../packages/core/src/support/dom.ts","../../../../packages/core/src/support/inset.ts","../../../../packages/core/src/support/shader.ts","../../../../packages/core/src/support/styleable.ts","../../../../packages/core/src/support/text.ts","../../../../packages/core/src/core/axis1d.ts","../../../../packages/core/src/core/axis2d.ts","../../../../packages/core/src/core/context.ts","../../../../packages/core/src/layouts/childlessLayout.ts","../../../../packages/core/src/painters/borderPainter/painter.ts","../../../../packages/core/src/painters/fillPainter/painter.ts","../../../../packages/core/src/core/pane.ts","../../../../packages/core/src/core/ticker.ts","../../../../packages/core/src/axisGroups/commonBounds.ts","../../../../packages/core/src/axisGroups/commonScale.ts","../../../../packages/core/src/layouts/columnsLayout.ts","../../../../packages/core/src/layouts/rowsLayout.ts","../../../../packages/core/src/painters/axisPainter/painter.ts","../../../../packages/core/src/painters/axisTagsPainter/painter.ts","../../../../packages/core/src/painters/gridPainter/painter.ts","../../../../packages/core/src/painters/plotBorderPainter/painter.ts","../../../../packages/core/src/painters/basicLinePainter/painter.ts","../../../../packages/core/src/painters/cursorPainter/painter.ts","../../../../packages/core/src/painters/gradientPainter/painter.ts","../../../../packages/core/src/painters/heatmapPainter/painter.ts","../../../../packages/core/src/painters/imagePainter/painter.ts","../../../../packages/core/src/painters/scatterPainter/painter.ts","../../../../packages/core/src/painters/solidPainter/painter.ts","../../../../packages/core/src/tickers/linearTicker.ts","../../../../packages/core/src/contraptions/scrollbar.ts","../../../../node_modules/libtess/libtess.min.js","../../../../packages/geojson/src/init.ts","../../../../packages/geojson/src/painter/support.ts","../../../../packages/geojson/src/painter/painter.ts","../../../../node_modules/dompurify/src/utils.js","../../../../node_modules/dompurify/src/tags.js","../../../../node_modules/dompurify/src/attrs.js","../../../../node_modules/dompurify/src/regexp.js","../../../../node_modules/dompurify/src/purify.js","../../../../node_modules/@mapbox/point-geometry/index.js","../../../../node_modules/@mapbox/vector-tile/lib/vectortilefeature.js","../../../../node_modules/@mapbox/vector-tile/lib/vectortilelayer.js","../../../../node_modules/earcut/src/earcut.js","../../../../node_modules/pbf/index.js","../../../../packages/mvt/src/init.ts","../../../../packages/mvt/src/support.ts","../../../../packages/mvt/src/cache/cacheSupport.ts","../../../../packages/mvt/src/cache/cache.ts","../../../../packages/mvt/src/painter/painter.ts","../../src/data.ts","../../src/main.ts"],"sourcesContent":["/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Disposer } from './disposer';\n\nexport type Nullable<T> = T | null;\n\nexport type Runnable = ( ) => unknown;\nexport type Supplier<T> = ( ) => T;\nexport type Consumer<T> = ( t: T ) => unknown;\nexport type ActivityConsumer<T> = ( ongoing: boolean, t: T ) => unknown;\nexport type Predicate<T> = ( t: T ) => boolean;\n\nexport type Equator<T> = ( a: T, b: T ) => boolean;\nexport type Comparator<T> = ( a: T, b: T ) => number;\n\nexport type HomogeneousTuple<T> = readonly [] | readonly [ T, ...T[] ];\nexport type StringTuple = HomogeneousTuple<string>;\n\nexport interface Arrayish<T> {\n    readonly length: number;\n    readonly [n: number]: T;\n    [Symbol.iterator]( ): Iterator<T>;\n    slice( start?: number, end?: number ): Arrayish<T>;\n}\n\nexport const NOOP = ( ) => undefined;\nexport const alwaysTrue = ( v: unknown ) => true;\n\n/**\n * Calls the given fn immediately. That can be done using basic\n * Javascript instead, but passing a lambda to this fn is more\n * readable in some cases.\n */\nexport function run<T>( fn: ( ) => T ): T {\n    return fn( );\n}\n\n/**\n * Alias for `run()`.\n */\nexport const get = run;\n\nexport function cachingSupplier<T>( supplier: Supplier<T> ): Supplier<T> {\n    const UNINITIALIZED = Symbol( 'UNINITIALIZED' );\n    let value: T | typeof UNINITIALIZED = UNINITIALIZED;\n    return ( ) => {\n        if ( value === UNINITIALIZED ) {\n            value = supplier( );\n        }\n        return value;\n    };\n}\n\nexport function firstTrue<T>( values: Iterable<T>, test: Predicate<T> ): T | undefined;\nexport function firstTrue<T>( values: Iterable<T>, fallback: T, test: Predicate<T> ): T;\nexport function firstTrue<T>( values: Iterable<T>, arg2: unknown, arg3?: unknown ): T | undefined {\n    let test;\n    let fallback;\n    if ( arg3 === undefined ) {\n        test = arg2 as Predicate<T>;\n        fallback = undefined;\n    }\n    else {\n        test = arg3 as Predicate<T>;\n        fallback = arg2 as T;\n    }\n\n    for ( const v of values ) {\n        if ( test( v ) ) {\n            return v;\n        }\n    }\n    return fallback;\n}\n\nexport function requireTrue<T>( t: T, test: Predicate<T> ): T {\n    if ( !test( t ) ) {\n        throw new Error( );\n    }\n    else {\n        return t;\n    }\n}\n\n/**\n * Returns true iff x is a non-NaN number.\n */\nexport function isNumber( x: unknown ): x is number {\n    return ( typeof( x ) === 'number' && !Number.isNaN( x ) );\n}\n\n/**\n * Returns the first of the given values that is a non-NaN number.\n * Returns NaN iff every one of the given values is nullish or NaN.\n */\nexport function firstNumber( ...xs: ReadonlyArray<number | null | undefined> ): number {\n    for ( const x of xs ) {\n        if ( isNumber( x ) ) {\n            return x;\n        }\n    }\n    return NaN;\n}\n\nexport function atLeast( a: number ): Predicate<number> {\n    return v => ( v >= a );\n}\n\nexport function atMost( a: number ): Predicate<number> {\n    return v => ( v <= a );\n}\n\n/**\n * Returns x if it is a non-NaN number, or fallback otherwise.\n */\nexport function numberOr( x: unknown, fallback: number ): number {\n    return ( isNumber( x ) ? x : fallback );\n}\n\nexport function isUndefined( t: unknown ): t is undefined {\n    return ( typeof( t ) === 'undefined' );\n}\n\nexport function isDefined<T>( t: T | undefined ): t is T {\n    return ( typeof( t ) !== 'undefined' );\n}\n\nexport function requireDefined<T>( t: T | undefined ): T {\n    if ( isUndefined( t ) ) {\n        throw new Error( );\n    }\n    else {\n        return t;\n    }\n}\n\nexport function requireNonNull<T>( t: T | null ): T {\n    if ( t === null ) {\n        throw new Error( );\n    }\n    else {\n        return t;\n    }\n}\n\nexport function isNonNullish<T>( t: T ): t is NonNullable<T> {\n    return ( typeof( t ) !== 'undefined' && t !== null );\n}\n\nexport function isNullish( t: unknown ): t is null | undefined {\n    return ( typeof( t ) === 'undefined' || t === null );\n}\n\nexport function requireNonNullish<T>( t: T | null | undefined ): T {\n    if ( isNullish( t ) ) {\n        throw new Error( );\n    }\n    else {\n        return t;\n    }\n}\n\nexport type OneOf<T extends ReadonlyArray<unknown>> = T[number];\n\n/**\n * Truncates toward zero.\n */\nexport function trunc( v: number ): number {\n    return ( v | 0 );\n}\n\n/**\n * Like `a % b`, but always returns a non-negative number.\n */\nexport function mod( a: number, b: number ): number {\n    return ( ( ( a % b ) + b ) % b );\n}\n\nexport function arrayClone<T>( array: ReadonlyArray<T> ): Array<T>;\nexport function arrayClone<T>( array: Arrayish<T> ): Arrayish<T>;\nexport function arrayClone<T>( array: Arrayish<T> ): Arrayish<T> {\n    return array.slice( 0 );\n}\n\nexport function arrayClear( array: Array<unknown> ): void {\n    array.splice( 0, array.length );\n}\n\nexport function arrayRemoveFirst<T>( array: Array<T>, value: T ): Nullable<number> {\n    let i = array.indexOf( value );\n    if ( i === -1 ) {\n        return null;\n    }\n    else {\n        array.splice( i, 1 );\n        return i;\n    }\n}\n\nexport function arrayRemoveLast<T>( array: Array<T>, value: T ): Nullable<number> {\n    let i = array.lastIndexOf( value );\n    if ( i === -1 ) {\n        return null;\n    }\n    else {\n        array.splice( i, 1 );\n        return i;\n    }\n}\n\nexport function createChainedComparator<T>( comparators: ReadonlyArray<Comparator<T>> ): Comparator<T> {\n    return ( a, b ) => {\n        for ( const comparator of comparators ) {\n            const comparison = comparator( a, b );\n            if ( comparison !== 0 ) {\n                return comparison;\n            }\n        }\n        return 0;\n    };\n}\n\nexport function concat<T>( ...arrays: ConcatArray<T>[] ): T[] {\n    return ( [] as T[] ).concat( ...arrays );\n}\n\n/**\n * Guarantees stability iff array has no duplicate elements.\n */\nexport function arraySortStable<T>( array: Array<T>, compare: Comparator<T> ): void {\n    // Remember the original index of each element\n    const indices = new Map( ) as Map<unknown,number>;\n    for ( let i = 0; i < array.length; i++ ) {\n        indices.set( array[ i ], i );\n    }\n\n    array.sort( ( a, b ) => {\n        // Try the primary comparison first\n        const primaryComparison = compare( a, b );\n        if ( primaryComparison !== 0 ) {\n            return primaryComparison;\n        }\n\n        // Fall back to index comparison\n        const aIndex = requireDefined( indices.get( a ) );\n        const bIndex = requireDefined( indices.get( b ) );\n        const indexComparison = aIndex - bIndex;\n        if ( indexComparison !== 0 ) {\n            return indexComparison;\n        }\n\n        // Nothing else we can do if array has duplicate entries\n        return 0;\n    } );\n}\n\nexport function arrayReverseIterable<T>( array: ArrayLike<T> ): Iterable<T> {\n    return {\n        [Symbol.iterator]( ): Iterator<T> {\n            return arrayReverseIterator( array );\n        }\n    };\n}\n\nexport function arrayReverseIterator<T>( array: ArrayLike<T> ): Iterator<T> {\n    let i = array.length;\n    return {\n        next( ): IteratorResult<T> {\n            i--;\n            return {\n                done: ( i < 0 ),\n                value: array[ i ]\n            };\n        }\n    };\n}\n\nexport function* mapIterable<A,B>( iterable: Iterable<A>, fn: ( a: A ) => B ): Iterable<B> {\n    for ( const a of iterable ) {\n        yield fn( a );\n    }\n}\n\nexport function iterableIsEmpty( iterable: Iterable<unknown> ): boolean {\n    for ( const _ of iterable ) {\n        return false;\n    }\n    return true;\n}\n\nexport function* multiIterable<T>( ...iterables: Iterable<T>[] ): Iterable<T> {\n    for ( const iterable of iterables ) {\n        for ( const value of iterable ) {\n            yield value;\n        }\n    }\n}\n\ninterface MapishA<K,V> {\n    get( key: K ): V | undefined;\n    has( key: K ): boolean;\n}\n\nexport function mapRequire<K,V>( map: MapishA<K,V>, key: K ): V {\n    // We could do the get() first, and check for undefined ...\n    // but that would get messy when V is a superset of undefined\n    if ( !map.has( key ) ) {\n        throw new Error( 'Map does not contain key: ' + key );\n    }\n    return map.get( key )!;\n}\n\ninterface MapishB<K,V> {\n    get( key: K ): V | undefined;\n    has( key: K ): boolean;\n    set( key: K, value: V ): this;\n    delete( key: K ): unknown;\n}\n\nexport function mapSetIfAbsent<K,V>( map: MapishB<K,V>, key: K, createValueFn: Supplier<V> ): V {\n    if ( !map.has( key ) ) {\n        map.set( key, createValueFn( ) );\n    }\n    return map.get( key )!;\n}\n\nexport function mapAdd<K,V>( map: MapishB<K,V>, key: K, value: V ): Disposer {\n    if ( map.has( key ) ) {\n        throw new Error( 'Map already contains key: ' + key );\n    }\n    map.set( key, value );\n    return ( ) => {\n        map.delete( key );\n    };\n}\n\nexport function singleOrEmpty<T>( item: T | null | undefined ): Iterable<T> {\n    return ( isNullish( item ) ? [] : [ item ] );\n}\n\nexport function requireEqual<T>( a: T, b: T, equator: Equator<T> = tripleEquals ): T {\n    if ( !equator( a, b ) ) {\n        throw new Error( );\n    }\n    else {\n        return a;\n    }\n}\n\nexport function arrayEquator<T>( itemEquator: Equator<T> = tripleEquals ): Equator<ArrayLike<T>> {\n    return ( a, b ) => {\n        return arrayAllEqual( a, b, itemEquator );\n    };\n}\n\nexport function arrayAllEqual<T>( a: Nullable<ArrayLike<T>>, b: Nullable<ArrayLike<T>>, itemEquator: Equator<T> = tripleEquals ): boolean {\n    if ( a === b ) {\n        return true;\n    }\n    else if ( a === null || b === null ) {\n        return false;\n    }\n    else if ( a.length !== b.length ) {\n        return false;\n    }\n    else {\n        const n = a.length;\n        for ( let i = 0; i < n; i++ ) {\n            if ( !itemEquator( a[ i ], b[ i ] ) ) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\nexport function tripleEquals<T>( a: T, b: T ): boolean {\n    return ( a === b );\n}\n\n/**\n * Check for equality with SameValueZero semantics:\n *  - `sameValueZero( NaN, NaN )` returns `true`\n *  - `sameValueZero( -0, +0 )` returns `true`\n */\nexport function sameValueZero<T>( a: T, b: T ): boolean {\n    return ( a === b || Object.is( a, b ) );\n}\n\nexport function clamp( xMin: number, xMax: number, x: number ): number {\n    return Math.max( xMin, Math.min( xMax, x ) );\n}\n\n/**\n * Used by `nextUpFloat64()` and `nextDownFloat64()`\n */\nconst dataView64 = new DataView( new ArrayBuffer( 8 ) );\n\nfunction increment64( dataView64: DataView ): void {\n    const hi32 = dataView64.getUint32( 0 );\n    const lo32 = dataView64.getUint32( 4 );\n    dataView64.setUint32( 4, lo32 + 1 );\n    if ( lo32 === 0xFFFFFFFF ) {\n        dataView64.setUint32( 0, hi32 + 1 );\n    }\n}\n\nfunction decrement64( dataView64: DataView ): void {\n    const hi32 = dataView64.getUint32( 0 );\n    const lo32 = dataView64.getUint32( 4 );\n    dataView64.setUint32( 4, lo32 - 1 );\n    if ( lo32 === 0x00000000 ) {\n        dataView64.setUint32( 0, hi32 - 1 );\n    }\n}\n\nexport function nextUpFloat64( v: number ): number {\n    if ( Number.isNaN( v ) || v === Number.POSITIVE_INFINITY ) {\n        return v;\n    }\n    else if ( v === 0 ) {\n        return +Number.MIN_VALUE;\n    }\n    else {\n        dataView64.setFloat64( 0, v );\n        if ( v < 0 ) {\n            decrement64( dataView64 );\n        }\n        else {\n            increment64( dataView64 );\n        }\n        return dataView64.getFloat64( 0 );\n    }\n}\n\nexport function nextDownFloat64( v: number ): number {\n    if ( Number.isNaN( v ) || v === Number.NEGATIVE_INFINITY ) {\n        return v;\n    }\n    else if ( v === 0 ) {\n        return -Number.MIN_VALUE;\n    }\n    else {\n        dataView64.setFloat64( 0, v );\n        if ( v < 0 ) {\n            increment64( dataView64 );\n        }\n        else {\n            decrement64( dataView64 );\n        }\n        return dataView64.getFloat64( 0 );\n    }\n}\n\nexport function getNow_PMILLIS( ): number {\n    return ( new Date( ) ).getTime( );\n}\n\nexport function setTimeout3( delay_MILLIS: number, fn: Function ): Disposer {\n    const handle = setTimeout( fn, delay_MILLIS );\n    return ( ) => {\n        clearTimeout( handle );\n    };\n}\n\nexport function setRepeating( delay_MILLIS: number, interval_MILLIS: number, fn: Function ): Disposer {\n    // clearTimeout is not sufficient if fn does something async\n    let running = true;\n    let handle = setTimeout2( delay_MILLIS, function g( ) {\n        if ( running ) {\n            fn( );\n            if ( running ) {\n                handle = setTimeout2( interval_MILLIS, g );\n            }\n        }\n    } );\n    return ( ) => {\n        running = false;\n        clearTimeout( handle );\n    };\n}\n\nexport function setAsyncRepeating( delay_MILLIS: number, interval_MILLIS: number, asyncFn: ( ) => Promise<unknown> ): Disposer {\n    // clearTimeout is not sufficient if fn does something async\n    let running = true;\n    let handle = setTimeout2( delay_MILLIS, async function g( ) {\n        if ( running ) {\n            await asyncFn( );\n            if ( running ) {\n                handle = setTimeout2( interval_MILLIS, g );\n            }\n        }\n    } );\n    return ( ) => {\n        running = false;\n        clearTimeout( handle );\n    };\n}\n\n/**\n * Just like setTimeout(), but with the function arg last,\n * which is often more readable when passing a lambda.\n */\nexport function setTimeout2( delay_MILLIS: number, fn: Function ): number {\n    return setTimeout( fn, delay_MILLIS );\n}\n\n/**\n * Wraps the given runnable in such a way that it won't execute\n * more frequently than specified. If the returned runnable gets\n * called more frequently than specified, calls will be coalesced\n * and delayed until the specified interval has passed since the\n * most recent execution. Calls will not be ignored.\n */\nexport function rateLimitedRunnable( minInterval_MILLIS: number, listener: Runnable ): Runnable {\n    // TODO: Optionally wait before initial firing\n    let earliest_PMILLIS = getNow_PMILLIS( );\n    let timeout = undefined as ( number | undefined );\n    return ( ) => {\n        if ( getNow_PMILLIS( ) >= earliest_PMILLIS ) {\n            // Enough time has passed that we can call immediately\n            if ( timeout !== undefined ) {\n                // Resorb the pending call\n                clearTimeout( timeout );\n                timeout = undefined;\n            }\n            earliest_PMILLIS = getNow_PMILLIS( ) + minInterval_MILLIS;\n            listener( );\n        }\n        else if ( timeout === undefined ) {\n            // No call pending yet, so start one\n            timeout = setTimeout2( earliest_PMILLIS - getNow_PMILLIS( ), ( ) => {\n                timeout = undefined;\n                earliest_PMILLIS = getNow_PMILLIS( ) + minInterval_MILLIS;\n                listener( );\n            } );\n        }\n        else {\n            // There's already a call pending, so do nothing\n        }\n    };\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { trunc } from './misc';\n\n/**\n * Returns a signed number indicating the direction and amount by which the candidate\n * value differs from the target value. Returns negative if the candidate is too small,\n * positive if the candidate is too large, or zero if the candidate equals the target.\n * Values returned by repeated calls to a single instance should be consistent with the\n * assumption that the target is the same for all calls.\n */\nexport interface MissFn<T> {\n    ( candidate: T ): number;\n}\n\nexport function linearMissFn( target: number ): MissFn<number> {\n    return candidate => {\n        // TODO: Be more careful about NaN, and about +0.0 vs -0.0\n        return ( candidate - target );\n    };\n}\n\nexport function findIndexOf<T>( sorted: ArrayLike<T>, missFn: MissFn<T> ): number {\n    let a = 0;\n    let b = sorted.length - 1;\n    while ( a <= b ) {\n        const pivot = trunc( ( a + b ) / 2 );\n        const miss = missFn( sorted[ pivot ] );\n        if ( miss < 0 ) {\n            a = pivot + 1;\n        }\n        else if ( miss > 0 ) {\n            b = pivot - 1;\n        }\n        else {\n            return pivot;\n        }\n    }\n    return -( a + 1 );\n}\n\nexport function findIndexNearest<T>( sorted: ArrayLike<T>, missFn: MissFn<T> ): number {\n    const i = findIndexOf( sorted, missFn );\n\n    // Exact value found\n    if ( i >= 0 ) {\n        return i;\n    }\n\n    // Find the closer of the adjacent values\n    const iAfter = -i - 1;\n    const iBefore = iAfter - 1;\n\n    if ( iAfter >= sorted.length ) {\n        return iBefore;\n    }\n\n    if ( iBefore < 0 ) {\n        return iAfter;\n    }\n\n    const missAfter = missFn( sorted[ iAfter ] );\n    const missBefore = missFn( sorted[ iBefore ] );\n    return ( Math.abs( missAfter ) <= Math.abs( missBefore ) ? iAfter : iBefore );\n}\n\nexport function findIndexAfter<T>( sorted: ArrayLike<T>, missFn: MissFn<T> ): number {\n    const i = findIndexOf( sorted, missFn );\n\n    // Exact value not found\n    if ( i < 0 ) {\n        return ( -i - 1 );\n    }\n\n    // If the exact value was found, find the value's last occurrence\n    let n = sorted.length;\n    for ( let j = i + 1; j < n; j++ ) {\n        if ( missFn( sorted[ j ] ) > 0 ) {\n            return j;\n        }\n    }\n    return n;\n}\n\nexport function findIndexAtOrAfter<T>( sorted: ArrayLike<T>, missFn: MissFn<T> ): number {\n    const i = findIndexOf( sorted, missFn );\n\n    // Exact value not found\n    if ( i < 0 ) {\n        return ( -i - 1 );\n    }\n\n    // If the exact value was found, find the value's first occurrence\n    for ( let j = i; j > 0; j-- ) {\n        if ( missFn( sorted[ j - 1 ] ) < 0 ) {\n            return j;\n        }\n    }\n    return 0;\n}\n\nexport function findIndexBefore<T>( sorted: ArrayLike<T>, missFn: MissFn<T> ): number {\n    return findIndexAtOrAfter( sorted, missFn ) - 1;\n}\n\nexport function findIndexAtOrBefore<T>( sorted: ArrayLike<T>, missFn: MissFn<T> ): number {\n    return findIndexAfter( sorted, missFn ) - 1;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { findIndexAfter, findIndexAtOrAfter, findIndexAtOrBefore, findIndexBefore, findIndexNearest, findIndexOf, MissFn } from './binarySearch';\nimport { arrayClear, arrayClone, arrayRemoveFirst, arrayRemoveLast, arrayReverseIterator, arraySortStable, Nullable } from './misc';\n\n/**\n * Copy-on-write array.\n */\nexport class CowArray<V> {\n    readonly inReverse: Iterable<V>;\n\n    protected current: ReadonlyArray<V>;\n\n    constructor( vs: ReadonlyArray<V> = [] ) {\n        this.current = vs;\n\n        const _this = this;\n        this.inReverse = {\n            [Symbol.iterator]( ): Iterator<V> {\n                return _this.reverseIterator( );\n            }\n        };\n    }\n\n    protected modify<R>( modify: ( vs: V[] ) => R ): R {\n        const vs = arrayClone( this.current );\n        const result = modify( vs );\n        this.current = vs;\n        return result;\n    }\n\n    [Symbol.iterator]( ): Iterator<V> {\n        return this.current[ Symbol.iterator ]( );\n    }\n\n    reverseIterator( ): Iterator<V> {\n        return arrayReverseIterator( this.current );\n    }\n\n    entries( ): IterableIterator<[number,V]> {\n        return this.current.entries( );\n    }\n\n    keys( ): IterableIterator<number> {\n        return this.current.keys( );\n    }\n\n    values( ): IterableIterator<V> {\n        return this.current.values( );\n    }\n\n    get length( ): number {\n        return this.current.length;\n    }\n\n    set length( length: number ) {\n        this.modify( vs => ( vs.length = length ) );\n    }\n\n    clear( ): void {\n        this.modify( vs => arrayClear( vs ) );\n    }\n\n    get( i: number ): V {\n        return this.current[ i ];\n    }\n\n    set( i: number, v: V ): V {\n        return this.modify( vs => ( vs[ i ] = v ) );\n    }\n\n    push( v: V ): number {\n        return this.modify( vs => vs.push( v ) );\n    }\n\n    pop( ): V | undefined {\n        return this.modify( vs => vs.pop( ) );\n    }\n\n    shift( ): V | undefined {\n        return this.modify( vs => vs.shift( ) );\n    }\n\n    unshift( ...items: V[] ): number {\n        return this.modify( vs => vs.unshift( ...items ) );\n    }\n\n    splice( start: number, deleteCount?: number ): CowArray<V>;\n    splice( start: number, deleteCount: number, ...items: V[] ): CowArray<V>;\n    splice( start: number, deleteCount: number, ...items: V[] ) {\n        return new CowArray( this.modify( vs => vs.splice( start, deleteCount, ...items ) ) );\n    }\n\n    /**\n     * Assumes that this array is already sorted.\n     */\n    findIndexOf( missFn: MissFn<V> ): number {\n        return findIndexOf( this.current, missFn );\n    }\n\n    /**\n     * Assumes that this array is already sorted.\n     */\n    findIndexNearest( missFn: MissFn<V> ): number {\n        return findIndexNearest( this.current, missFn );\n    }\n\n    /**\n     * Assumes that this array is already sorted.\n     */\n    findIndexAfter( missFn: MissFn<V> ): number {\n        return findIndexAfter( this.current, missFn );\n    }\n\n    /**\n     * Assumes that this array is already sorted.\n     */\n    findIndexAtOrAfter( missFn: MissFn<V> ): number {\n        return findIndexAtOrAfter( this.current, missFn );\n    }\n\n    /**\n     * Assumes that this array is already sorted.\n     */\n    findIndexBefore( missFn: MissFn<V> ): number {\n        return findIndexBefore( this.current, missFn );\n    }\n\n    /**\n     * Assumes that this array is already sorted.\n     */\n    findIndexAtOrBefore( missFn: MissFn<V> ): number {\n        return findIndexAtOrBefore( this.current, missFn );\n    }\n\n    sort( compareFn?: ( a: V, b: V ) => number ): this {\n        this.modify( vs => vs.sort( compareFn ) );\n        return this;\n    }\n\n    sortStable( compareFn: ( a: V, b: V ) => number ): this {\n        this.modify( vs => arraySortStable( vs, compareFn ) );\n        return this;\n    }\n\n    removeFirst( v: V ): Nullable<number> {\n        return this.modify( vs => arrayRemoveFirst( vs, v ) );\n    }\n\n    removeLast( v: V ): Nullable<number> {\n        return this.modify( vs => arrayRemoveLast( vs, v ) );\n    }\n\n    reverse( ): this {\n        this.modify( vs => vs.reverse( ) );\n        return this;\n    }\n\n    fill( v: V, start?: number, end?: number ): this {\n        this.modify( vs => vs.fill( v, start, end ) );\n        return this;\n    }\n\n    copyWithin( target: number, start: number, end?: number ): this {\n        this.modify( vs => vs.copyWithin( target, start, end ) );\n        return this;\n    }\n\n    /**\n     * Assumes `fn` does not modify this array.\n     */\n    forEach( fn: ( v: V, i: number, vs: ReadonlyArray<V> ) => void, thisArg?: any ): void {\n        return this.current.forEach( fn, thisArg );\n    }\n\n    /**\n     * Assumes `fn` does not modify this array.\n     */\n    map<U>( fn: ( v: V, i: number, vs: ReadonlyArray<V> ) => U, thisArg?: any ): CowArray<U> {\n        return new CowArray( this.current.map( fn, thisArg ) );\n    }\n\n    /**\n     * Assumes `fn` does not modify this array.\n     */\n    filter<S extends V>( fn: ( v: V, i: number, vs: ReadonlyArray<V> ) => v is S, thisArg?: any ): CowArray<S>;\n    filter( fn: ( v: V, i: number, vs: ReadonlyArray<V> ) => unknown, thisArg?: any ): CowArray<V>;\n    filter( fn: any, thisArg?: any ) {\n        return new CowArray( this.current.filter( fn, thisArg ) );\n    }\n\n    /**\n     * Assumes `fn` does not modify this array.\n     */\n    reduce( fn: ( vPrev: V, vCurrent: V, iCurrent: number, vs: ReadonlyArray<V> ) => V ): V;\n    reduce( fn: ( vPrev: V, vCurrent: V, iCurrent: number, vs: ReadonlyArray<V> ) => V, vInit: V ): V;\n    reduce<U>( fn: ( uPrev: U, vCurrent: V, iCurrent: number, vs: ReadonlyArray<V> ) => U, uInit: U ): U;\n    reduce( fn: any, init?: any ) {\n        return this.current.reduce( fn, init );\n    }\n\n    /**\n     * Assumes `fn` does not modify this array.\n     */\n    reduceRight( fn: ( vPrev: V, vCurrent: V, iCurrent: number, vs: ReadonlyArray<V> ) => V ): V;\n    reduceRight( fn: ( vPrev: V, vCurrent: V, iCurrent: number, vs: ReadonlyArray<V> ) => V, vInit: V ): V;\n    reduceRight<U>( fn: ( uPrev: U, vCurrent: V, iCurrent: number, vs: ReadonlyArray<V> ) => U, uInit: U ): U;\n    reduceRight( fn: any, init?: any ) {\n        return this.current.reduceRight( fn, init );\n    }\n\n    /**\n     * Assumes `fn` does not modify this array.\n     */\n    find<S extends V>( fn: ( this: void, v: V, i: number, vs: ReadonlyArray<V> ) => v is S, thisArg?: any ): S | undefined;\n    find( fn: ( v: V, i: number, vs: ReadonlyArray<V> ) => unknown, thisArg?: any ): V | undefined;\n    find( fn: any, thisArg?: any ) {\n        return this.current.find( fn, thisArg );\n    }\n\n    /**\n     * Assumes `fn` does not modify this array.\n     */\n    findIndex( fn: ( v: V, i: number, vs: ReadonlyArray<V> ) => unknown, thisArg?: any ): number {\n        return this.current.findIndex( fn, thisArg );\n    }\n\n    indexOf( v: V, fromIndex?: number ): number {\n        return this.current.indexOf( v, fromIndex );\n    }\n\n    lastIndexOf( v: V, fromIndex?: number ): number {\n        return this.current.lastIndexOf( v, fromIndex );\n    }\n\n    includes( v: V, fromIndex?: number ): boolean {\n        return this.current.includes( v, fromIndex );\n    }\n\n    concat( ...items: ConcatArray<V>[] ): CowArray<V>;\n    concat( ...items: ( V | ConcatArray<V> )[] ): CowArray<V>;\n    concat( ...items: any[] ) {\n        return new CowArray( this.current.concat( ...items ) );\n    }\n\n    join( separator?: string ): string {\n        return this.current.join( separator );\n    }\n\n    slice( start?: number, end?: number ): CowArray<V> {\n        return new CowArray( this.current.slice( start, end ) );\n    }\n\n    /**\n     * Assumes `fn` does not modify this array.\n     */\n    every( fn: ( v: V, i: number, vs: ReadonlyArray<V> ) => unknown, thisArg?: any ): boolean {\n        return this.current.every( fn, thisArg );\n    }\n\n    /**\n     * Assumes `fn` does not modify this array.\n     */\n    some( fn: ( v: V, i: number, vs: ReadonlyArray<V> ) => unknown, thisArg?: any ): boolean {\n        return this.current.some( fn, thisArg );\n    }\n\n    toString( ): string {\n        return this.current.toString( );\n    }\n\n    toLocaleString( ): string {\n        return this.current.toLocaleString( );\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { requireDefined } from './misc';\n\nexport interface Prev<T> {\n    next: Next<T>;\n}\n\nexport interface Next<T> {\n    prev: Prev<T>;\n}\n\nexport interface Node<T> extends Prev<T>, Next<T> {\n    item: T;\n}\n\ntype PossibleNode<T> = Node<T> | Prev<T> | Next<T>;\n\nfunction isNode<T>( x: PossibleNode<T> ): x is Node<T> {\n    const { prev, next } = x as any;\n    return ( !!prev && !!next );\n}\n\nexport class LinkedList<T> {\n    readonly head: Prev<T>;\n    readonly tail: Next<T>;\n\n    constructor( items?: Iterable<T> ) {\n        this.head = { next: undefined } as any;\n        this.tail = { prev: undefined } as any;\n        this.head.next = this.tail;\n        this.tail.prev = this.head;\n        if ( items ) {\n            for ( const item of items ) {\n                this.addLast( item );\n            }\n        }\n    }\n\n    *[Symbol.iterator]( ): IterableIterator<T> {\n        let node = this.head;\n        while ( true ) {\n            const next = node.next;\n            if ( !isNode( next ) ) {\n                break;\n            }\n            yield next.item;\n            node = next;\n        }\n    }\n\n    *itemsInReverse( ): IterableIterator<T> {\n        let node = this.tail;\n        while ( true ) {\n            const prev = node.prev;\n            if ( !isNode( prev ) ) {\n                break;\n            }\n            yield prev.item;\n            node = prev;\n        }\n    }\n\n    forEach( fn: ( item: T, i: number, list: LinkedList<T> ) => unknown, thisArg?: any ): void {\n        let i = 0;\n        for ( const item of this ) {\n            fn.call( thisArg, item, i, this );\n            i++;\n        }\n    }\n\n    getFirst( ): Node<T> | undefined {\n        return this.getNext( this.head );\n    }\n\n    getLast( ): Node<T> | undefined {\n        return this.getPrev( this.tail );\n    }\n\n    getPrev( next: Next<T> ): Node<T> | undefined {\n        const node = next.prev;\n        return ( isNode( node ) ? node : undefined );\n    }\n\n    getNext( prev: Prev<T> ): Node<T> | undefined {\n        const node = prev.next;\n        return ( isNode( node ) ? node : undefined );\n    }\n\n    addFirst( item: T ): Node<T> {\n        return this.addAfter( item, this.head );\n    }\n\n    addLast( item: T ): Node<T> {\n        return this.addBefore( item, this.tail );\n    }\n\n    addBefore( item: T, next: Next<T> ): Node<T> {\n        return this.addAfter( item, next.prev );\n    }\n\n    addAfter( item: T, prev: Prev<T> ): Node<T> {\n        const next = prev.next;\n        const node = { prev, next, item };\n        prev.next = node;\n        next.prev = node;\n        return node;\n    }\n\n    moveFirst( node: Node<T> ): void {\n        this.moveAfter( node, this.head );\n    }\n\n    moveLast( node: Node<T> ): void {\n        this.moveBefore( node, this.tail );\n    }\n\n    moveBefore( node: Node<T>, next: Next<T> ): void {\n        if ( node !== next ) {\n            // Remove before computing the destination, in case the destination is adjacent to node\n            this.doRemove( node );\n            const prev = next.prev;\n            node.prev = prev;\n            node.next = next;\n            prev.next = node;\n            next.prev = node;\n        }\n    }\n\n    moveAfter( node: Node<T>, prev: Prev<T> ): void {\n        if ( node !== prev ) {\n            // Remove before computing the destination, in case the destination is adjacent to node\n            this.doRemove( node );\n            const next = prev.next;\n            node.prev = prev;\n            node.next = next;\n            prev.next = node;\n            next.prev = node;\n        }\n    }\n\n    remove( node: Node<T> ): Node<T> | undefined {\n        return this.doRemove( node );\n    }\n\n    removeFirst( ): Node<T> | undefined {\n        return this.doRemove( this.head.next );\n    }\n\n    removeLast( ): Node<T> | undefined {\n        return this.doRemove( this.tail.prev );\n    }\n\n    removeBefore( next: Next<T> ): Node<T> | undefined {\n        return this.doRemove( next.prev );\n    }\n\n    removeAfter( prev: Prev<T> ): Node<T> | undefined {\n        return this.doRemove( prev.next );\n    }\n\n    protected doRemove( node: PossibleNode<T> ): Node<T> | undefined {\n        if ( !isNode( node ) ) {\n            return undefined;\n        }\n        else {\n            const { prev, next } = node;\n            prev.next = next;\n            next.prev = prev;\n            node.prev = { next: node };\n            node.next = { prev: node };\n            return node;\n        }\n    }\n\n    removeAll( ): void {\n        this.head.next = this.tail;\n        this.tail.prev = this.head;\n    }\n}\n\nexport interface ReadableLinkedSet<T> extends ReadonlySet<T> {\n    readonly [Symbol.toStringTag]: string;\n    valuesInReverse( ): IterableIterator<T>;\n    valueBefore( item: T | undefined ): T | undefined;\n    valueAfter( item: T | undefined ): T | undefined;\n}\n\nexport class LinkedSet<T> implements Set<T>, ReadableLinkedSet<T> {\n    protected readonly map: Map<T,Node<T>>;\n    protected readonly list: LinkedList<T>;\n\n    constructor( items?: Iterable<T> ) {\n        this.map = new Map( );\n        this.list = new LinkedList( );\n        if ( items ) {\n            for ( const item of items ) {\n                this.addLast( item );\n            }\n        }\n    }\n\n    get [Symbol.toStringTag]( ): string {\n        return '[object LinkedSet]';\n    }\n\n    get size( ): number {\n        return this.map.size;\n    }\n\n    has( item: T ): boolean {\n        return this.map.has( item );\n    }\n\n    [Symbol.iterator]( ): IterableIterator<T> {\n        return this.values( );\n    }\n\n    *entries( ): IterableIterator<[T,T]> {\n        for ( const item of this.values( ) ) {\n            yield [ item, item ];\n        }\n    }\n\n    keys( ): IterableIterator<T> {\n        return this.values( );\n    }\n\n    values( ): IterableIterator<T> {\n        return this.list[Symbol.iterator]( );\n    }\n\n    valuesInReverse( ): IterableIterator<T> {\n        return this.list.itemsInReverse( );\n    }\n\n    valueBefore( item: T | undefined ): T | undefined {\n        const next = requireDefined( item === undefined ? this.list.tail : this.map.get( item ) );\n        return this.list.getPrev( next )?.item;\n    }\n\n    valueAfter( item: T | undefined ): T | undefined {\n        const prev = requireDefined( item === undefined ? this.list.head : this.map.get( item ) );\n        return this.list.getNext( prev )?.item;\n    }\n\n    forEach( fn: ( item: T, item2: T, set: Set<T> ) => void, thisArg?: any ): void {\n        for ( const item of this ) {\n            fn.call( thisArg, item, item, this );\n        }\n    }\n\n    add( item: T ): this {\n        this.addLast( item, false );\n        return this;\n    }\n\n    delete( item: T ): boolean {\n        const node = this.map.get( item );\n        if ( node ) {\n            this.map.delete( item );\n            this.list.remove( node );\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    clear( ): void {\n        this.map.clear( );\n        this.list.removeAll( );\n    }\n\n    addFirst( item: T, move: boolean = true ): void {\n        let node = this.map.get( item );\n        if ( node ) {\n            if ( move ) {\n                this.list.moveFirst( node );\n            }\n        }\n        else {\n            node = this.list.addFirst( item );\n            this.map.set( item, node );\n        }\n    }\n\n    addLast( item: T, move: boolean = true ): void {\n        let node = this.map.get( item );\n        if ( node ) {\n            if ( move ) {\n                this.list.moveLast( node );\n            }\n        }\n        else {\n            node = this.list.addLast( item );\n            this.map.set( item, node );\n        }\n    }\n\n    addBefore( item: T, nextItem: T | undefined, move: boolean = true ): void {\n        let node = this.map.get( item );\n        if ( node ) {\n            if ( move ) {\n                const next = ( nextItem === undefined ? this.list.tail : this.map.get( nextItem ) );\n                if ( next ) {\n                    this.list.moveBefore( node, next );\n                }\n                else {\n                    this.list.moveFirst( node );\n                }\n            }\n        }\n        else {\n            const next = ( nextItem === undefined ? this.list.tail : this.map.get( nextItem ) );\n            if ( next ) {\n                node = this.list.addBefore( item, next );\n            }\n            else {\n                node = this.list.addFirst( item );\n            }\n            this.map.set( item, node );\n        }\n    }\n\n    addAfter( item: T, prevItem: T | undefined, move: boolean = true ): void {\n        let node = this.map.get( item );\n        if ( node ) {\n            if ( move ) {\n                const prev = ( prevItem === undefined ? this.list.head : this.map.get( prevItem ) );\n                if ( prev ) {\n                    this.list.moveAfter( node, prev );\n                }\n                else {\n                    this.list.moveLast( node );\n                }\n            }\n        }\n        else {\n            const prev = ( prevItem === undefined ? this.list.head : this.map.get( prevItem ) );\n            if ( prev ) {\n                node = this.list.addAfter( item, prev );\n            }\n            else {\n                node = this.list.addLast( item );\n            }\n            this.map.set( item, node );\n        }\n    }\n\n    moveFirst( item: T ): void {\n        let node = this.map.get( item );\n        if ( node ) {\n            this.list.moveFirst( node );\n        }\n    }\n\n    moveLast( item: T ): void {\n        let node = this.map.get( item );\n        if ( node ) {\n            this.list.moveLast( node );\n        }\n    }\n\n    moveBefore( item: T, nextItem: T | undefined ): void {\n        let node = this.map.get( item );\n        if ( node ) {\n            const next = ( nextItem === undefined ? this.list.tail : this.map.get( nextItem ) );\n            if ( next ) {\n                this.list.moveBefore( node, next );\n            }\n            else {\n                this.list.moveFirst( node );\n            }\n        }\n    }\n\n    moveAfter( item: T, prevItem: T | undefined ): void {\n        let node = this.map.get( item );\n        if ( node ) {\n            const prev = ( prevItem === undefined ? this.list.head : this.map.get( prevItem ) );\n            if ( prev ) {\n                this.list.moveAfter( node, prev );\n            }\n            else {\n                this.list.moveLast( node );\n            }\n        }\n    }\n\n    removeFirst( ): T | undefined {\n        const node = this.list.removeFirst( );\n        return this.doRemoveFromMap( node );\n    }\n\n    removeLast( ): T | undefined {\n        const node = this.list.removeLast( );\n        return this.doRemoveFromMap( node );\n    }\n\n    removeBefore( nextItem: T | undefined ): T | undefined {\n        const next = ( nextItem === undefined ? this.list.tail : this.map.get( nextItem ) );\n        if ( next ) {\n            const node = this.list.removeBefore( next );\n            return this.doRemoveFromMap( node );\n        }\n        else {\n            return undefined;\n        }\n    }\n\n    removeAfter( prevItem: T | undefined ): T | undefined {\n        const prev = ( prevItem === undefined ? this.list.head : this.map.get( prevItem ) );\n        if ( prev ) {\n            const node = this.list.removeAfter( prev );\n            return this.doRemoveFromMap( node );\n        }\n        else {\n            return undefined;\n        }\n    }\n\n    protected doRemoveFromMap( node: Node<T> | undefined ): T | undefined {\n        if ( node ) {\n            this.map.delete( node.item );\n            return node.item;\n        }\n        else {\n            return undefined;\n        }\n    }\n}\n\nexport interface ReadableLinkedMap<K,V> extends ReadonlyMap<K,V> {\n    readonly [Symbol.toStringTag]: string;\n    entriesInReverse( ): IterableIterator<[K,V]>;\n    entryBefore( key: K | undefined ): [K,V] | undefined;\n    entryAfter( key: K | undefined ): [K,V] | undefined;\n    keysInReverse( ): IterableIterator<K>;\n    keyBefore( key: K | undefined ): K | undefined;\n    keyAfter( key: K | undefined ): K | undefined;\n    valuesInReverse( ): IterableIterator<V>;\n    valueBefore( key: K | undefined ): V | undefined;\n    valueAfter( key: K | undefined ): V | undefined;\n}\n\nexport class LinkedMap<K,V> implements Map<K,V>, ReadableLinkedMap<K,V> {\n    protected readonly map: Map<K,Node<[K,V]>>;\n    protected readonly list: LinkedList<[K,V]>;\n\n    constructor( entries?: Iterable<[K,V]> ) {\n        this.map = new Map( );\n        this.list = new LinkedList( );\n        if ( entries ) {\n            for ( const en of entries ) {\n                this.putLast( en[0], en[1] );\n            }\n        }\n    }\n\n    get [Symbol.toStringTag]( ): string {\n        return '[object LinkedMap]';\n    }\n\n    get size( ): number {\n        return this.map.size;\n    }\n\n    has( key: K ): boolean {\n        return this.map.has( key );\n    }\n\n    get( key: K ): V | undefined {\n        return this.map.get( key )?.item[1];\n    }\n\n    [Symbol.iterator]( ): IterableIterator<[K,V]> {\n        return this.entries( );\n    }\n\n    entries( ): IterableIterator<[K,V]> {\n        return this.list[Symbol.iterator]( );\n    }\n\n    entriesInReverse( ): IterableIterator<[K,V]> {\n        return this.list.itemsInReverse( );\n    }\n\n    entryBefore( key: K | undefined ): [K,V] | undefined {\n        const next = requireDefined( key === undefined ? this.list.tail : this.map.get( key ) );\n        return this.list.getPrev( next )?.item;\n    }\n\n    entryAfter( key: K | undefined ): [K,V] | undefined {\n        const prev = requireDefined( key === undefined ? this.list.head : this.map.get( key ) );\n        return this.list.getNext( prev )?.item;\n    }\n\n    *keys( ): IterableIterator<K> {\n        for ( const en of this.list ) {\n            yield en[0];\n        }\n    }\n\n    *keysInReverse( ): IterableIterator<K> {\n        for ( const en of this.list.itemsInReverse( ) ) {\n            yield en[0];\n        }\n    }\n\n    keyBefore( key: K | undefined ): K | undefined {\n        return this.entryBefore( key )?.[0];\n    }\n\n    keyAfter( key: K | undefined ): K | undefined {\n        return this.entryAfter( key )?.[0];\n    }\n\n    *values( ): IterableIterator<V> {\n        for ( const en of this.list ) {\n            yield en[1];\n        }\n    }\n\n    *valuesInReverse( ): IterableIterator<V> {\n        for ( const en of this.list.itemsInReverse( ) ) {\n            yield en[1];\n        }\n    }\n\n    valueBefore( key: K | undefined ): V | undefined {\n        return this.entryBefore( key )?.[1];\n    }\n\n    valueAfter( key: K | undefined ): V | undefined {\n        return this.entryAfter( key )?.[1];\n    }\n\n    forEach( fn: ( value: V, key: K, map: Map<K,V> ) => void, thisArg?: any ): void {\n        for ( const item of this ) {\n            fn.call( thisArg, item[1], item[0], this );\n        }\n    }\n\n    set( key: K, value: V ): this {\n        this.putLast( key, value, false );\n        return this;\n    }\n\n    delete( key: K ): boolean {\n        const node = this.map.get( key );\n        if ( node ) {\n            this.map.delete( key );\n            this.list.remove( node );\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    clear( ): void {\n        this.map.clear( );\n        this.list.removeAll( );\n    }\n\n    putFirst( key: K, value: V, move: boolean = true ): void {\n        let node = this.map.get( key );\n        if ( node ) {\n            node.item[1] = value;\n            if ( move ) {\n                this.list.moveFirst( node );\n            }\n        }\n        else {\n            node = this.list.addFirst( [ key, value ] );\n            this.map.set( key, node );\n        }\n    }\n\n    putLast( key: K, value: V, move: boolean = true ): void {\n        let node = this.map.get( key );\n        if ( node ) {\n            node.item[1] = value;\n            if ( move ) {\n                this.list.moveLast( node );\n            }\n        }\n        else {\n            node = this.list.addLast( [ key, value ] );\n            this.map.set( key, node );\n        }\n    }\n\n    putBefore( key: K, value: V, nextKey: K | undefined, move: boolean = true ): void {\n        let node = this.map.get( key );\n        if ( node ) {\n            node.item[1] = value;\n            if ( move ) {\n                const next = ( nextKey === undefined ? this.list.tail : this.map.get( nextKey ) );\n                if ( next ) {\n                    this.list.moveBefore( node, next );\n                }\n                else {\n                    this.list.moveFirst( node );\n                }\n            }\n        }\n        else {\n            const next = ( nextKey === undefined ? this.list.tail : this.map.get( nextKey ) );\n            if ( next ) {\n                node = this.list.addBefore( [ key, value ], next );\n            }\n            else {\n                node = this.list.addFirst( [ key, value ] );\n            }\n            this.map.set( key, node );\n        }\n    }\n\n    putAfter( key: K, value: V, prevKey: K | undefined, move: boolean = true ): void {\n        let node = this.map.get( key );\n        if ( node ) {\n            node.item[1] = value;\n            if ( move ) {\n                const prev = ( prevKey === undefined ? this.list.head : this.map.get( prevKey ) );\n                if ( prev ) {\n                    this.list.moveAfter( node, prev );\n                }\n                else {\n                    this.list.moveLast( node );\n                }\n            }\n        }\n        else {\n            const prev = ( prevKey === undefined ? this.list.head : this.map.get( prevKey ) );\n            if ( prev ) {\n                node = this.list.addAfter( [ key, value ], prev );\n            }\n            else {\n                node = this.list.addLast( [ key, value ] );\n            }\n            this.map.set( key, node );\n        }\n    }\n\n    moveFirst( key: K ): void {\n        let node = this.map.get( key );\n        if ( node ) {\n            this.list.moveFirst( node );\n        }\n    }\n\n    moveLast( key: K ): void {\n        let node = this.map.get( key );\n        if ( node ) {\n            this.list.moveLast( node );\n        }\n    }\n\n    moveBefore( key: K, nextKey: K | undefined ): void {\n        let node = this.map.get( key );\n        if ( node ) {\n            const next = ( nextKey === undefined ? this.list.tail : this.map.get( nextKey ) );\n            if ( next ) {\n                this.list.moveBefore( node, next );\n            }\n            else {\n                this.list.moveFirst( node );\n            }\n        }\n    }\n\n    moveAfter( key: K, prevKey: K | undefined ): void {\n        let node = this.map.get( key );\n        if ( node ) {\n            const prev = ( prevKey === undefined ? this.list.head : this.map.get( prevKey ) );\n            if ( prev ) {\n                this.list.moveAfter( node, prev );\n            }\n            else {\n                this.list.moveLast( node );\n            }\n        }\n    }\n\n    removeFirst( ): V | undefined {\n        const node = this.list.removeFirst( );\n        return this.doRemoveFromMap( node );\n    }\n\n    removeLast( ): V | undefined {\n        const node = this.list.removeLast( );\n        return this.doRemoveFromMap( node );\n    }\n\n    removeBefore( nextKey: K | undefined ): V | undefined {\n        const next = ( nextKey === undefined ? this.list.tail : this.map.get( nextKey ) );\n        if ( next ) {\n            const node = this.list.removeBefore( next );\n            return this.doRemoveFromMap( node );\n        }\n        else {\n            return undefined;\n        }\n    }\n\n    removeAfter( prevKey: K | undefined ): V | undefined {\n        const prev = ( prevKey === undefined ? this.list.head : this.map.get( prevKey ) );\n        if ( prev ) {\n            const node = this.list.removeAfter( prev );\n            return this.doRemoveFromMap( node );\n        }\n        else {\n            return undefined;\n        }\n    }\n\n    protected doRemoveFromMap( node: Node<[K,V]> | undefined ): V | undefined {\n        if ( node ) {\n            this.map.delete( node.item[0] );\n            return node.item[1];\n        }\n        else {\n            return undefined;\n        }\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { LinkedMap, LinkedSet } from './linked';\nimport { requireDefined } from './misc';\n\nexport interface DisposeFn {\n    ( ): unknown;\n}\n\nexport interface Disposable {\n    dispose( ): unknown;\n}\n\nexport type Disposer = DisposeFn | Disposable;\n\nexport function dispose( disposer: Disposer ): void {\n    if ( typeof disposer === 'function' ) {\n        disposer( );\n    }\n    else {\n        disposer.dispose( );\n    }\n}\n\nexport class DisposerGroup implements Disposable {\n    protected members: LinkedSet<Disposer>;\n\n    constructor( ) {\n        this.members = new LinkedSet( );\n    }\n\n    add( disposer: Disposer ): void {\n        this.members.add( disposer );\n    }\n\n    dispose( ): void {\n        for ( const member of [ ...this.members.valuesInReverse( ) ] ) {\n            this.members.delete( member );\n            dispose( member );\n        }\n    }\n}\n\nexport class DisposerGroupMap<K> implements Disposable {\n    protected groups: LinkedMap<K,DisposerGroup>;\n\n    constructor( ) {\n        this.groups = new LinkedMap( );\n    }\n\n    get( key: K ): DisposerGroup {\n        if ( !this.groups.has( key ) ) {\n            const disposers = new DisposerGroup( );\n            this.groups.set( key, disposers );\n            disposers.add( ( ) => {\n                if ( this.groups.get( key ) === disposers ) {\n                    this.groups.delete( key );\n                }\n            } );\n        }\n        return requireDefined( this.groups.get( key ) );\n    }\n\n    disposeFor( key: K ): void {\n        this.groups.get( key )?.dispose( );\n    }\n\n    dispose( ): void {\n        for ( const key of [ ...this.groups.keysInReverse( ) ] ) {\n            this.disposeFor( key );\n        }\n    }\n\n    /**\n     * Anticipated usage of `DisposerGroupMap` does not require this method.\n     * Before using it, consider carefully whether you really need it. It is\n     * provided for unforeseen situations.\n     */\n    get _size( ): number {\n        return this.groups.size;\n    }\n\n    /**\n     * Anticipated usage of `DisposerGroupMap` does not require this method.\n     * Before using it, consider carefully whether you really need it. It is\n     * provided for unforeseen situations.\n     */\n    _has( key: K ): boolean {\n        return this.groups.has( key );\n    }\n\n    /**\n     * Anticipated usage of `DisposerGroupMap` does not require this method.\n     * Before using it, consider carefully whether you really need it. It is\n     * provided for unforeseen situations.\n     */\n    _keys( ): IterableIterator<K> {\n        return this.groups.keys( );\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Disposer, DisposerGroup } from './disposer';\nimport { NOOP, Runnable } from './misc';\n\nconst { round } = Math;\n\nexport function appendChild( parent: Node, child: Node ): Disposer {\n    parent.appendChild( child );\n    return ( ) => {\n        parent.removeChild( child );\n    };\n}\n\nexport function insertBefore( parent: Node, child: Node, existingChild: Node | null ): Disposer {\n    parent.insertBefore( child, existingChild );\n    return ( ) => {\n        parent.removeChild( child );\n    };\n}\n\nexport function createCssLink( url: URL ): HTMLLinkElement {\n    const link = document.createElement( 'link' );\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url.href;\n    return link;\n}\n\nexport function appendCssLink( parent: Node, cssLink: HTMLLinkElement ): { loading: Promise<HTMLLinkElement>, disposers: DisposerGroup } {\n    const disposers = new DisposerGroup( );\n    disposers.add( appendChild( parent, cssLink ) );\n    const [ loadingPromise, loadingDisposer ] = createCssLoadingPromise( cssLink );\n    disposers.add( loadingDisposer );\n    return { loading: loadingPromise, disposers };\n}\n\nexport function createCssLoadingPromise( cssLink: HTMLLinkElement ): [ Promise<HTMLLinkElement>, Disposer ] {\n    const disposers = new DisposerGroup( );\n    const promise = new Promise<HTMLLinkElement>( ( resolve, reject ) => {\n        let settled = false;\n        disposers.add( onCssLoaded( cssLink, ( ) => {\n            if ( !settled ) {\n                settled = true;\n                resolve( cssLink );\n            }\n        } ) );\n        disposers.add( ( ) => {\n            if ( !settled ) {\n                settled = true;\n                reject( { reason: 'DISPOSED', href: cssLink.href } );\n            }\n        } );\n    } );\n    return [ promise, disposers ];\n}\n\n/**\n * Executes `callback` immediately if `cssLink` has already loaded. Otherwise,\n * polls until `cssLink` has loaded, and then executes `callback`. If loading\n * takes a long time, logs a one-time warning to the console, then logs a\n * success message when loading completes.\n */\nexport function onCssLoaded( cssLink: HTMLLinkElement, callback: Runnable ): Disposer {\n    const millisBetweenPolls = 10;\n    const pollsBeforeWarning = 500;\n    let pollsSoFar = 0;\n    const doPoll = ( ) => {\n        try {\n            if ( cssLink.sheet?.cssRules ) {\n                if ( pollsSoFar >= pollsBeforeWarning ) {\n                    console.log( `CSS load completed after ${ round( 1e-3*millisBetweenPolls*pollsSoFar ) } seconds:`, cssLink.href );\n                }\n                return true;\n            }\n            else {\n                pollsSoFar++;\n                if ( pollsSoFar === pollsBeforeWarning ) {\n                    console.warn( `Still waiting for CSS to load after ${ round( 1e-3*millisBetweenPolls*pollsSoFar ) } seconds:`, cssLink.href );\n                }\n                return false;\n            }\n        }\n        catch ( e ) {\n            pollsSoFar++;\n            if ( pollsSoFar === pollsBeforeWarning ) {\n                console.warn( `Still waiting for CSS to load after ${ round( 1e-3*millisBetweenPolls*pollsSoFar ) } seconds:`, cssLink.href, '\\n ', e );\n            }\n            return false;\n        }\n    };\n\n    if ( doPoll( ) ) {\n        callback( );\n        return NOOP;\n    }\n    else {\n        const interval = setInterval( ( ) => {\n            if ( doPoll( ) ) {\n                callback( );\n                clearInterval( interval );\n            }\n        }, millisBetweenPolls );\n\n        return ( ) => {\n            clearInterval( interval );\n        };\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nconst { floor, round } = Math;\n\n/**\n * Returns `min - N*wrapSpan`, where `N` is a whole number and the returned\n * value is in `[ min, min + wrapSpan )`.\n */\nexport function wrapAbove( value: number, min: number, wrapSpan: number ): number {\n    const wrapCount = floor( ( value - min ) / wrapSpan );\n    return ( value - ( wrapCount * wrapSpan ) );\n}\n\n/**\n * Returns `ref - N*wrapSpan`, where `N` is a whole number and the returned\n * value is in `[ ref - 0.5*wrapSpan, ref + 0.5*wrapSpan )`.\n */\nexport function wrapNear( value: number, ref: number, wrapSpan: number ): number {\n    return ( ref + wrapDelta( value - ref, wrapSpan ) );\n}\n\n/**\n * Returns `delta + N*wrapSpan`, where `N` is a whole number and the returned\n * value is in `[ -0.5*wrapSpan, +0.5*wrapSpan )`.\n */\nexport function wrapDelta( delta: number, wrapSpan: number ): number {\n    const wrapCount = round( delta / wrapSpan );\n    return ( delta - ( wrapCount * wrapSpan ) );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { requireDefined } from './misc';\n\nconst { asin, atan2, cos, PI, sign, sin, sqrt } = Math;\n\nexport type Xyz = Readonly<[ x: number, y: number, z: number ]>;\n\nexport const X3 = Object.freeze( [ 1, 0, 0 ] as const );\nexport const Y3 = Object.freeze( [ 0, 1, 0 ] as const );\nexport const Z3 = Object.freeze( [ 0, 0, 1 ] as const );\n\nexport function toUnitSphereXyz( lat_RAD: number, lon_RAD: number ): Xyz {\n    const sinLat = sin( lat_RAD );\n    const cosLat = cos( lat_RAD );\n    const sinLon = sin( lon_RAD );\n    const cosLon = cos( lon_RAD );\n    return [\n        cosLat * cosLon,\n        cosLat * sinLon,\n        sinLat,\n    ];\n}\n\nexport function fromUnitSphereXyz( [x,y,z]: Xyz ): [ lat_RAD: number, lon_RAD: number ] {\n    const lat_RAD = atan2( z, sqrt( x*x + y*y ) );\n    const lon_RAD = atan2( y, x );\n    return [ lat_RAD, lon_RAD ];\n}\n\nexport function getGreatCircleNormal( A: Xyz, B: Xyz ): Xyz | undefined {\n    const N = normalize3( cross3( A, B ) );\n    if ( N ) {\n        // This is the common case\n        return N;\n    }\n    else {\n        // These are corner cases\n        const AoB = dot3( A, B );\n        if ( AoB > 0 ) {\n            // A and B are colocated\n            return undefined;\n        }\n        else {\n            // A and B are antipodes\n            const ZxA = normalize3( cross3( Z3, A ) );\n            if ( ZxA ) {\n                // Choose (arbitrarily) the great circle whose max-latitude and min-latitude points are at A and B\n                return normalize3( cross3( A, ZxA ) );\n            }\n            else {\n                // A and B are at the poles; choose (arbitrarily) the great circle that goes through North America\n                return X3;\n            }\n        }\n    }\n}\n\nexport function sphereSurfaceRingContains( ring_UNIT: ReadonlyArray<Xyz>, p_UNIT: Xyz ): boolean {\n    // Use a trick from chapter 14 of the Red Book. Make a triangle-fan, starting from some\n    // arbitrary point, and fanning out to each vertex in the polygon. Count how many of the\n    // fan triangles contain the point -- the point is inside the polygon iff the count is odd.\n    //\n    // This approach has the advantage that it does not require a point whose inside/outside\n    // status is known a priori.\n    //\n    // The disadvantage of this approach is that it can only give us even/odd winding behavior.\n    // This is good enough for the use-cases we care about. It is also consistent with our\n    // renderer. (Actually, the renderer doesn't always behave as it should when a polygon\n    // overlaps a wrapped-around part of itself, so it's not 100% consistent. But still close\n    // enough.)\n\n    // TODO: Should some triangle edges be inclusive?\n\n    if ( ring_UNIT.length < 3 ) {\n        return false;\n    }\n    else {\n        const a_UNIT = ring_UNIT[ 0 ];\n        let b_UNIT = ring_UNIT[ 1 ];\n        let count = 0;\n        for ( let i = 2; i < ring_UNIT.length; i++ ) {\n            const c_UNIT = ring_UNIT[ i ];\n            if ( sphereSurfaceTriangleContains( a_UNIT, b_UNIT, c_UNIT, p_UNIT ) ) {\n                count++;\n            }\n            b_UNIT = c_UNIT;\n        }\n        return ( count % 2 === 1 );\n    }\n}\n\nexport function sphereSurfaceTriangleContains( a_UNIT: Xyz, b_UNIT: Xyz, c_UNIT: Xyz, p_UNIT: Xyz ): boolean {\n    // TODO: Allow each edge to be either inclusive or exclusive\n\n    const distanceAB_RAD = angleBetweenUnitVectors_RAD( a_UNIT, b_UNIT );\n    const distanceBC_RAD = angleBetweenUnitVectors_RAD( b_UNIT, c_UNIT );\n    const distanceCA_RAD = angleBetweenUnitVectors_RAD( c_UNIT, a_UNIT );\n    if ( distanceAB_RAD === 0.0 || distanceBC_RAD === 0.0 || distanceCA_RAD === 0.0 ) {\n        return false;\n    }\n\n    const gcnAB_UNIT = normalize3( cross3( a_UNIT, b_UNIT ) ) ?? X3;\n    const midpointAB_UNIT = normalize3( rotate3( a_UNIT, 0.5*distanceAB_RAD, gcnAB_UNIT ) ) ?? X3;\n    const distanceCToMidpointAB_RAD = angleBetweenUnitVectors_RAD( c_UNIT, midpointAB_UNIT );\n    if ( distanceCToMidpointAB_RAD === 0.0 ) {\n        return false;\n    }\n\n    const TWO_THIRDS = 2.0 / 3.0;\n    const gcnCToMidpointAB_UNIT = normalize3( cross3( c_UNIT, midpointAB_UNIT ) ) ?? X3;\n    const centroid_UNIT = normalize3( rotate3( c_UNIT, TWO_THIRDS*distanceCToMidpointAB_RAD, gcnCToMidpointAB_UNIT ) ) ?? X3;\n\n    const signumCentroidFromAB = sign( dot3( centroid_UNIT, gcnAB_UNIT ) );\n    const signumPFromAB = sign( dot3( p_UNIT, gcnAB_UNIT ) );\n    if ( signumPFromAB !== signumCentroidFromAB ) {\n        // P and Centroid are on different sides of AB\n        return false;\n    }\n\n    const gcnBC_UNIT = normalize3( cross3( b_UNIT, c_UNIT ) ) ?? X3;\n    const signumCentroidFromBC = sign( dot3( centroid_UNIT, gcnBC_UNIT ) );\n    if ( signumCentroidFromBC !== signumCentroidFromAB ) {\n    // Centroid is not an interior point, presumably due to precision error and triangle degeneracy\n        return false;\n    }\n    const signumPFromBC = sign( dot3( p_UNIT, gcnBC_UNIT ) );\n    if ( signumPFromBC !== signumCentroidFromBC ) {\n        // P and Centroid are on different sides of BC\n        return false;\n    }\n\n    const gcnCA_UNIT = normalize3( cross3( c_UNIT, a_UNIT ) ) ?? X3;\n    const signumCentroidFromCA = sign( dot3( centroid_UNIT, gcnCA_UNIT ) );\n    const signumPFromCA = sign( dot3( p_UNIT, gcnCA_UNIT ) );\n    if ( signumCentroidFromCA !== signumCentroidFromAB ) {\n    // Centroid is not an interior point, presumably due to precision error and triangle degeneracy\n        return false;\n    }\n    if ( signumPFromCA !== signumCentroidFromCA ) {\n        // P and Centroid are on different sides of CA\n        return false;\n    }\n\n    return true;\n}\n\nexport function angleBetweenUnitVectors_RAD( a_UNIT: Xyz, b_UNIT: Xyz ): number {\n    // See http://www.plunk.org/~hatch/rightway.php\n    if ( dot3( a_UNIT, b_UNIT ) < 0.0 ) {\n        return PI - 2.0*asin( 0.5 * norm3( plus3( a_UNIT, b_UNIT ) ) );\n    }\n    else {\n        return 2.0*asin( 0.5 * norm3( minus3( a_UNIT, b_UNIT ) ) );\n    }\n}\n\nexport function plus3( a: Xyz, b: Xyz ): Xyz {\n    const [ ax, ay, az ] = a;\n    const [ bx, by, bz ] = b;\n    return [\n        ax + bx,\n        ay + by,\n        az + bz,\n    ];\n}\n\nexport function minus3( a: Xyz, b: Xyz ): Xyz {\n    const [ ax, ay, az ] = a;\n    const [ bx, by, bz ] = b;\n    return [\n        ax - bx,\n        ay - by,\n        az - bz,\n    ];\n}\n\nexport function norm3( v: Xyz ): number {\n    return sqrt( normSquared3( v ) );\n}\n\nexport function normSquared3( [x,y,z]: Xyz ): number {\n    return ( x*x + y*y + z*z );\n}\n\nexport function dot3( a: Xyz, b: Xyz ): number {\n    const [ ax, ay, az ] = a;\n    const [ bx, by, bz ] = b;\n    return ( ax*bx + ay*by + az*bz );\n}\n\nexport function cross3( a: Xyz, b: Xyz ): Xyz {\n    const [ ax, ay, az ] = a;\n    const [ bx, by, bz ] = b;\n    return [\n        ay*bz - az*by,\n        az*bx - ax*bz,\n        ax*by - ay*bx,\n    ];\n}\n\nexport function normalize3( v: Xyz ): Xyz | undefined {\n    const norm = norm3( v );\n    return ( norm === 0 ? undefined : scale3( v, 1.0 / norm ) );\n}\n\nexport function scale3( [x,y,z]: Xyz, scaleFactor: number ): Xyz {\n    return [\n        scaleFactor * x,\n        scaleFactor * y,\n        scaleFactor * z,\n    ];\n}\n\nexport function negate3( [x,y,z]: Xyz ): Xyz {\n    return [ -x, -y, -z ];\n}\n\nexport function rotate3( [x,y,z]: Xyz, angle_RAD: number, axis: Xyz ): Xyz {\n    const [ux,uy,uz] = requireDefined( normalize3( axis ) );\n    const sinA = sin( angle_RAD );\n    const cosA = cos( angle_RAD );\n    return [\n        ( x *  ( cosA + ux*ux*(1-cosA) )   )  +  ( y * ( ux*uy*(1-cosA) - uz*sinA ) )  +  ( z * ( ux*uz*(1-cosA) + uy*sinA ) ),\n        ( x * ( ux*uy*(1-cosA) + uz*sinA ) )  +  ( y *  ( cosA + uy*uy*(1-cosA) )   )  +  ( z * ( uy*uz*(1-cosA) - ux*sinA ) ),\n        ( x * ( ux*uz*(1-cosA) - uy*sinA ) )  +  ( y * ( uy*uz*(1-cosA) + ux*sinA ) )  +  ( z *  ( cosA + uz*uz*(1-cosA) )   ),\n    ];\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { clamp } from './misc';\nimport { wrapDelta, wrapNear } from './wrap';\nimport { dot3, fromUnitSphereXyz, getGreatCircleNormal, toUnitSphereXyz, Xyz } from './xyz';\n\nconst { acos, atan, cos, log, exp, PI, sin } = Math;\nconst { NEGATIVE_INFINITY, POSITIVE_INFINITY } = Number;\n\nexport const WGS84_EQUATORIAL_RADIUS_METERS = 6378137.0;\nexport const WGS84_EQUATORIAL_CIRCUMFERENCE_METERS = 2*Math.PI * WGS84_EQUATORIAL_RADIUS_METERS;\n\nexport const HALF_PI = 0.5 * PI;\nexport const DEG_TO_RAD = PI / 180.0;\nexport const RAD_TO_DEG = 180.0 / PI;\n\nexport interface NormalCylindricalProjectionDescriptor {\n    type: string;\n    params: Array<unknown>;\n}\n\nexport interface NormalCylindricalProjection {\n    readonly name: string;\n    readonly desc: Readonly<NormalCylindricalProjectionDescriptor>;\n\n    /**\n     * Identifiers of Coordinate Reference Systems whose projected X coord is\n     * a linear function of this projection's X coord, and whose projected Y\n     * coord is a linear function of this projection's Y coord.\n     */\n    readonly compatibleCrsKeys: ReadonlySet<string>;\n\n    readonly originLon_RAD: number;\n    readonly xSpan: number;\n    readonly minUsableY: number;\n    readonly maxUsableY: number;\n\n    xToLon_RAD( x: number ): number;\n    yToLat_RAD( y: number ): number;\n\n    lonToX( lon_RAD: number ): number;\n    latToY( lat_RAD: number ): number;\n\n    /**\n     * Derivative of lat_RAD with respect to dy (i.e. dLat/dY), at the given y.\n     */\n    getDLatDY_RAD( y: number ): number;\n\n    /**\n     * Maximum value of dLat/dY over all y values in [yMin,yMax].\n     */\n    maxDLatDY_RAD( yMin?: number, yMax?: number ): number;\n}\n\nexport class EquirectNormalCylindricalProjection implements NormalCylindricalProjection {\n    readonly compatibleCrsKeys: ReadonlySet<string> = new Set( [\n        'EPSG:4326',\n        'EPSG:4087',\n        'EPSG:32662',\n        'EPSG:32663',\n        'EPSG:54001',\n    ] );\n\n    readonly name: string;\n    readonly desc: Readonly<NormalCylindricalProjectionDescriptor>;\n    readonly xSpan: number;\n    readonly minUsableY: number;\n    readonly maxUsableY: number;\n    protected readonly xToRad: number;\n    protected readonly yToRad: number;\n\n    /**\n     * `radToX` and `radToY` default to `1.0`, which gives coords in radians.\n     * To get coords in degrees, pass `RAD_TO_DEG`.\n     */\n    constructor(\n        readonly originLon_RAD: number = 0.0,\n        readonly radToX: number = 1.0,\n        readonly radToY: number = radToX,\n    ) {\n        this.name = `Equirect[ rad-to-x=${this.radToX}, rad-to-y=${this.radToY}, x-origin=${this.originLon_RAD*this.radToX} ]`;\n        this.desc = Object.freeze( {\n            type: 'Equirect',\n            params: [ originLon_RAD, radToX, radToY ],\n        } );\n        this.xSpan = 2*PI*this.radToX;\n        this.minUsableY = -HALF_PI*this.radToY;\n        this.maxUsableY = +HALF_PI*this.radToY;\n        this.xToRad = 1.0 / this.radToX;\n        this.yToRad = 1.0 / this.radToY;\n    }\n\n    xToLon_RAD( x: number ): number {\n        const x_RAD = x*this.xToRad;\n        return ( this.originLon_RAD + x_RAD );\n    }\n\n    lonToX( lon_RAD: number ): number {\n        const x_RAD = lon_RAD - this.originLon_RAD;\n        return ( x_RAD*this.radToX );\n    }\n\n    yToLat_RAD( y: number ): number {\n        const y_RAD = y*this.yToRad;\n        return y_RAD;\n    }\n\n    latToY( lat_RAD: number ): number {\n        const y_RAD = lat_RAD;\n        return y_RAD*this.radToY;\n    }\n\n    getDLatDY_RAD( y: number ): number {\n        return this.yToRad;\n    }\n\n    maxDLatDY_RAD( ): number {\n        return this.yToRad;\n    }\n}\n\nexport class MercatorNormalCylindricalProjection implements NormalCylindricalProjection {\n    readonly compatibleCrsKeys: ReadonlySet<string> = new Set( [\n        'EPSG:3857',\n        'EPSG:3395',\n        'EPSG:3785',\n        'EPSG:900913',\n        'ESRI:102100',\n        'ESRI:102113',\n        'OSGEO:41001',\n    ] );\n\n    readonly name: string;\n    readonly desc: Readonly<NormalCylindricalProjectionDescriptor>;\n    readonly xSpan: number;\n    readonly minUsableY: number;\n    readonly maxUsableY: number;\n\n    /**\n     * `yCutoff` defaults to `PI`, which is reasonable in practice and makes\n     * the bounds square.\n     */\n    constructor(\n        readonly originLon_RAD: number = 0.0,\n        readonly yCutoff: number = PI,\n    ) {\n        this.name = `Mercator[ lon-origin=${this.originLon_RAD}\\u00B0, y-interval=[-${this.yCutoff},+${this.yCutoff}] ]`;\n        this.desc = Object.freeze( {\n            type: 'Mercator',\n            params: [ originLon_RAD, yCutoff ],\n        } );\n        this.xSpan = 2*PI;\n        this.minUsableY = -1.0 * this.yCutoff;\n        this.maxUsableY = +1.0 * this.yCutoff\n    }\n\n    xToLon_RAD( x: number ): number {\n        return ( this.originLon_RAD + x );\n    }\n\n    lonToX( lon_RAD: number ): number {\n        return ( lon_RAD - this.originLon_RAD );\n    }\n\n    yToLat_RAD( y: number ): number {\n        return ( ( 2.0 * atan( exp( y ) ) ) - HALF_PI );\n    }\n\n    latToY( lat_RAD: number ): number {\n        return log( ( sin( lat_RAD ) + 1.0 ) / cos( lat_RAD ) );\n    }\n\n    getDLatDY_RAD( y: number ): number {\n        const expY = exp( y );\n        return ( ( 2.0 * expY ) / ( 1.0 + expY*expY ) );\n    }\n\n    maxDLatDY_RAD( yMin?: number, yMax?: number ): number {\n        if ( yMin === undefined ) {\n            yMin = NEGATIVE_INFINITY;\n        }\n        if ( yMax === undefined ) {\n            yMax = POSITIVE_INFINITY;\n        }\n\n        // dlat/dy has a global maximum at y=0, and decreases monotonically\n        // as y gets farther from 0 -- so we want to find dlat/dy at the y\n        // value within [yMin,yMax] that is as close as possible to y=0\n        if ( yMin <= 0.0 && 0.0 <= yMax )\n        {\n            // 0  [yMin,yMax], so use y=0\n            //return this.dyToDlat_DEG( 0.0 );\n            return 1.0;\n        }\n        else if ( yMin > 0.0 )\n        {\n            // The closest we can get to y=0 is yMin\n            return this.getDLatDY_RAD( yMin );\n        }\n        else\n        {\n            // The closest we can get to y=0 is yMax\n            return this.getDLatDY_RAD( yMax );\n        }\n    }\n}\n\nexport const EQUIRECT_PROJ_RAD = new EquirectNormalCylindricalProjection( 0.0, 1.0 );\nexport const EQUIRECT_PROJ_DEG = new EquirectNormalCylindricalProjection( 0.0, RAD_TO_DEG );\nexport const MERCATOR_PROJ = new MercatorNormalCylindricalProjection( 0.0 );\n\nexport function builtinProjectionFromDescriptor( desc: NormalCylindricalProjectionDescriptor ): NormalCylindricalProjection {\n    switch ( desc.type ) {\n        case 'Equirect': return new EquirectNormalCylindricalProjection( ...desc.params as ConstructorParameters<typeof EquirectNormalCylindricalProjection> );\n        case 'Mercator': return new MercatorNormalCylindricalProjection( ...desc.params as ConstructorParameters<typeof MercatorNormalCylindricalProjection> );\n        default: throw new Error( `Unrecognized projection type: ${desc.type}` );\n    }\n}\n\nexport interface LatLon {\n    lat_RAD: number;\n    lon_RAD: number;\n}\n\nexport namespace LatLon {\n    export function fromRad( lat_RAD: number, lon_RAD: number ): LatLon {\n        return { lat_RAD, lon_RAD };\n    }\n\n    export function fromDeg( lat_DEG: number, lon_DEG: number ): LatLon {\n        return fromRad( lat_DEG*DEG_TO_RAD, lon_DEG*DEG_TO_RAD );\n    }\n}\n\nexport interface LatLonInterpolatorDescriptor {\n    type: string;\n    params?: Array<unknown>;\n}\n\nexport interface LatLonInterpolator {\n    readonly desc: Readonly<LatLonInterpolatorDescriptor>;\n    getInterpFn( A: LatLon, B: LatLon ): ( fracAB: number ) => LatLon;\n}\n\nexport const SPHERICAL_GREAT_CIRCLE_INTERPOLATOR: LatLonInterpolator = Object.freeze( {\n    desc: {\n        type: 'SphericalGreatCircle',\n    },\n    getInterpFn: ( A: LatLon, B: LatLon ) => {\n        const xyzA = toUnitSphereXyz( A.lat_RAD, A.lon_RAD );\n        const xyzB = toUnitSphereXyz( B.lat_RAD, B.lon_RAD );\n        const distAB_RAD = acos( clamp( -1, +1, dot3( xyzA, xyzB ) ) );\n        const N = getGreatCircleNormal( xyzA, xyzB );\n        if ( !N || distAB_RAD < 1e-8 ) {\n            // A and B are colocated, or close enough to cause precision issues\n            return ( fracAB: number ) => {\n                return ( fracAB <= 0.5 ? A : B );\n            };\n        }\n\n        const [Nx,Ny,Nz] = N;\n        const getXyzOnAB = ( fracAB: number ): Xyz => {\n            const [x,y,z] = xyzA;\n            const dist_RAD = distAB_RAD * fracAB;\n            const sinD = sin( dist_RAD );\n            const cosD = cos( dist_RAD );\n            return [\n                ( x *  ( cosD + Nx*Nx*(1-cosD) )   )  +  ( y * ( Nx*Ny*(1-cosD) - Nz*sinD ) )  +  ( z * ( Nx*Nz*(1-cosD) + Ny*sinD ) ),\n                ( x * ( Nx*Ny*(1-cosD) + Nz*sinD ) )  +  ( y *  ( cosD + Ny*Ny*(1-cosD) )   )  +  ( z * ( Ny*Nz*(1-cosD) - Nx*sinD ) ),\n                ( x * ( Nx*Nz*(1-cosD) - Ny*sinD ) )  +  ( y * ( Ny*Nz*(1-cosD) + Nx*sinD ) )  +  ( z *  ( cosD + Nz*Nz*(1-cosD) )   ),\n            ];\n        };\n\n        return ( fracAB: number ) => {\n            const xyz = getXyzOnAB( fracAB );\n            const [ lat_RAD, lon_RAD ] = fromUnitSphereXyz( xyz );\n            return { lat_RAD, lon_RAD };\n        };\n    },\n} );\n\nexport const SPHERICAL_RHUMB_LINE_INTERPOLATOR: LatLonInterpolator = Object.freeze( {\n    desc: {\n        type: 'SphericalRhumbLine',\n    },\n    getInterpFn: ( A: LatLon, B: LatLon ) => {\n        // TODO: Is there a more efficient way to implement this?\n        const [ xA, yA ] = latLonToXy( MERCATOR_PROJ, A );\n        const [ xRawB, yB ] = latLonToXy( MERCATOR_PROJ, B );\n        const xB = wrapNear( xRawB, xA, MERCATOR_PROJ.xSpan );\n        return ( fracAB: number ) => {\n            const x = xA + fracAB*( xB - xA );\n            const y = yA + fracAB*( yB - yA );\n            return xyToLatLon( MERCATOR_PROJ, [ x, y ] );\n        };\n    },\n} );\n\nexport function builtinInterpFromDescriptor( desc: LatLonInterpolatorDescriptor ): LatLonInterpolator {\n    switch ( desc.type ) {\n        case 'SphericalGreatCircle': return SPHERICAL_GREAT_CIRCLE_INTERPOLATOR;\n        case 'SphericalRhumbLine': return SPHERICAL_RHUMB_LINE_INTERPOLATOR;\n        default: throw new Error( `Unrecognized interpolator type: ${desc.type}` );\n    }\n}\n\nexport type Xy = [ x: number, y: number ];\n\nexport function latLonToXy( proj: NormalCylindricalProjection, p: LatLon ): Xy {\n    return [\n        proj.lonToX( p.lon_RAD ),\n        proj.latToY( p.lat_RAD ),\n    ];\n}\n\nexport function xyToLatLon( proj: NormalCylindricalProjection, xy: Xy ): LatLon {\n    const [ x, y ] = xy;\n    return {\n        lat_RAD: proj.yToLat_RAD( y ),\n        lon_RAD: proj.xToLon_RAD( x ),\n    };\n}\n\nexport function projectLatLonSegment(\n    A: LatLon,\n    B: LatLon,\n    interp: LatLonInterpolator,\n    proj: NormalCylindricalProjection,\n    perceptibleProjDist: number,\n    includeB: boolean,\n): Array<Xy> {\n    const xWrapSpan = proj.xSpan;\n    const perceptibleProjDistSq = perceptibleProjDist*perceptibleProjDist;\n\n    const interpolate = interp.getInterpFn( A, B );\n\n    type PointOnAB = [ frac: number, xProj: number, yProj: number ];\n    const getPointOnAB = ( fracAB: number ): PointOnAB => {\n        const { lat_RAD, lon_RAD } = interpolate( fracAB );\n        const xProj = proj.lonToX( lon_RAD );\n        const yProj = proj.latToY( lat_RAD );\n        return [ fracAB, xProj, yProj ];\n    };\n\n    const appendSamples = ( start: PointOnAB, end: PointOnAB, result_OUT: Array<Xy> ): void => {\n        const [ fracStart, xProjStart, yProjStart ] = start;\n        const [ fracEnd, xProjEnd, yProjEnd ] = end;\n\n        // If proj-start and proj-end are close together, no more subdividing\n        const dx1 = wrapDelta( xProjEnd - xProjStart, xWrapSpan );\n        const dy1 = yProjEnd - yProjStart;\n        const d1sq = dx1*dx1 + dy1*dy1;\n        if ( 0.25*d1sq < perceptibleProjDistSq ) {\n            return;\n        }\n\n        // Compute the midpoint\n        const mid = getPointOnAB( 0.5*( fracStart + fracEnd ) );\n        const [ _, xProjMid, yProjMid ] = mid;\n\n        // Convert proj-midpoint into along-track and across-track components\n        // (i.e. projection onto and rejection from the line between proj-start\n        // and proj-end) ... if its along-track coord is central-ish and its\n        // across-track coord is small, no more subdividing\n        const dx2 = wrapDelta( xProjMid - xProjStart, xWrapSpan );\n        const dy2 = yProjMid - yProjStart;\n        const projectionSq = ( dx1*dx2 + dy1*dy2 )/d1sq;\n        const d1CrossD2 = dx1*dy2 - dx2*dy1;\n        const rejectionSq = ( d1CrossD2 * d1CrossD2 )/d1sq;\n        if ( 0.2 < projectionSq && projectionSq < 0.8 && rejectionSq < perceptibleProjDistSq ) {\n            return;\n        }\n\n        // Recursively subdivide first half and second half\n        appendSamples( start, mid, result_OUT );\n        result_OUT.push( [ xProjMid, yProjMid ] );\n        appendSamples( mid, end, result_OUT );\n    };\n\n    const result = new Array<Xy>( );\n    result.push( latLonToXy( proj, A ) );\n    appendSamples( getPointOnAB( 0 ), getPointOnAB( 1 ), result );\n    if ( includeB ) {\n        result.push( latLonToXy( proj, B ) );\n    }\n    return result;\n}\n","/**\n * MIT License\n * \n * Copyright (c) 2014-present, Lee Byron and other contributors.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nfunction MakeRef() {\n  return { value: false };\n}\n\nfunction SetRef(ref) {\n  if (ref) {\n    ref.value = true;\n  }\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^321.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (\n    ((begin === 0 && !isNeg(begin)) ||\n      (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size))\n  );\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : isNeg(index)\n    ? size === Infinity\n      ? size\n      : Math.max(0, size + index) | 0\n    : size === undefined || size === index\n    ? index\n    : Math.min(size, index) | 0;\n}\n\nfunction isNeg(value) {\n  // Account for -0 which is negative, but not less than 0.\n  return value < 0 || (value === 0 && 1 / value === -Infinity);\n}\n\nvar IS_COLLECTION_SYMBOL = '@@__IMMUTABLE_ITERABLE__@@';\n\nfunction isCollection(maybeCollection) {\n  return Boolean(maybeCollection && maybeCollection[IS_COLLECTION_SYMBOL]);\n}\n\nvar IS_KEYED_SYMBOL = '@@__IMMUTABLE_KEYED__@@';\n\nfunction isKeyed(maybeKeyed) {\n  return Boolean(maybeKeyed && maybeKeyed[IS_KEYED_SYMBOL]);\n}\n\nvar IS_INDEXED_SYMBOL = '@@__IMMUTABLE_INDEXED__@@';\n\nfunction isIndexed(maybeIndexed) {\n  return Boolean(maybeIndexed && maybeIndexed[IS_INDEXED_SYMBOL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = /*@__PURE__*/(function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = /*@__PURE__*/(function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = /*@__PURE__*/(function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar IS_SEQ_SYMBOL = '@@__IMMUTABLE_SEQ__@@';\n\nfunction isSeq(maybeSeq) {\n  return Boolean(maybeSeq && maybeSeq[IS_SEQ_SYMBOL]);\n}\n\nvar IS_RECORD_SYMBOL = '@@__IMMUTABLE_RECORD__@@';\n\nfunction isRecord(maybeRecord) {\n  return Boolean(maybeRecord && maybeRecord[IS_RECORD_SYMBOL]);\n}\n\nfunction isImmutable(maybeImmutable) {\n  return isCollection(maybeImmutable) || isRecord(maybeImmutable);\n}\n\nvar IS_ORDERED_SYMBOL = '@@__IMMUTABLE_ORDERED__@@';\n\nfunction isOrdered(maybeOrdered) {\n  return Boolean(maybeOrdered && maybeOrdered[IS_ORDERED_SYMBOL]);\n}\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = Iterator.prototype.toSource = function () {\n  return this.toString();\n};\nIterator.prototype[ITERATOR_SYMBOL] = function () {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false,\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  if (Array.isArray(maybeIterable)) {\n    // IE11 trick as it does not support `Symbol.iterator`\n    return true;\n  }\n\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn =\n    iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nfunction isEntriesIterable(maybeIterable) {\n  var iteratorFn = getIteratorFn(maybeIterable);\n  return iteratorFn && iteratorFn === maybeIterable.entries;\n}\n\nfunction isKeysIterable(maybeIterable) {\n  var iteratorFn = getIteratorFn(maybeIterable);\n  return iteratorFn && iteratorFn === maybeIterable.keys;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isArrayLike(value) {\n  if (Array.isArray(value) || typeof value === 'string') {\n    return true;\n  }\n\n  return (\n    value &&\n    typeof value === 'object' &&\n    Number.isInteger(value.length) &&\n    value.length >= 0 &&\n    (value.length === 0\n      ? // Only {length: 0} is considered Array-like.\n        Object.keys(value).length === 1\n      : // An object is only Array-like if it has a property where the last value\n        // in the array-like may be found (which could be undefined).\n        value.hasOwnProperty(value.length - 1))\n  );\n}\n\nvar Seq = /*@__PURE__*/(function (Collection) {\n  function Seq(value) {\n    return value === undefined || value === null\n      ? emptySequence()\n      : isImmutable(value)\n      ? value.toSeq()\n      : seqFromValue(value);\n  }\n\n  if ( Collection ) Seq.__proto__ = Collection;\n  Seq.prototype = Object.create( Collection && Collection.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = /*@__PURE__*/(function (Seq) {\n  function KeyedSeq(value) {\n    return value === undefined || value === null\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n      ? isKeyed(value)\n        ? value.toSeq()\n        : value.fromEntrySeq()\n      : isRecord(value)\n      ? value.toSeq()\n      : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = /*@__PURE__*/(function (Seq) {\n  function IndexedSeq(value) {\n    return value === undefined || value === null\n      ? emptySequence()\n      : isCollection(value)\n      ? isKeyed(value)\n        ? value.entrySeq()\n        : value.toIndexedSeq()\n      : isRecord(value)\n      ? value.toSeq().entrySeq()\n      : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = /*@__PURE__*/(function (Seq) {\n  function SetSeq(value) {\n    return (\n      isCollection(value) && !isAssociative(value) ? value : IndexedSeq(value)\n    ).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nSeq.prototype[IS_SEQ_SYMBOL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = /*@__PURE__*/(function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = /*@__PURE__*/(function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object).concat(\n      Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols(object) : []\n    );\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return hasOwnProperty.call(this._object, key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar CollectionSeq = /*@__PURE__*/(function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return isEntriesIterable(value)\n      ? seq.fromEntrySeq()\n      : isKeysIterable(value)\n      ? seq.toSetSeq()\n      : seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : hasIterator(value)\n    ? new CollectionSeq(value)\n    : undefined;\n}\n\nvar IS_MAP_SYMBOL = '@@__IMMUTABLE_MAP__@@';\n\nfunction isMap(maybeMap) {\n  return Boolean(maybeMap && maybeMap[IS_MAP_SYMBOL]);\n}\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nfunction isValueObject(maybeValue) {\n  return Boolean(\n    maybeValue &&\n      typeof maybeValue.equals === 'function' &&\n      typeof maybeValue.hashCode === 'function'\n  );\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' &&\n    typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(\n    isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB)\n  );\n}\n\nvar imul =\n  typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2\n    ? Math.imul\n    : function imul(a, b) {\n        a |= 0; // int\n        b |= 0; // int\n        var c = a & 0xffff;\n        var d = b & 0xffff;\n        // Shift by 0 fixes the sign on the high part.\n        return (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) | 0; // int\n      };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return ((i32 >>> 1) & 0x40000000) | (i32 & 0xbfffffff);\n}\n\nvar defaultValueOf = Object.prototype.valueOf;\n\nfunction hash(o) {\n  if (o == null) {\n    return hashNullish(o);\n  }\n\n  if (typeof o.hashCode === 'function') {\n    // Drop any high bits from accidentally long hash codes.\n    return smi(o.hashCode(o));\n  }\n\n  var v = valueOf(o);\n\n  if (v == null) {\n    return hashNullish(v);\n  }\n\n  switch (typeof v) {\n    case 'boolean':\n      // The hash values for built-in constants are a 1 value for each 5-byte\n      // shift region expect for the first, which encodes the value. This\n      // reduces the odds of a hash collision for these common values.\n      return v ? 0x42108421 : 0x42108420;\n    case 'number':\n      return hashNumber(v);\n    case 'string':\n      return v.length > STRING_HASH_CACHE_MIN_STRLEN\n        ? cachedHashString(v)\n        : hashString(v);\n    case 'object':\n    case 'function':\n      return hashJSObj(v);\n    case 'symbol':\n      return hashSymbol(v);\n    default:\n      if (typeof v.toString === 'function') {\n        return hashString(v.toString());\n      }\n      throw new Error('Value type ' + typeof v + ' cannot be hashed.');\n  }\n}\n\nfunction hashNullish(nullish) {\n  return nullish === null ? 0x42108422 : /* undefined */ 0x42108423;\n}\n\n// Compress arbitrarily large numbers into smi hashes.\nfunction hashNumber(n) {\n  if (n !== n || n === Infinity) {\n    return 0;\n  }\n  var hash = n | 0;\n  if (hash !== n) {\n    hash ^= n * 0xffffffff;\n  }\n  while (n > 0xffffffff) {\n    n /= 0xffffffff;\n    hash ^= n;\n  }\n  return smi(hash);\n}\n\nfunction cachedHashString(string) {\n  var hashed = stringHashCache[string];\n  if (hashed === undefined) {\n    hashed = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hashed;\n  }\n  return hashed;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hashed = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hashed = (31 * hashed + string.charCodeAt(ii)) | 0;\n  }\n  return smi(hashed);\n}\n\nfunction hashSymbol(sym) {\n  var hashed = symbolMap[sym];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  hashed = nextHash();\n\n  symbolMap[sym] = hashed;\n\n  return hashed;\n}\n\nfunction hashJSObj(obj) {\n  var hashed;\n  if (usingWeakMap) {\n    hashed = weakMap.get(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = obj[UID_HASH_KEY];\n  if (hashed !== undefined) {\n    return hashed;\n  }\n\n  if (!canDefineProperty) {\n    hashed = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    hashed = getIENodeHash(obj);\n    if (hashed !== undefined) {\n      return hashed;\n    }\n  }\n\n  hashed = nextHash();\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hashed);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hashed,\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function () {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hashed;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hashed;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hashed;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function () {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\nfunction valueOf(obj) {\n  return obj.valueOf !== defaultValueOf && typeof obj.valueOf === 'function'\n    ? obj.valueOf(obj)\n    : obj;\n}\n\nfunction nextHash() {\n  var nextHash = ++_objHashUID;\n  if (_objHashUID & 0x40000000) {\n    _objHashUID = 0;\n  }\n  return nextHash;\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar symbolMap = Object.create(null);\n\nvar _objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = /*@__PURE__*/(function (KeyedSeq) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq ) ToKeyedSequence.__proto__ = KeyedSeq;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SYMBOL] = true;\n\nvar ToIndexedSequence = /*@__PURE__*/(function (IndexedSeq) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq ) ToIndexedSequence.__proto__ = IndexedSeq;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1$1.size - ++i : i++, this$1$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = /*@__PURE__*/(function (SetSeq) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq ) ToSetSequence.__proto__ = SetSeq;\n  ToSetSequence.prototype = Object.create( SetSeq && SetSeq.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = /*@__PURE__*/(function (KeyedSeq) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq ) FromEntriesSequence.__proto__ = KeyedSeq;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._iter.__iterate(function (entry) {\n      // Check if entry exists first so array access doesn't throw for holes\n      // in the parent iteration.\n      if (entry) {\n        validateEntry(entry);\n        var indexedCollection = isCollection(entry);\n        return fn(\n          indexedCollection ? entry.get(1) : entry[1],\n          indexedCollection ? entry.get(0) : entry[0],\n          this$1$1\n        );\n      }\n    }, reverse);\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function () {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function (type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function (type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function () {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function (fn, reverse) {\n    var this$1$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1$1.size - ++i : i++, this$1$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1$1);\n      }\n    }, reverse);\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function (type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); }).asImmutable();\n}\n\nfunction partitionFactory(collection, predicate, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = [[], []];\n  collection.__iterate(function (v, k) {\n    groups[predicate.call(context, v, k, collection) ? 1 : 0].push(\n      isKeyedIter ? [k, v] : v\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); });\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size =\n    sliceSize === 0 ? sliceSize : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function (index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return (\n          fn(v, useKeys ? k : iterations - 1, this$1$1) !== false &&\n          iterations !== sliceSize\n        );\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function (type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    if (sliceSize === 0) {\n      return new Iterator(iteratorDone);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES || step.done) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function (type, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function (type, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(function (sum, seq) {\n    if (sum !== undefined) {\n      var size = seq.size;\n      if (size !== undefined) {\n        return sum + size;\n      }\n    }\n  }, 0);\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function (fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(function (v, k) {\n        if ((!depth || currentDepth < depth) && isCollection(v)) {\n          flatDeep(v, currentDepth + 1);\n        } else {\n          iterations++;\n          if (fn(v, useKeys ? k : iterations - 1, flatSequence) === false) {\n            stopped = true;\n          }\n        }\n        return !stopped;\n      }, reverse);\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function (fn, reverse) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1$1) !== false) &&\n        fn(v, iterations++, this$1$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function (type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .valueSeq()\n    .toArray();\n  entries\n    .sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; })\n    .forEach(\n      isKeyedCollection\n        ? function (v, i) {\n            entries[i].length = 2;\n          }\n        : function (v, i) {\n            entries[i] = v[1];\n          }\n    );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection)\n    ? IndexedSeq(entries)\n    : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return (maxCompare(comparator, a[1], b[1]) ? b : a); });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return (maxCompare(comparator, a, b) ? b : a); });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (\n    (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) ||\n    comp > 0\n  );\n}\n\nfunction zipWithFactory(keyIter, zipper, iters, zipAll) {\n  var zipSequence = makeSequence(keyIter);\n  var sizes = new ArraySeq(iters).map(function (i) { return i.size; });\n  zipSequence.size = zipAll ? sizes.max() : sizes.min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function (fn, reverse) {\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function (type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = zipAll ? steps.every(function (s) { return s.done; }) : steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(\n          null,\n          steps.map(function (s) { return s.value; })\n        )\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection)\n    ? IndexedCollection\n    : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection)\n      ? IndexedSeq\n      : SetSeq\n    ).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nvar toString = Object.prototype.toString;\n\nfunction isPlainObject(value) {\n  // The base prototype's toString deals with Argument objects and native namespaces like Math\n  if (\n    !value ||\n    typeof value !== 'object' ||\n    toString.call(value) !== '[object Object]'\n  ) {\n    return false;\n  }\n\n  var proto = Object.getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n\n  // Iteratively going up the prototype chain is needed for cross-realm environments (differing contexts, iframes, etc)\n  var parentProto = proto;\n  var nextProto = Object.getPrototypeOf(proto);\n  while (nextProto !== null) {\n    parentProto = nextProto;\n    nextProto = Object.getPrototypeOf(parentProto);\n  }\n  return parentProto === proto;\n}\n\n/**\n * Returns true if the value is a potentially-persistent data structure, either\n * provided by Immutable.js or a plain Array or Object.\n */\nfunction isDataStructure(value) {\n  return (\n    typeof value === 'object' &&\n    (isImmutable(value) || Array.isArray(value) || isPlainObject(value))\n  );\n}\n\nfunction quoteString(value) {\n  try {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  } catch (_ignoreError) {\n    return JSON.stringify(value);\n  }\n}\n\nfunction has(collection, key) {\n  return isImmutable(collection)\n    ? collection.has(key)\n    : isDataStructure(collection) && hasOwnProperty.call(collection, key);\n}\n\nfunction get(collection, key, notSetValue) {\n  return isImmutable(collection)\n    ? collection.get(key, notSetValue)\n    : !has(collection, key)\n    ? notSetValue\n    : typeof collection.get === 'function'\n    ? collection.get(key)\n    : collection[key];\n}\n\nfunction shallowCopy(from) {\n  if (Array.isArray(from)) {\n    return arrCopy(from);\n  }\n  var to = {};\n  for (var key in from) {\n    if (hasOwnProperty.call(from, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\n\nfunction remove(collection, key) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.remove) {\n      throw new TypeError(\n        'Cannot update immutable value without .remove() method: ' + collection\n      );\n    }\n    return collection.remove(key);\n  }\n  if (!hasOwnProperty.call(collection, key)) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  if (Array.isArray(collectionCopy)) {\n    collectionCopy.splice(key, 1);\n  } else {\n    delete collectionCopy[key];\n  }\n  return collectionCopy;\n}\n\nfunction set(collection, key, value) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot update non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    if (!collection.set) {\n      throw new TypeError(\n        'Cannot update immutable value without .set() method: ' + collection\n      );\n    }\n    return collection.set(key, value);\n  }\n  if (hasOwnProperty.call(collection, key) && value === collection[key]) {\n    return collection;\n  }\n  var collectionCopy = shallowCopy(collection);\n  collectionCopy[key] = value;\n  return collectionCopy;\n}\n\nfunction updateIn$1(collection, keyPath, notSetValue, updater) {\n  if (!updater) {\n    updater = notSetValue;\n    notSetValue = undefined;\n  }\n  var updatedValue = updateInDeeply(\n    isImmutable(collection),\n    collection,\n    coerceKeyPath(keyPath),\n    0,\n    notSetValue,\n    updater\n  );\n  return updatedValue === NOT_SET ? notSetValue : updatedValue;\n}\n\nfunction updateInDeeply(\n  inImmutable,\n  existing,\n  keyPath,\n  i,\n  notSetValue,\n  updater\n) {\n  var wasNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = wasNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!wasNotSet && !isDataStructure(existing)) {\n    throw new TypeError(\n      'Cannot update within non-data-structure value in path [' +\n        keyPath.slice(0, i).map(quoteString) +\n        ']: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = wasNotSet ? NOT_SET : get(existing, key, NOT_SET);\n  var nextUpdated = updateInDeeply(\n    nextExisting === NOT_SET ? inImmutable : isImmutable(nextExisting),\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n    ? remove(existing, key)\n    : set(\n        wasNotSet ? (inImmutable ? emptyMap() : {}) : existing,\n        key,\n        nextUpdated\n      );\n}\n\nfunction setIn$1(collection, keyPath, value) {\n  return updateIn$1(collection, keyPath, NOT_SET, function () { return value; });\n}\n\nfunction setIn(keyPath, v) {\n  return setIn$1(this, keyPath, v);\n}\n\nfunction removeIn(collection, keyPath) {\n  return updateIn$1(collection, keyPath, function () { return NOT_SET; });\n}\n\nfunction deleteIn(keyPath) {\n  return removeIn(this, keyPath);\n}\n\nfunction update$1(collection, key, notSetValue, updater) {\n  return updateIn$1(collection, [key], notSetValue, updater);\n}\n\nfunction update(key, notSetValue, updater) {\n  return arguments.length === 1\n    ? key(this)\n    : update$1(this, key, notSetValue, updater);\n}\n\nfunction updateIn(keyPath, notSetValue, updater) {\n  return updateIn$1(this, keyPath, notSetValue, updater);\n}\n\nfunction merge$1() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeIntoKeyedWith(this, iters);\n}\n\nfunction mergeWith$1(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  if (typeof merger !== 'function') {\n    throw new TypeError('Invalid merger function: ' + merger);\n  }\n  return mergeIntoKeyedWith(this, iters, merger);\n}\n\nfunction mergeIntoKeyedWith(collection, collections, merger) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var collection$1 = KeyedCollection(collections[ii]);\n    if (collection$1.size !== 0) {\n      iters.push(collection$1);\n    }\n  }\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (\n    collection.toSeq().size === 0 &&\n    !collection.__ownerID &&\n    iters.length === 1\n  ) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoCollection = merger\n      ? function (value, key) {\n          update$1(collection, key, NOT_SET, function (oldVal) { return oldVal === NOT_SET ? value : merger(oldVal, value, key); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoCollection);\n    }\n  });\n}\n\nfunction merge(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeWithSources(collection, sources);\n}\n\nfunction mergeWith(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeWithSources(collection, sources, merger);\n}\n\nfunction mergeDeep$1(collection) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(collection, sources);\n}\n\nfunction mergeDeepWith$1(merger, collection) {\n  var sources = [], len = arguments.length - 2;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n  return mergeDeepWithSources(collection, sources, merger);\n}\n\nfunction mergeDeepWithSources(collection, sources, merger) {\n  return mergeWithSources(collection, sources, deepMergerWith(merger));\n}\n\nfunction mergeWithSources(collection, sources, merger) {\n  if (!isDataStructure(collection)) {\n    throw new TypeError(\n      'Cannot merge into non-data-structure value: ' + collection\n    );\n  }\n  if (isImmutable(collection)) {\n    return typeof merger === 'function' && collection.mergeWith\n      ? collection.mergeWith.apply(collection, [ merger ].concat( sources ))\n      : collection.merge\n      ? collection.merge.apply(collection, sources)\n      : collection.concat.apply(collection, sources);\n  }\n  var isArray = Array.isArray(collection);\n  var merged = collection;\n  var Collection = isArray ? IndexedCollection : KeyedCollection;\n  var mergeItem = isArray\n    ? function (value) {\n        // Copy on write\n        if (merged === collection) {\n          merged = shallowCopy(merged);\n        }\n        merged.push(value);\n      }\n    : function (value, key) {\n        var hasVal = hasOwnProperty.call(merged, key);\n        var nextVal =\n          hasVal && merger ? merger(merged[key], value, key) : value;\n        if (!hasVal || nextVal !== merged[key]) {\n          // Copy on write\n          if (merged === collection) {\n            merged = shallowCopy(merged);\n          }\n          merged[key] = nextVal;\n        }\n      };\n  for (var i = 0; i < sources.length; i++) {\n    Collection(sources[i]).forEach(mergeItem);\n  }\n  return merged;\n}\n\nfunction deepMergerWith(merger) {\n  function deepMerger(oldValue, newValue, key) {\n    return isDataStructure(oldValue) &&\n      isDataStructure(newValue) &&\n      areMergeable(oldValue, newValue)\n      ? mergeWithSources(oldValue, [newValue], deepMerger)\n      : merger\n      ? merger(oldValue, newValue, key)\n      : newValue;\n  }\n  return deepMerger;\n}\n\n/**\n * It's unclear what the desired behavior is for merging two collections that\n * fall into separate categories between keyed, indexed, or set-like, so we only\n * consider them mergeable if they fall into the same category.\n */\nfunction areMergeable(oldDataStructure, newDataStructure) {\n  var oldSeq = Seq(oldDataStructure);\n  var newSeq = Seq(newDataStructure);\n  // This logic assumes that a sequence can only fall into one of the three\n  // categories mentioned above (since there's no `isSetLike()` method).\n  return (\n    isIndexed(oldSeq) === isIndexed(newSeq) &&\n    isKeyed(oldSeq) === isKeyed(newSeq)\n  );\n}\n\nfunction mergeDeep() {\n  var iters = [], len = arguments.length;\n  while ( len-- ) iters[ len ] = arguments[ len ];\n\n  return mergeDeepWithSources(this, iters);\n}\n\nfunction mergeDeepWith(merger) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return mergeDeepWithSources(this, iters, merger);\n}\n\nfunction mergeIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn$1(this, keyPath, emptyMap(), function (m) { return mergeWithSources(m, iters); });\n}\n\nfunction mergeDeepIn(keyPath) {\n  var iters = [], len = arguments.length - 1;\n  while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n  return updateIn$1(this, keyPath, emptyMap(), function (m) { return mergeDeepWithSources(m, iters); }\n  );\n}\n\nfunction withMutations(fn) {\n  var mutable = this.asMutable();\n  fn(mutable);\n  return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n}\n\nfunction asMutable() {\n  return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n}\n\nfunction asImmutable() {\n  return this.__ensureOwner();\n}\n\nfunction wasAltered() {\n  return this.__altered;\n}\n\nvar Map = /*@__PURE__*/(function (KeyedCollection) {\n  function Map(value) {\n    return value === undefined || value === null\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n      ? value\n      : emptyMap().withMutations(function (map) {\n          var iter = KeyedCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v, k) { return map.set(k, v); });\n        });\n  }\n\n  if ( KeyedCollection ) Map.__proto__ = KeyedCollection;\n  Map.prototype = Object.create( KeyedCollection && KeyedCollection.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  Map.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    return this.withMutations(function (map) {\n      map.forEach(function (value, key) {\n        map.set(key, mapper.call(context, value, key, this$1$1));\n      });\n    });\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(function (entry) {\n        iterations++;\n        return fn(entry[1], entry[0], this$1$1);\n      }, reverse);\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nMap.isMap = isMap;\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SYMBOL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeAll = MapPrototype.deleteAll;\nMapPrototype.setIn = setIn;\nMapPrototype.removeIn = MapPrototype.deleteIn = deleteIn;\nMapPrototype.update = update;\nMapPrototype.updateIn = updateIn;\nMapPrototype.merge = MapPrototype.concat = merge$1;\nMapPrototype.mergeWith = mergeWith$1;\nMapPrototype.mergeDeep = mergeDeep;\nMapPrototype.mergeDeepWith = mergeDeepWith;\nMapPrototype.mergeIn = mergeIn;\nMapPrototype.mergeDeepIn = mergeDeepIn;\nMapPrototype.withMutations = withMutations;\nMapPrototype.wasAltered = wasAltered;\nMapPrototype.asImmutable = asImmutable;\nMapPrototype['@@transducer/init'] = MapPrototype.asMutable = asMutable;\nMapPrototype['@@transducer/step'] = function (result, arr) {\n  return result.set(arr[0], arr[1]);\n};\nMapPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & (bit - 1))].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & (bit - 1));\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists &&\n    !newNode &&\n    nodes.length === 2 &&\n    isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? (newNode ? bitmap : bitmap ^ bit) : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n      ? setAt(nodes, idx, newNode, isEditable)\n      : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setAt(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate =\n  function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  };\n\nBitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate =\n  function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  };\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function (fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = /*@__PURE__*/(function (Iterator) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator ) MapIterator.__proto__ = Iterator;\n  MapIterator.prototype = Object.create( Iterator && Iterator.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = this._stack = mapIteratorFrame(subNode, stack);\n          }\n          continue;\n        }\n      }\n      stack = this._stack = this._stack.__prev;\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev,\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef();\n    var didAlter = MakeRef();\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? (v === NOT_SET ? -1 : 1) : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return (\n    node.constructor === ValueNode || node.constructor === HashCollisionNode\n  );\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes =\n    idx1 === idx2\n      ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n      : ((newNode = new ValueNode(ownerID, keyHash, entry)),\n        idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction popCount(x) {\n  x -= (x >> 1) & 0x55555555;\n  x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n  x = (x + (x >> 4)) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setAt(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar IS_LIST_SYMBOL = '@@__IMMUTABLE_LIST__@@';\n\nfunction isList(maybeList) {\n  return Boolean(maybeList && maybeList[IS_LIST_SYMBOL]);\n}\n\nvar List = /*@__PURE__*/(function (IndexedCollection) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === undefined || value === null) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection ) List.__proto__ = IndexedCollection;\n  List.prototype = Object.create( IndexedCollection && IndexedCollection.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n      ? this.shift()\n      : index === this.size - 1\n      ? this.pop()\n      : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = this._origin = this._capacity = 0;\n      this._level = SHIFT;\n      this._root = this._tail = this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.concat = function concat (/*...collections*/) {\n    var arguments$1 = arguments;\n\n    var seqs = [];\n    for (var i = 0; i < arguments.length; i++) {\n      var argument = arguments$1[i];\n      var seq = IndexedCollection(\n        typeof argument !== 'string' && hasIterator(argument)\n          ? argument\n          : [argument]\n      );\n      if (seq.size !== 0) {\n        seqs.push(seq);\n      }\n    }\n    if (seqs.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && seqs.length === 1) {\n      return this.constructor(seqs[0]);\n    }\n    return this.withMutations(function (list) {\n      seqs.forEach(function (seq) { return seq.forEach(function (value) { return list.push(value); }); });\n    });\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  List.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    return this.withMutations(function (list) {\n      for (var i = 0; i < this$1$1.size; i++) {\n        list.set(i, mapper.call(context, list.get(i), i, this$1$1));\n      }\n    });\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nList.isList = isList;\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SYMBOL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.merge = ListPrototype.concat;\nListPrototype.setIn = setIn;\nListPrototype.deleteIn = ListPrototype.removeIn = deleteIn;\nListPrototype.update = update;\nListPrototype.updateIn = updateIn;\nListPrototype.mergeIn = mergeIn;\nListPrototype.mergeDeepIn = mergeDeepIn;\nListPrototype.withMutations = withMutations;\nListPrototype.wasAltered = wasAltered;\nListPrototype.asImmutable = asImmutable;\nListPrototype['@@transducer/init'] = ListPrototype.asMutable = asMutable;\nListPrototype['@@transducer/step'] = function (result, arr) {\n  return result.push(arr);\n};\nListPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : this.array.length === 0) {\n    return this;\n  }\n  var originIndex = (index >>> level) & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild =\n      oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = ((index - 1) >>> level) & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild =\n      oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : (left - offset) >> level;\n    var to = ((right - offset) >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef();\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = (index >>> level) & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  if (didAlter) {\n    SetRef(didAlter);\n  }\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << (list._level + SHIFT)) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[(rawIndex >>> level) & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity =\n    end === undefined\n      ? oldCapacity\n      : end < 0\n      ? oldCapacity + end\n      : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail =\n    newTailOffset < oldTailOffset\n      ? listNodeFor(list, newCapacity - 1)\n      : newTailOffset > oldTailOffset\n      ? new VNode([], owner)\n      : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = (oldTailOffset >>> level) & MASK;\n      node = node.array[idx] = editableVNode(node.array[idx], owner);\n    }\n    node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = (newOrigin >>> newLevel) & MASK;\n      if ((beginIndex !== newTailOffset >>> newLevel) & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : ((size - 1) >>> SHIFT) << SHIFT;\n}\n\nvar OrderedMap = /*@__PURE__*/(function (Map) {\n  function OrderedMap(value) {\n    return value === undefined || value === null\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n      ? value\n      : emptyOrderedMap().withMutations(function (map) {\n          var iter = KeyedCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v, k) { return map.set(k, v); });\n        });\n  }\n\n  if ( Map ) OrderedMap.__proto__ = Map;\n  OrderedMap.prototype = Object.create( Map && Map.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      this.__altered = true;\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SYMBOL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  omap.__altered = false;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return (\n    EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()))\n  );\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList\n        .toKeyedSeq()\n        .map(function (entry) { return entry[0]; })\n        .flip()\n        .toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    omap.__altered = true;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar IS_STACK_SYMBOL = '@@__IMMUTABLE_STACK__@@';\n\nfunction isStack(maybeStack) {\n  return Boolean(maybeStack && maybeStack[IS_STACK_SYMBOL]);\n}\n\nvar Stack = /*@__PURE__*/(function (IndexedCollection) {\n  function Stack(value) {\n    return value === undefined || value === null\n      ? emptyStack()\n      : isStack(value)\n      ? value\n      : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection ) Stack.__proto__ = IndexedCollection;\n  Stack.prototype = Object.create( IndexedCollection && IndexedCollection.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head,\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(function (value) {\n      newSize++;\n      head = {\n        value: value,\n        next: head,\n      };\n    }, /* reverse */ true);\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nStack.isStack = isStack;\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SYMBOL] = true;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\nStackPrototype.withMutations = withMutations;\nStackPrototype.wasAltered = wasAltered;\nStackPrototype.asImmutable = asImmutable;\nStackPrototype['@@transducer/init'] = StackPrototype.asMutable = asMutable;\nStackPrototype['@@transducer/step'] = function (result, arr) {\n  return result.unshift(arr);\n};\nStackPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nvar IS_SET_SYMBOL = '@@__IMMUTABLE_SET__@@';\n\nfunction isSet(maybeSet) {\n  return Boolean(maybeSet && maybeSet[IS_SET_SYMBOL]);\n}\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return (\n      b.every(function (v, k) {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done\n    );\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped\n        ? !is(v, a.get(k, NOT_SET))\n        : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nfunction toJS(value) {\n  if (!value || typeof value !== 'object') {\n    return value;\n  }\n  if (!isCollection(value)) {\n    if (!isDataStructure(value)) {\n      return value;\n    }\n    value = Seq(value);\n  }\n  if (isKeyed(value)) {\n    var result$1 = {};\n    value.__iterate(function (v, k) {\n      result$1[k] = toJS(v);\n    });\n    return result$1;\n  }\n  var result = [];\n  value.__iterate(function (v) {\n    result.push(toJS(v));\n  });\n  return result;\n}\n\nvar Set = /*@__PURE__*/(function (SetCollection) {\n  function Set(value) {\n    return value === undefined || value === null\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n      ? value\n      : emptySet().withMutations(function (set) {\n          var iter = SetCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v) { return set.add(v); });\n        });\n  }\n\n  if ( SetCollection ) Set.__proto__ = SetCollection;\n  Set.prototype = Object.create( SetCollection && SetCollection.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, value));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.map = function map (mapper, context) {\n    var this$1$1 = this;\n\n    // keep track if the set is altered by the map function\n    var didChanges = false;\n\n    var newMap = updateSet(\n      this,\n      this._map.mapEntries(function (ref) {\n        var v = ref[1];\n\n        var mapped = mapper.call(context, v, v, this$1$1);\n\n        if (mapped !== v) {\n          didChanges = true;\n        }\n\n        return [mapped, mapped];\n      }, context)\n    );\n\n    return didChanges ? newMap : this;\n  };\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        if (typeof iters[ii] === 'string') {\n          set.add(iters[ii]);\n        } else {\n          SetCollection(iters[ii]).forEach(function (value) { return set.add(value); });\n        }\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1$1 = this;\n\n    return this._map.__iterate(function (k) { return fn(k, k, this$1$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return this.__empty();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nSet.isSet = isSet;\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SYMBOL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.merge = SetPrototype.concat = SetPrototype.union;\nSetPrototype.withMutations = withMutations;\nSetPrototype.asImmutable = asImmutable;\nSetPrototype['@@transducer/init'] = SetPrototype.asMutable = asMutable;\nSetPrototype['@@transducer/step'] = function (result, arr) {\n  return result.add(arr);\n};\nSetPrototype['@@transducer/result'] = function (obj) {\n  return obj.asImmutable();\n};\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0\n    ? set.__empty()\n    : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = /*@__PURE__*/(function (IndexedSeq) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq ) Range.__proto__ = IndexedSeq;\n  Range.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return (\n      'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]'\n    );\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return (\n      possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex)\n    );\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\nfunction getIn$1(collection, searchKeyPath, notSetValue) {\n  var keyPath = coerceKeyPath(searchKeyPath);\n  var i = 0;\n  while (i !== keyPath.length) {\n    collection = get(collection, keyPath[i++], NOT_SET);\n    if (collection === NOT_SET) {\n      return notSetValue;\n    }\n  }\n  return collection;\n}\n\nfunction getIn(searchKeyPath, notSetValue) {\n  return getIn$1(this, searchKeyPath, notSetValue);\n}\n\nfunction hasIn$1(collection, keyPath) {\n  return getIn$1(collection, keyPath, NOT_SET) !== NOT_SET;\n}\n\nfunction hasIn(searchKeyPath) {\n  return hasIn$1(this, searchKeyPath);\n}\n\nfunction toObject() {\n  assertNotInfinite(this.size);\n  var object = {};\n  this.__iterate(function (v, k) {\n    object[k] = v;\n  });\n  return object;\n}\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    var useTuples = isKeyed(this);\n    var i = 0;\n    this.__iterate(function (v, k) {\n      // Keyed collections produce an array of tuples.\n      array[i++] = useTuples ? [k, v] : v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return toJS(this);\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: toObject,\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this)\n      ? this.toKeyedSeq()\n      : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return (\n      head +\n      ' ' +\n      this.toSeq().map(this.__toStringMapper).join(', ') +\n      ' ' +\n      tail\n    );\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  partition: function partition(predicate, context) {\n    return partitionFactory(this, predicate, context);\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection.toSeq().map(entryMapper).toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq().reverse().findKey(predicate, context);\n  },\n\n  first: function first(notSetValue) {\n    return this.find(returnTrue, null, notSetValue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: getIn,\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: hasIn,\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq().map(keyMapper).toIndexedSeq();\n  },\n\n  last: function last(notSetValue) {\n    return this.toSeq().reverse().first(notSetValue);\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq().reverse().keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  },\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_COLLECTION_SYMBOL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = CollectionPrototype.toSource = function () {\n  return this.toString();\n};\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1$1 = this;\n\n    return reify(\n      this,\n      this.toSeq()\n        .flip()\n        .map(function (k, v) { return mapper.call(context, k, v, this$1$1); })\n        .flip()\n    );\n  },\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SYMBOL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first(notSetValue) {\n    return this.get(0, notSetValue);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      this.size === Infinity ||\n      (this.size !== undefined && index > this.size)\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return (\n      index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1)\n    );\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last(notSetValue) {\n    return this.get(-1, notSetValue);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipAll: function zipAll(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections, true));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  },\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SYMBOL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SYMBOL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  },\n});\n\nvar SetCollectionPrototype = SetCollection.prototype;\nSetCollectionPrototype.has = CollectionPrototype.includes;\nSetCollectionPrototype.contains = SetCollectionPrototype.includes;\nSetCollectionPrototype.keys = SetCollectionPrototype.values;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollectionPrototype);\nmixin(IndexedSeq, IndexedCollectionPrototype);\nmixin(SetSeq, SetCollectionPrototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(function (v, k, c) {\n    if (useFirst) {\n      useFirst = false;\n      reduction = v;\n    } else {\n      reduction = reducer.call(context, reduction, v, k, c);\n    }\n  }, reverse);\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction not(predicate) {\n  return function () {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function () {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n        ? function (v, k) {\n            h = (31 * h + hashMerge(hash(v), hash(k))) | 0;\n          }\n        : function (v, k) {\n            h = (h + hashMerge(hash(v), hash(k))) | 0;\n          }\n      : ordered\n      ? function (v) {\n          h = (31 * h + hash(v)) | 0;\n        }\n      : function (v) {\n          h = (h + hash(v)) | 0;\n        }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul((h << 15) | (h >>> -15), 0x1b873593);\n  h = imul((h << 13) | (h >>> -13), 5);\n  h = ((h + 0xe6546b64) | 0) ^ size;\n  h = imul(h ^ (h >>> 16), 0x85ebca6b);\n  h = imul(h ^ (h >>> 13), 0xc2b2ae35);\n  h = smi(h ^ (h >>> 16));\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return (a ^ (b + 0x9e3779b9 + (a << 6) + (a >> 2))) | 0; // int\n}\n\nvar OrderedSet = /*@__PURE__*/(function (Set) {\n  function OrderedSet(value) {\n    return value === undefined || value === null\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n      ? value\n      : emptyOrderedSet().withMutations(function (set) {\n          var iter = SetCollection(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function (v) { return set.add(v); });\n        });\n  }\n\n  if ( Set ) OrderedSet.__proto__ = Set;\n  OrderedSet.prototype = Object.create( Set && Set.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SYMBOL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\nOrderedSetPrototype.zipAll = IndexedCollectionPrototype.zipAll;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return (\n    EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()))\n  );\n}\n\nvar PairSorting = {\n  LeftThenRight: -1,\n  RightThenLeft: +1,\n};\n\nfunction throwOnInvalidDefaultValues(defaultValues) {\n  if (isRecord(defaultValues)) {\n    throw new Error(\n      'Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.'\n    );\n  }\n\n  if (isImmutable(defaultValues)) {\n    throw new Error(\n      'Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.'\n    );\n  }\n\n  if (defaultValues === null || typeof defaultValues !== 'object') {\n    throw new Error(\n      'Can not call `Record` with a non-object as default values. Use a plain javascript object instead.'\n    );\n  }\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  throwOnInvalidDefaultValues(defaultValues);\n\n  var RecordType = function Record(values) {\n    var this$1$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      // Deprecated: left to attempt not to break any external code which\n      // relies on a ._name property existing on record instances.\n      // Use Record.getDescriptiveName() instead\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1$1._indices[k], v === this$1$1._defaultValues[k] ? undefined : v);\n      });\n    });\n    return this;\n  };\n\n  var RecordTypePrototype = (RecordType.prototype =\n    Object.create(RecordPrototype));\n  RecordTypePrototype.constructor = RecordType;\n\n  if (name) {\n    RecordType.displayName = name;\n  }\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return (\n    this === other ||\n    (isRecord(other) && recordSeq(this).equals(recordSeq(other)))\n  );\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS$1 () {\n  return toJS(this);\n};\n\nRecord.prototype.entries = function entries () {\n  return this.__iterator(ITERATE_ENTRIES);\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SYMBOL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.deleteIn = RecordPrototype.removeIn = deleteIn;\nRecordPrototype.getIn = getIn;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = merge$1;\nRecordPrototype.mergeWith = mergeWith$1;\nRecordPrototype.mergeIn = mergeIn;\nRecordPrototype.mergeDeep = mergeDeep;\nRecordPrototype.mergeDeepWith = mergeDeepWith;\nRecordPrototype.mergeDeepIn = mergeDeepIn;\nRecordPrototype.setIn = setIn;\nRecordPrototype.update = update;\nRecordPrototype.updateIn = updateIn;\nRecordPrototype.withMutations = withMutations;\nRecordPrototype.asMutable = asMutable;\nRecordPrototype.asImmutable = asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = RecordPrototype.entries;\nRecordPrototype.toJSON = RecordPrototype.toObject =\n  CollectionPrototype.toObject;\nRecordPrototype.inspect = RecordPrototype.toSource = function () {\n  return this.toString();\n};\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record.constructor.displayName || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function () {\n        return this.get(name);\n      },\n      set: function (value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      },\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = /*@__PURE__*/(function (IndexedSeq) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq ) Repeat.__proto__ = IndexedSeq;\n  Repeat.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this._value, reverse ? size - ++i : i++, this) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(function () { return i === size\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? size - ++i : i++, this$1$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  if (\n    typeof value !== 'string' &&\n    !isImmutable(value) &&\n    (isArrayLike(value) || hasIterator(value) || isPlainObject(value))\n  ) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      Seq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }\n      ),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  // Effectively the opposite of \"Collection.toSeq()\"\n  return isIndexed(v) ? v.toList() : isKeyed(v) ? v.toMap() : v.toSet();\n}\n\nvar version = \"4.3.0\";\n\nvar Immutable = {\n  version: version,\n\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n  PairSorting: PairSorting,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject,\n  isPlainObject: isPlainObject,\n  isSeq: isSeq,\n  isList: isList,\n  isMap: isMap,\n  isOrderedMap: isOrderedMap,\n  isStack: isStack,\n  isSet: isSet,\n  isOrderedSet: isOrderedSet,\n  isRecord: isRecord,\n\n  get: get,\n  getIn: getIn$1,\n  has: has,\n  hasIn: hasIn$1,\n  merge: merge,\n  mergeDeep: mergeDeep$1,\n  mergeWith: mergeWith,\n  mergeDeepWith: mergeDeepWith$1,\n  remove: remove,\n  removeIn: removeIn,\n  set: set,\n  setIn: setIn$1,\n  update: update$1,\n  updateIn: updateIn$1,\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexport default Immutable;\nexport { Collection, Iterable, List, Map, OrderedMap, OrderedSet, PairSorting, Range, Record, Repeat, Seq, Set, Stack, fromJS, get, getIn$1 as getIn, has, hasIn$1 as hasIn, hash, is, isAssociative, isCollection, isImmutable, isIndexed, isKeyed, isList, isMap, isOrdered, isOrderedMap, isOrderedSet, isPlainObject, isRecord, isSeq, isSet, isStack, isValueObject, merge, mergeDeep$1 as mergeDeep, mergeDeepWith$1 as mergeDeepWith, mergeWith, remove, removeIn, set, setIn$1 as setIn, update$1 as update, updateIn$1 as updateIn, version };\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport * as immutable from 'immutable';\n\n// This file allows Gleam to depend on ImmutableJS without forcing dependent\n// code to use the same version of ImmutableJS that Gleam does. It also leaves\n// open the possibility of replacing ImmutableJS internally with different impls\n// of these types, without breaking dependent code.\n//\n// Like static linking, this makes it harder for dependent code to specify what\n// version of ImmutableJS is used internally by Gleam. However, supporting that\n// capability is not a high priority.\n//\n// Each type in this file is a minimal subset of a type in the ImmutableJS API.\n// The types here get exposed as part of the Gleam API, in the @metsci/gleam-util\n// namespace. If a library depends on Gleam, and also imports types directly from\n// ImmutableJS, TypeScript will automatically recognize the ImmutableJS types as\n// extending the types here. As long as the types here are kept small and simple,\n// future versions of ImmutableJS are expected to be type-compatible as well.\n\nexport interface ValueObject {\n    hashCode( ): number;\n    equals( o: unknown ): boolean;\n}\n\n/**\n * Returns true if values are equal by *either* SameValueZero semantics\n * *or* value-object semantics. In particular:\n *  - `equal( NaN, NaN )` returns `true`\n *  - `equal( -0, +0 )` returns `true`\n */\nexport function equal<T>( a: T, b: T ): boolean {\n    return ( a === b || immutable.is( a, b ) );\n}\n\nexport function hashCode( x: unknown ): number {\n    return immutable.hash( x );\n}\n\n\nexport interface ImmutableList<T> extends ValueObject {\n    readonly size: number;\n    get( index: number ): T | undefined;\n    [Symbol.iterator]( ): Iterator<T>;\n    push( item: T ): ImmutableList<T>;\n}\n\nexport function newImmutableList<T>( items: Iterable<T> ): ImmutableList<T> {\n    return immutable.List<T>( items );\n}\n\n\nexport interface ImmutableSet<T> extends ReadonlySet<T>, ValueObject {\n    add( item: T ): ImmutableSet<T>;\n    remove( item: T ): ImmutableSet<T>;\n}\n\nexport function newImmutableSet<T>( items: Iterable<T> ): ImmutableSet<T> {\n    return immutable.Set<T>( items );\n}\n\n\nexport interface ImmutableMap<K,V> extends ReadonlyMap<K,V>, ValueObject {\n    get( key: K ): V | undefined;\n    set( key: K, value: V ): ImmutableMap<K,V>;\n    remove( key: K ): ImmutableMap<K,V>;\n    update( key: K, updateFn: ( oldValue: V | undefined ) => V ): ImmutableMap<K,V>;\n}\n\nexport function newImmutableMap<K,V>( entries: Iterable<[ key: K, value: V ]> ): ImmutableMap<K,V> {\n    return immutable.Map( entries );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { equal, hashCode } from './immutable';\nimport { clamp, isNullish, nextUpFloat64 } from './misc';\n\nexport const X = Symbol( 'X' );\nexport type X = typeof X;\n\nexport const Y = Symbol( 'Y' );\nexport type Y = typeof Y;\n\nexport function x( xy: { x: number, y: number } | [ x: number, y: number ] ): number {\n    return ( Array.isArray( xy ) ? xy[0] : xy.x );\n}\n\nexport function y( xy: { x: number, y: number } | [ x: number, y: number ] ): number {\n    return ( Array.isArray( xy ) ? xy[1] : xy.y );\n}\n\nexport function getOrthogonalDim( dim: X | Y ): Y | X {\n    switch ( dim ) {\n        case X: return Y;\n        case Y: return X;\n    }\n}\n\nexport class Point2D {\n    static readonly ZERO = Object.freeze( new Point2D( 0, 0 ) );\n\n    readonly x: number;\n    readonly y: number;\n\n    constructor( x: number, y: number );\n    constructor( xy: [number,number] );\n    constructor( arg0: any, arg1?: any ) {\n        if ( arg1 !== undefined ) {\n            this.x = arg0;\n            this.y = arg1;\n        }\n        else {\n            this.x = arg0[ 0 ];\n            this.y = arg0[ 1 ];\n        }\n    }\n\n    get [X]( ): number {\n        return this.x;\n    }\n\n    get [Y]( ): number {\n        return this.y;\n    }\n\n    times( factor: number ): Point2D {\n        return new Point2D( factor * this.x, factor * this.y );\n    }\n\n    hashCode( ): number {\n        const prime = 33413;\n        let result = 1;\n        result = prime * result + hashCode( this.x );\n        result = prime * result + hashCode( this.y );\n        return result;\n    }\n\n    equals( o: unknown ): boolean {\n        if ( o === this ) {\n            return true;\n        }\n        else if ( isNullish( o ) ) {\n            return false;\n        }\n        else {\n            const other = o as Point2D;\n            return ( Object.is( other.x, this.x )\n                  && Object.is( other.y, this.y ) );\n        }\n    }\n}\n\nexport class Size2D {\n    static readonly ZERO = Object.freeze( new Size2D( 0, 0 ) );\n\n    readonly w: number;\n    readonly h: number;\n\n    constructor( w: number, h: number ) {\n        this.w = w;\n        this.h = h;\n    }\n\n    get [X]( ): number {\n        return this.w;\n    }\n\n    get [Y]( ): number {\n        return this.h;\n    }\n\n    scale( factor: number ): Size2D {\n        return new Size2D( this.w * factor, this.h * factor );\n    }\n\n    hashCode( ): number {\n        const prime = 9043;\n        let result = 1;\n        result = prime * result + hashCode( this.w );\n        result = prime * result + hashCode( this.h );\n        return result;\n    }\n\n    equals( o: unknown ): boolean {\n        if ( o === this ) {\n            return true;\n        }\n        else if ( isNullish( o ) ) {\n            return false;\n        }\n        else {\n            const other = o as Size2D;\n            return ( Object.is( other.w, this.w )\n                  && Object.is( other.h, this.h ) );\n        }\n    }\n}\n\n/**\n * A numeric interval with INCLUSIVE lower bound and EXCLUSIVE upper bound.\n * The `nextUpFloat64` and `nextDownFloat64` functions from util/misc can be\n * used for fine control over interval edges.\n */\nexport class Interval1D {\n    static readonly ZERO = Object.freeze( Interval1D.point( 0 ) );\n\n    /**\n     * Inclusive lower bound.\n     */\n    readonly min: number;\n\n    /**\n     * Exclusive upper bound.\n     */\n    readonly max: number;\n\n    /**\n     * Difference between min and max.\n     */\n    readonly span: number;\n\n    /**\n     * The span of the returned interval may differ from the given span\n     * due to floating-point precision error, or handling of infinities.\n     * This is annoying -- but it ensures that `span = max - min` holds\n     * for all intervals, regardless of how they were constructed.\n     */\n    static fromRect( min: number, approxSpan: number ): Interval1D {\n        return new Interval1D( min, min+approxSpan );\n    }\n\n    static fromEdges( min: number, max: number ): Interval1D {\n        return new Interval1D( min, max );\n    }\n\n    static point( v: number ): Interval1D {\n        return new Interval1D( v, v );\n    }\n\n    private constructor( min: number, max: number ) {\n        this.min = min;\n        this.max = max;\n        this.span = this.max - this.min;\n    }\n\n    shift( shift: number ): Interval1D {\n        return Interval1D.fromEdges( this.min + shift, this.max + shift );\n    }\n\n    scale( factor: number ): Interval1D {\n        if ( factor >= 0 ) {\n            return Interval1D.fromEdges( factor*this.min, factor*this.max );\n        }\n        else {\n            // Nudge upward so the new min is inclusive and the new max is exclusive\n            return Interval1D.fromEdges( nextUpFloat64( factor*this.max ), nextUpFloat64( factor*this.min ) );\n        }\n    }\n\n    round( ): Interval1D {\n        return Interval1D.fromEdges( Math.round( this.min ), Math.round( this.max ) );\n    }\n\n    clamp( v: number ): number {\n        return clamp( this.min, this.max, v );\n    }\n\n    valueToFrac( v: number ): number {\n        return ( ( v - this.min ) / this.span );\n    }\n\n    fracToValue( frac: number ): number {\n        return ( this.min + frac*this.span );\n    }\n\n    containsPoint( v: number ): boolean {\n        return ( this.min <= v && v < this.max );\n    }\n\n    containsInterval( other: Interval1D ): boolean {\n        return ( this.min <= other.min && other.max <= this.max );\n    }\n\n    intersectsInterval( other: Interval1D ): boolean {\n        return !( this.min >= other.max || other.min >= this.max );\n    }\n\n    intersection( other: Interval1D ): Interval1D {\n        const min = Math.max( this.min, other.min );\n        const max = Math.min( this.max, other.max );\n        return Interval1D.fromEdges( min, max );\n    }\n\n    minus( other: Interval1D ): Array<Interval1D> {\n        if ( other.max <= this.min || this.max <= other.min || other.max <= other.min ) {\n            return [ this ];\n        }\n        else if ( other.min <= this.min ) {\n            if ( this.max <= other.max ) {\n                return [];\n            }\n            else {\n                return [ Interval1D.fromEdges( other.max, this.max ) ];\n            }\n        }\n        else {\n            if ( this.max <= other.max ) {\n                return [ Interval1D.fromEdges( this.min, other.min ) ];\n            }\n            else {\n                return [ Interval1D.fromEdges( this.min, other.min ), Interval1D.fromEdges( other.max, this.max ) ];\n            }\n        }\n    }\n\n    expand( frac: number, minSpan: number = 0.0 ): Interval1D {\n        const center = 0.5*( this.min + this.max );\n        const oldSpan = this.max - this.min;\n        const newSpan = Math.max( 0.0, minSpan, ( 1.0 + 2*frac )*oldSpan );\n        return Interval1D.fromEdges( center - 0.5*newSpan, center + 0.5*newSpan );\n    }\n\n    hashCode( ): number {\n        const prime = 9049;\n        let result = 1;\n        result = prime * result + hashCode( this.min );\n        result = prime * result + hashCode( this.max );\n        return result;\n    }\n\n    equals( o: unknown ): boolean {\n        if ( o === this ) {\n            return true;\n        }\n        else if ( isNullish( o ) ) {\n            return false;\n        }\n        else {\n            const other = o as Interval1D;\n            return ( Object.is( other.min, this.min )\n                  && Object.is( other.max, this.max ) );\n        }\n    }\n}\n\nexport class Interval2D {\n    static readonly ZERO = Object.freeze( Interval2D.point( 0, 0 ) );\n\n    readonly x: Interval1D;\n    readonly y: Interval1D;\n\n    static fromEdges( xMin: number, xMax: number, yMin: number, yMax: number ): Interval2D {\n        const x = Interval1D.fromEdges( xMin, xMax );\n        const y = Interval1D.fromEdges( yMin, yMax );\n        return new Interval2D( x, y );\n    }\n\n    static fromRect( xMin: number, yMin: number, xSpan: number, ySpan: number ): Interval2D {\n        const x = Interval1D.fromRect( xMin, xSpan );\n        const y = Interval1D.fromRect( yMin, ySpan );\n        return new Interval2D( x, y );\n    }\n\n    static point( xPoint: number, yPoint: number ): Interval2D {\n        const x = Interval1D.point( xPoint );\n        const y = Interval1D.point( yPoint );\n        return new Interval2D( x, y );\n    }\n\n    static fromXy( x: Interval1D, y: Interval1D ): Interval2D {\n        return new Interval2D( x, y );\n    }\n\n    private constructor( x: Interval1D, y: Interval1D ) {\n        this.x = x;\n        this.y = y;\n    }\n\n    get [X]( ): Interval1D {\n        return this.x;\n    }\n\n    get [Y]( ): Interval1D {\n        return this.y;\n    }\n\n    get xMin( ): number {\n        return this.x.min;\n    }\n\n    get xMax( ): number {\n        return this.x.max;\n    }\n\n    get yMin( ): number {\n        return this.y.min;\n    }\n\n    get yMax( ): number {\n        return this.y.max;\n    }\n\n    get w( ): number {\n        return this.x.span;\n    }\n\n    get h( ): number {\n        return this.y.span;\n    }\n\n    get span( ): Size2D {\n        return new Size2D( this.x.span, this.y.span );\n    }\n\n    get area( ): number {\n        return ( Math.max( 0, this.w ) * Math.max( 0, this.h ) );\n    }\n\n    withXEdges( xMin: number, xMax: number ): Interval2D {\n        return new Interval2D( Interval1D.fromEdges( xMin, xMax ), this.y );\n    }\n\n    withYEdges( yMin: number, yMax: number ): Interval2D {\n        return new Interval2D( this.x, Interval1D.fromEdges( yMin, yMax ) );\n    }\n\n    round( ): Interval2D {\n        return new Interval2D( this.x.round( ), this.y.round( ) );\n    }\n\n    valueToFrac( v: Point2D ): Point2D {\n        return new Point2D(\n            this.x.valueToFrac( v.x ),\n            this.y.valueToFrac( v.y ),\n        );\n    }\n\n    fracToValue( frac: Point2D ): Point2D {\n        return new Point2D(\n            this.x.fracToValue( frac.x ),\n            this.y.fracToValue( frac.y ),\n        );\n    }\n\n    containsPoint( xy: { x: number, y: number } ): boolean;\n    containsPoint( x: number, y: number ): boolean;\n    containsPoint( arg0: any, arg1?: any ): boolean {\n        let x;\n        let y;\n        if ( arg1 === undefined ) {\n            const xy = arg0 as { x: number, y: number };\n            x = xy.x;\n            y = xy.y;\n        }\n        else {\n            x = arg0 as number;\n            y = arg1 as number;\n        }\n        return ( this.x.containsPoint( x ) && this.y.containsPoint( y ) );\n    }\n\n    containsInterval( other: Interval2D ): boolean {\n        return ( this.x.containsInterval( other.x ) && this.y.containsInterval( other.y ) );\n    }\n\n    intersectsInterval( other: Interval2D ): boolean {\n        return ( this.x.intersectsInterval( other.x ) && this.y.intersectsInterval( other.y ) );\n    }\n\n    intersection( other: Interval2D ): Interval2D | null {\n        if ( this.containsInterval( other ) ) {\n            return other;\n        }\n        else if ( other.containsInterval( this ) ) {\n            return this;\n        }\n        else {\n            const x = this.x.intersection( other.x );\n            const y = this.y.intersection( other.y );\n            return new Interval2D( x, y );\n        }\n    }\n\n    shift( xShift: number, yShift: number ): Interval2D {\n        const x = this.x.shift( xShift );\n        const y = this.y.shift( yShift );\n        return new Interval2D( x, y );\n    }\n\n    expand( xFrac: number, yFrac: number, xMinSpan: number = 0.0, yMinSpan: number = 0.0 ): Interval2D {\n        const x = this.x.expand( xFrac, xMinSpan );\n        const y = this.y.expand( yFrac, yMinSpan );\n        return new Interval2D( x, y );\n    }\n\n    hashCode( ): number {\n        const prime = 9059;\n        let result = 1;\n        result = prime * result + this.x.hashCode( );\n        result = prime * result + this.y.hashCode( );\n        return result;\n    }\n\n    equals( o: unknown ): boolean {\n        if ( o === this ) {\n            return true;\n        }\n        else if ( isNullish( o ) ) {\n            return false;\n        }\n        else {\n            const other = o as Interval2D;\n            return ( equal( other.x, this.x )\n                  && equal( other.y, this.y ) );\n        }\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Predicate } from './misc';\n\nexport function basicEscapes( ...escapes: ReadonlyArray<string> ): Predicate<string> {\n    const escapesSet = new Set( escapes );\n    return c => {\n        return escapesSet.has( c );\n    };\n}\n\nexport function basicDelims( ...delims: ReadonlyArray<string> ): Predicate<string> {\n    const delimsSet = new Set( delims );\n    return c => {\n        return delimsSet.has( c );\n    };\n}\n\nexport interface QuotePair {\n    isOpen( c: string ): boolean;\n    isClose( c: string ): boolean;\n}\n\nexport function basicQuotePair( openQuote: string, closeQuote: string ): QuotePair {\n    return {\n        isOpen( c ) {\n            return c === openQuote;\n        },\n        isClose( c ) {\n            return c === closeQuote;\n        },\n    };\n}\n\n/**\n * Supports zero or more single-char delimiters, zero or more pairs of single-char quotes,\n * and zero or more single-char escapes. Quote characters ARE included in the returned\n * tokens. Escape and delimiter characters are NOT included in the returned tokens.\n */\nexport function* splitString( s: string, isEscape: Predicate<string>, isDelim: Predicate<string>, quotePairs: Iterable<QuotePair> ): Iterable<string> {\n    function getMatchingCloseQuote( possibleOpenQuote: string ): Predicate<string> | undefined {\n        for ( const quotePair of quotePairs ) {\n            if ( quotePair.isOpen( possibleOpenQuote ) ) {\n                return quotePair.isClose;\n            }\n        }\n        return undefined;\n    }\n\n    let token = '';\n    let escaped = false;\n    let isCloseQuote: Predicate<string> | undefined = undefined;\n    for ( const c of s ) {\n        if ( escaped ) {\n            token += c;\n            escaped = false;\n        }\n        else if ( isEscape( c ) ) {\n            escaped = true;\n        }\n        else if ( isCloseQuote === undefined ) {\n            isCloseQuote = getMatchingCloseQuote( c );\n            if ( isCloseQuote !== undefined ) {\n                // c isn't quoted, and is an open-quote\n                token += c;\n            }\n            else if ( isDelim( c ) ) {\n                // c isn't quoted, and is a delimiter\n                yield token;\n                token = '';\n            }\n            else {\n                // c isn't quoted, and is neither an open-quote nor a delimiter\n                token += c;\n            }\n        }\n        else if ( !isCloseQuote( c ) ) {\n            // c is quoted, and isn't a close-quote\n            token += c;\n        }\n        else {\n            // c is quoted, and is a close-quote\n            token += c;\n            isCloseQuote = undefined;\n        }\n    }\n    yield token;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { LinkedMap } from './linked';\nimport { get, isDefined, Supplier } from './misc';\n\nconst { abs, floor, trunc } = Math;\nconst { parseInt } = Number;\n\nexport const SECONDS_PER_MINUTE = 60;\nexport const MINUTES_PER_HOUR = 60;\nexport const HOURS_PER_DAY = 24;\nexport const DAYS_PER_YEAR_APPROX = 365.2425;\n\nexport const DAYS_PER_MONTH_APPROX = DAYS_PER_YEAR_APPROX / 12.0;\n\nexport const HOURS_PER_YEAR_APPROX = HOURS_PER_DAY * DAYS_PER_YEAR_APPROX;\nexport const HOURS_PER_MONTH_APPROX = HOURS_PER_DAY * DAYS_PER_MONTH_APPROX;\n\nexport const MINUTES_PER_DAY = MINUTES_PER_HOUR * HOURS_PER_DAY;\nexport const MINUTES_PER_MONTH_APPROX = MINUTES_PER_DAY * DAYS_PER_MONTH_APPROX;\nexport const MINUTES_PER_YEAR_APPROX = MINUTES_PER_DAY * DAYS_PER_YEAR_APPROX;\n\nexport const SECONDS_PER_HOUR = SECONDS_PER_MINUTE * MINUTES_PER_HOUR;\nexport const SECONDS_PER_DAY = SECONDS_PER_HOUR * HOURS_PER_DAY;\nexport const SECONDS_PER_MONTH_APPROX = SECONDS_PER_DAY * DAYS_PER_MONTH_APPROX;\nexport const SECONDS_PER_YEAR_APPROX = SECONDS_PER_DAY * DAYS_PER_YEAR_APPROX;\n\nexport interface LocalDateTime {\n    kind: 'LOCAL';\n    year: number;\n    month: number;\n    day: number;\n    hour: number;\n    minute: number;\n    second: number;\n}\n\nexport function localTime( year: number, month: number, day: number, hour: number, minute: number, second: number ): LocalDateTime {\n    return { kind: 'LOCAL', year, month, day, hour, minute, second };\n}\n\n/**\n * Compare local times assuming they are from the same timezone offset.\n */\nexport function compareLocalTimes( a: LocalDateTime, b: LocalDateTime ): number {\n    const aAsUtc_PSEC = utcTimeToPsec( a.year, a.month, a.day, a.hour, a.minute, a.second );\n    const bAsUtc_PSEC = utcTimeToPsec( b.year, b.month, b.day, b.hour, b.minute, b.second );\n    return ( aAsUtc_PSEC - bAsUtc_PSEC );\n}\n\nexport interface ZonedDateTime {\n    kind: 'ZONED';\n    zoneOffset_MINUTES: number;\n    year: number;\n    month: number;\n    day: number;\n    hour: number;\n    minute: number;\n    second: number;\n}\n\nexport function zonedTime( zoneOffset_MINUTES: number, year: number, month: number, day: number, hour: number, minute: number, second: number ): ZonedDateTime {\n    return { kind: 'ZONED', zoneOffset_MINUTES, year, month, day, hour, minute, second };\n}\n\nexport function compareZonedTimes( a: ZonedDateTime, b: ZonedDateTime ): number {\n    return ( zonedTimeToPsec( a ) - zonedTimeToPsec( b ) );\n}\n\nexport function zonedTimeToPsec( t: ZonedDateTime ): number {\n    const { zoneOffset_MINUTES, year, month, day, hour, minute, second } = t;\n    return ( utcTimeToPsec( year, month, day, hour, minute, second ) - 60*zoneOffset_MINUTES );\n}\n\nconst cacheForPsecToZonedTime = createLruCache<string,ZonedDateTime>( 1024 );\nexport function psecToZonedTime( t_PSEC: number, timezone: string ): ZonedDateTime {\n    const tTrunc_PSEC = trunc( t_PSEC );\n    const cacheKey = tTrunc_PSEC.toFixed( 0 ) + '@' + timezone;\n    const tTruncCached = cacheForPsecToZonedTime( cacheKey, ( ) => {\n        const result = zonedTime( NaN, NaN,NaN,NaN, NaN,NaN,NaN );\n        const parts = getFullFormatter( timezone ).formatToParts( 1e3*tTrunc_PSEC );\n        for ( const { type, value } of parts ) {\n            switch ( type ) {\n                case 'timeZoneName': result.zoneOffset_MINUTES = parseZoneOffset_MINUTES( value ); break;\n                case 'year': result.year = parseInt( value, 10 ); break;\n                case 'month': result.month = parseInt( value, 10 ); break;\n                case 'day': result.day = parseInt( value, 10 ); break;\n                case 'hour': result.hour = ( value === '24' ? 0 : parseInt( value, 10 ) ); break;\n                case 'minute': result.minute = parseInt( value, 10 ); break;\n                case 'second': result.second = parseInt( value, 10 ); break;\n            }\n        }\n        if ( Number.isNaN( result.zoneOffset_MINUTES ) || Number.isNaN( result.year ) || Number.isNaN( result.month ) || Number.isNaN( result.day ) || Number.isNaN( result.hour ) || Number.isNaN( result.minute ) || Number.isNaN( result.second ) ) {\n            throw { message: 'Failed to convert time', tTrunc_PSEC, timezone, parts, incomplete: result };\n        }\n        return result;\n    } );\n    const result = { ...tTruncCached };\n    result.second += t_PSEC - tTrunc_PSEC;\n    return result;\n}\n\nconst cacheForZoneOffsetAt = createLruCache<string,number>( 1024 );\nexport function zoneOffsetAt_SEC( t_PSEC: number, timezone: string ): number {\n    const cacheKey = t_PSEC.toFixed( 0 ) + '@' + timezone;\n    return cacheForZoneOffsetAt( cacheKey, ( ) => {\n        const tTrunc_PSEC = trunc( t_PSEC );\n        const parts = getZoneFormatter( timezone ).formatToParts( 1e3*tTrunc_PSEC );\n        for ( const { type, value } of parts ) {\n            if ( type === 'timeZoneName' ) {\n                return 60*parseZoneOffset_MINUTES( value );\n            }\n        }\n        throw { message: 'Failed to find zone offset', t_PSEC, timezone, parts };\n    } );\n}\n\nconst cacheForGetFullFormatter = createLruCache<string,Intl.DateTimeFormat>( 32 );\nfunction getFullFormatter( timezone: string ): Intl.DateTimeFormat {\n    return cacheForGetFullFormatter( timezone, ( ) => {\n        return Object.freeze( new Intl.DateTimeFormat( 'en-US', {\n            timeZone: timezone,\n            timeZoneName: 'longOffset',\n            year: 'numeric',\n            month: 'numeric',\n            day: 'numeric',\n            hour: 'numeric',\n            hour12: false,\n            minute: 'numeric',\n            second: 'numeric',\n        } ) );\n    } );\n}\n\nconst cacheForGetZoneFormatter = createLruCache<string,Intl.DateTimeFormat>( 32 );\nfunction getZoneFormatter( timezone: string ): Intl.DateTimeFormat {\n    return cacheForGetZoneFormatter( timezone, ( ) => {\n        return Object.freeze( new Intl.DateTimeFormat( 'en-US', {\n            timeZone: timezone,\n            timeZoneName: 'longOffset',\n        } ) );\n    } );\n}\n\nconst cacheForParseZoneOffset = createLruCache<string,number>( 32 );\nfunction parseZoneOffset_MINUTES( longOffsetTimezone: string ): number {\n    return cacheForParseZoneOffset( longOffsetTimezone, ( ) => {\n        // Regex groups                           1         1 23    34           456 6 7          7 5 2\n        const parts = longOffsetTimezone.match( /^(GMT|UTC|Z)?((\\+|-)([0-9][0-9]?)((:)?([0-9][0-9])?)?)?$/ );\n        if ( !parts ) {\n            throw new Error( `Failed to parse timezone string: ${longOffsetTimezone}` );\n        }\n        else if ( !parts[2] ) {\n            return 0;\n        }\n        else {\n            const sign = ( parts[3] === '-' ? -1 : +1 );\n            const hours = parseInt( parts[4], 10 );\n            const minutes = ( parts[7] ? parseInt( parts[7], 10 ) : 0 );\n            return sign*( 60*hours + minutes );\n        }\n    } );\n}\n\n/**\n * Like `Date.UTC()` but with the following tweaks:\n *  - `month` is 1-based instead of 0-based\n *  - Fractional seconds are retained\n *  - Return value is in POSIX seconds rather than millis\n */\nexport function utcTimeToPsec( year: number, month: number, day: number, hour: number, minute: number, second: number ): number {\n    const additionalMinutes = floor( second / 60 );\n    const second2 = second - 60*additionalMinutes;\n    const minute2 = minute + additionalMinutes;\n    return ( 1e-3*Date.UTC( year, month - 1, day, hour, minute2 ) + second2 );\n}\n\n/**\n * Cases:\n *  - Returns one result for most arguments\n *  - Returns zero results iff `t` gets skipped over by a \"spring forward\" time change\n *  - Returns two results iff `t` appears twice due to a \"fall back\" time change\n */\nexport function localTimeToPsec( t: LocalDateTime, timezone: string ): Array<number> {\n    const ballpark_PSEC = utcTimeToPsec( t.year, t.month, t.day, t.hour, t.minute, t.second );\n    const zoneAtBallpark_SEC = zoneOffsetAt_SEC( ballpark_PSEC, timezone );\n    const guess_PSEC = ballpark_PSEC + ( 0 - zoneAtBallpark_SEC );\n    const zoneAtGuess_SEC = zoneOffsetAt_SEC( guess_PSEC, timezone );\n    const primary_PSEC = guess_PSEC + ( zoneAtBallpark_SEC - zoneAtGuess_SEC );\n    const zoneAtPrimary_SEC = zoneOffsetAt_SEC( primary_PSEC, timezone );\n\n    // Is the target local-time repr in a \"spring forward\" gap?\n    if ( zoneAtPrimary_SEC !== zoneAtGuess_SEC ) {\n        // Refinement subtracted out the mismatch between the guess local-time repr\n        // and the target local-time repr. But refinement landed in a different zone-\n        // offset, so the local-time repr of the refined value still doesn't match\n        // the target, due to the zone-offset change. Further refinement is useless\n        // -- it would take us back to the original guess.\n        return [];\n    }\n\n    // TODO: Can we handle historical zone-offset changes?\n\n    // Is primary right after a \"fall back\" time change?\n    for ( let lookback_SEC of [ -1800, -3600, -7200 ] ) {\n        const zoneBeforePrimary_SEC = zoneOffsetAt_SEC( primary_PSEC + lookback_SEC, timezone );\n        const zoneChange_SEC = zoneAtPrimary_SEC - zoneBeforePrimary_SEC;\n        if ( zoneChange_SEC <= lookback_SEC ) {\n            // There's never a tertiary, so now that we've found a secondary we're done\n            return [ primary_PSEC, primary_PSEC + zoneChange_SEC ];\n        }\n    }\n\n    // Is primary right before a \"fall back\" time change?\n    for ( let lookahead_SEC of [ +1800, +3600, +7200 ] ) {\n        const zoneAfterPrimary_SEC = zoneOffsetAt_SEC( primary_PSEC + lookahead_SEC, timezone );\n        const zoneChange_SEC = zoneAfterPrimary_SEC - zoneAtPrimary_SEC;\n        if ( zoneChange_SEC <= -lookahead_SEC ) {\n            // There's never a tertiary, so now that we've found a secondary we're done\n            return [ primary_PSEC, primary_PSEC - zoneChange_SEC ];\n        }\n    }\n\n    // No secondary exists\n    return [ primary_PSEC ];\n}\n\nexport function psecToIso8601( t_PSEC: number, timezone?: string, numDecimalPlaces?: number ): string {\n    const t = psecToZonedTime( t_PSEC, timezone ?? 'UTC' );\n    return zonedTimeToIso8601( t, numDecimalPlaces );\n}\n\nexport function zonedTimeToIso8601( t: ZonedDateTime, numDecimalPlaces?: number ): string {\n    const { zoneOffset_MINUTES, year, month, day, hour, minute, second } = t;\n\n    const YYYY = year.toFixed( 0 ).padStart( 4, '0' );\n    const MM = month.toFixed( 0 ).padStart( 2, '0' );\n    const DD = day.toFixed( 0 ).padStart( 2, '0' );\n    const hh = hour.toFixed( 0 ).padStart( 2, '0' );\n    const mm = minute.toFixed( 0 ).padStart( 2, '0' );\n\n    const wholeSeconds = trunc( second );\n    const fracSeconds = second - wholeSeconds;\n    const ss = wholeSeconds.toFixed( 0 ).padStart( 2, '0' );\n    const ffff = get( ( ) => {\n        if ( isDefined( numDecimalPlaces ) ) {\n            return '.' + fracSeconds.toFixed( numDecimalPlaces ).replace( /^0\\./, '' );\n        }\n        else if ( fracSeconds === 0 ) {\n            return '';\n        }\n        else {\n            return '.' + fracSeconds.toFixed( 16 ).replace( /^0\\./, '' ).replace( /0*$/, '' );\n        }\n    } );\n\n    const ZZZZ = get( ( ) => {\n        if ( zoneOffset_MINUTES === 0 ) {\n            return 'Z';\n        }\n        else {\n            const sign = ( zoneOffset_MINUTES > 0 ? '+' : '-' );\n            const minutes = abs( zoneOffset_MINUTES );\n            const hours = floor( minutes / 60 );\n            const hh = ( hours ).toFixed( 0 ).padStart( 2, '0' );\n            const mm = ( minutes - 60*hours ).toFixed( 0 ).padStart( 2, '0' );\n            return `Z${sign}${hh}${mm}`;\n        }\n    } );\n\n    return `${YYYY}-${MM}-${DD}T${hh}:${mm}:${ss}${ffff}${ZZZZ}`;\n}\n\nexport function localTimeToString( t: LocalDateTime, numDecimalPlaces?: number ): string {\n    const { year, month, day, hour, minute, second } = t;\n\n    const YYYY = year.toFixed( 0 ).padStart( 4, '0' );\n    const MM = month.toFixed( 0 ).padStart( 2, '0' );\n    const DD = day.toFixed( 0 ).padStart( 2, '0' );\n    const hh = hour.toFixed( 0 ).padStart( 2, '0' );\n    const mm = minute.toFixed( 0 ).padStart( 2, '0' );\n\n    const wholeSeconds = trunc( second );\n    const fracSeconds = second - wholeSeconds;\n    const ss = wholeSeconds.toFixed( 0 ).padStart( 2, '0' );\n    const ffff = get( ( ) => {\n        if ( isDefined( numDecimalPlaces ) ) {\n            return '.' + fracSeconds.toFixed( numDecimalPlaces ).replace( /^0\\./, '' );\n        }\n        else if ( fracSeconds === 0 ) {\n            return '';\n        }\n        else {\n            return '.' + fracSeconds.toFixed( 16 ).replace( /^0\\./, '' ).replace( /0*$/, '' );\n        }\n    } );\n\n    return `${YYYY}-${MM}-${DD}T${hh}:${mm}:${ss}${ffff}`;\n}\n\nfunction createLruCache<K,V>( maxCacheSize: number ): ( key: K, computeValue: Supplier<V> ) => V {\n    const cache = new LinkedMap<K,V>( );\n    return ( k, computeValue ) => {\n        const v = cache.get( k );\n        if ( isDefined( v ) ) {\n            cache.moveFirst( k );\n            return v;\n        }\n        else {\n            const vNew = computeValue( );\n            cache.putFirst( k, vNew );\n            while ( cache.size > maxCacheSize ) {\n                cache.removeLast( );\n            }\n            return vNew;\n        }\n    };\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nexport interface ListenerConfig {\n    /**\n     * Fire the listener immediately, in addition to registering it to be\n     * fired on future events. Defaults to `false`. See `IMMEDIATE` for a\n     * convenient abbreviation of `{ immediate: true }`.\n     */\n    readonly immediate?: boolean;\n\n    /**\n     * Automatically remove the listener after the first time it fires.\n     * Defaults to `false`.\n     */\n    readonly once?: boolean;\n\n    /**\n     * When multiple listeners fire in response to the same event, they fire\n     * from smallest `order` to largest, then in the order in which they were\n     * registered.\n     *\n     * Defaults to `0`. Negative and non-integer values are allowed.\n     *\n     * Typical usage is to leave most listeners with the default `order` of\n     * `0`, and here and there use a `-1` for a listener that needs to fire\n     * early, or a `+1` for a listener that needs to fire late.\n     *\n     * In rare cases a listener needs to fire either before or after all other\n     * listeners the developer anticipates. While infinite `order` values are\n     * allowed, large *finite* values leave more flexibility to handle cases\n     * the developer did not anticipate. Internally Gleam uses `order` values\n     * like `999999`, which conveys that it's possible to have another listener\n     * fire after this one, but the original developer didn't anticipate that\n     * happening.\n     *\n     * **TODO**: Try using ID strings and specifying `before this ID` or `after that ID`\n     */\n    readonly order?: number;\n}\n\nexport const IMMEDIATE = Object.freeze( { immediate: true } ) as ListenerConfig;\n\nexport function withoutImmediate( flags: ListenerConfig ): ListenerConfig {\n    return {\n        once: flags.once,\n        order: flags.order\n    };\n}\n\nexport function withoutOnce( flags: ListenerConfig ): ListenerConfig {\n    return {\n        immediate: flags.immediate,\n        order: flags.order\n    };\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Runnable, NOOP, Disposer } from '../util';\nimport { ListenerConfig, withoutImmediate } from './config';\n\nexport function doHandleImmediateFlag(\n    config: ListenerConfig,\n    doImmediately: Runnable,\n    doAddListener: ( config: ListenerConfig ) => Disposer,\n): Disposer {\n    if ( config.immediate ) {\n        doImmediately( );\n        if ( config.once ) {\n            return NOOP;\n        }\n    }\n    const config2 = withoutImmediate( config );\n    return doAddListener( config2 );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { arrayReverseIterable, Nullable, Supplier } from '../util';\n\nexport interface TxnMember {\n    /**\n     * Implementations of this method must always succeed, and must never\n     * throw exceptions.\n     */\n    rollback?( ): void;\n\n    /**\n     * Implementations of this method must always succeed, and must never\n     * throw exceptions.\n     */\n    commit?( ): void;\n\n    /**\n     * Implementations of this method may fail, and may throw exceptions.\n     *\n     * If an impl throws an exception, the `Txn`'s post-commit sequence\n     * terminates immediately, without performing any post-commit operations\n     * for subsequent members.\n     */\n    postCommit?( ): void;\n}\n\nlet activeTxn = null as Nullable<Array<TxnMember>>;\n\n/**\n * Generally, this method shouldn't be called directly from application\n * code. It is public to allow new utilities to be implemented in ways\n * that use the `Txn` mechanism.\n */\nexport function addToActiveTxn( member: TxnMember ): void {\n    const txn = activeTxn;\n    if ( !txn ) {\n        // No active txn, so commit immediately\n        member.commit?.( );\n        member.postCommit?.( );\n    }\n    else {\n        // Defer until commit or rollback of active txn\n        txn.push( member );\n    }\n}\n\nexport function doTxn<T>( task: Supplier<T> ): T {\n    if ( activeTxn ) {\n        // Already inside a txn\n        return task( );\n    }\n    else {\n        const txn = [] as Array<TxnMember>;\n        let result;\n\n        activeTxn = txn;\n        try {\n            // Task may add members to activeTxn\n            result = task( );\n\n            // By general contract, commit() must always succeed\n            for ( const member of txn ) {\n                member.commit?.( );\n            }\n        }\n        catch ( e ) {\n            // By general contract, rollback() must always succeed\n            for ( const member of arrayReverseIterable( txn ) ) {\n                member.rollback?.( );\n            }\n\n            // Re-throwing the exception here pops us out of the method\n            throw e;\n        }\n        finally {\n            activeTxn = null;\n        }\n\n        // An exception from postCommit() will cause this method to terminate\n        // immediately, without calling postCommit() for subsequent members\n        for ( const member of txn ) {\n            member.postCommit?.( );\n        }\n\n        return result;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { arrayClone, CowArray, Disposer, DisposerGroup, NOOP, numberOr, Runnable } from '../util';\nimport { IMMEDIATE, ListenerConfig, withoutOnce } from './config';\nimport { doHandleImmediateFlag } from './misc';\nimport { addToActiveTxn } from './txn';\n\nexport interface Listenable {\n    addListener( listener: Runnable ): Disposer;\n    addListener( config: ListenerConfig, listener: Runnable ): Disposer;\n}\n\nexport interface FireableListenable extends Listenable {\n    fire( ): void;\n}\n\nexport function argsForAddListener( a: ListenerConfig | Runnable, b?: Runnable | undefined ): [ ListenerConfig, Runnable ] {\n    if ( b === undefined ) {\n        return [ {} as ListenerConfig, a as Runnable ];\n    }\n    else {\n        return [ a as ListenerConfig, b as Runnable ];\n    }\n}\n\nexport interface ListenerEntry {\n    config: ListenerConfig;\n    listener: Runnable;\n}\n\nexport class ListenableBasic implements FireableListenable {\n    protected readonly entries: CowArray<ListenerEntry>;\n\n    constructor( ) {\n        this.entries = new CowArray( );\n    }\n\n    addListener( listener: Runnable ): Disposer;\n    addListener( config: ListenerConfig, listener: Runnable ): Disposer;\n    addListener( a: ListenerConfig | Runnable, b?: Runnable | undefined ): Disposer {\n        const [ config, listener ] = argsForAddListener( a, b );\n        return this.doAddListener( config, listener );\n    }\n\n    protected doAddListener( config: ListenerConfig, listener: Runnable ): Disposer {\n        const entry = { config, listener };\n\n        if ( entry.config.immediate ) {\n            entry.listener( );\n            if ( entry.config.once ) {\n                return NOOP;\n            }\n        }\n\n        this.entries.push( entry );\n        this.entries.sortStable( ( a, b ) => {\n            return ( numberOr( a.config.order, 0 ) - numberOr( b.config.order, 0 ) );\n        } );\n\n        return ( ) => {\n            this.entries.removeFirst( entry );\n        };\n    }\n\n    fire( ): void {\n        addToActiveTxn( {\n            postCommit: ( ) => {\n                for ( const entry of this.entries ) {\n                    entry.listener( );\n                    if ( entry.config.once ) {\n                        // COW list makes this safe while iterating\n                        this.entries.removeFirst( entry );\n                    }\n                }\n            }\n        } );\n    }\n}\n\nexport class ListenableSet implements Listenable {\n    protected readonly members: ReadonlyArray<Listenable>;\n\n    constructor( ...members: ReadonlyArray<Listenable> ) {\n        this.members = arrayClone( members );\n    }\n\n    addListener( listener: Runnable ): Disposer;\n    addListener( config: ListenerConfig, listener: Runnable ): Disposer;\n    addListener( a: ListenerConfig | Runnable, b?: Runnable | undefined ): Disposer {\n        const [ config, listener ] = argsForAddListener( a, b );\n        return this.doAddListener( config, listener );\n    }\n\n    protected doAddListener( config: ListenerConfig, listener: Runnable ): Disposer {\n        return doHandleImmediateFlag( config, listener, config2 => {\n            const disposers = new DisposerGroup( );\n            if ( config2.once ) {\n                const config3 = withoutOnce( config2 );\n                const listener2 = ( ) => {\n                    listener( );\n                    disposers.dispose( );\n                };\n                for ( const member of this.members ) {\n                    disposers.add( member.addListener( config3, listener2 ) );\n                }\n            }\n            else {\n                for ( const member of this.members ) {\n                    disposers.add( member.addListener( config2, listener ) );\n                }\n            }\n            return disposers;\n        } );\n    }\n}\n\nexport function listenable( ...listenables: ReadonlyArray<Listenable> ): Listenable {\n    return new ListenableSet( ...listenables );\n}\n\nexport function linkListenables( ...listenables: ReadonlyArray<FireableListenable> ): Disposer {\n    const disposers = new DisposerGroup( );\n    let alreadyFiring = false;\n    const ensureAllFire = ( ) => {\n        if ( !alreadyFiring ) {\n            alreadyFiring = true;\n            try {\n                for ( const listenable of listenables ) {\n                    listenable.fire( );\n                }\n            }\n            finally {\n                alreadyFiring = false;\n            }\n        }\n    };\n    for ( const listenable of listenables ) {\n        disposers.add( listenable.addListener( IMMEDIATE, ensureAllFire ) );\n    }\n    return disposers;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { arrayClone, Disposer, DisposerGroup } from '../util';\nimport { ListenerConfig, withoutOnce } from './config';\nimport { Listenable, listenable, ListenableBasic, ListenableSet } from './listenable';\nimport { doHandleImmediateFlag } from './misc';\n\nexport type ActivityListener = ( ongoing: boolean ) => void;\n\nexport interface ActivityListenable {\n    readonly completed: Listenable;\n    readonly all: Listenable;\n\n    addListener( listener: ActivityListener ): Disposer;\n    addListener( config: ListenerConfig, listener: ActivityListener ): Disposer;\n}\n\nexport interface ActivityFireableListenable extends ActivityListenable {\n    fire( ongoing: boolean ): void;\n}\n\nexport function argsForAddActivityListener( a: ListenerConfig | ActivityListener, b?: ActivityListener | undefined ): [ ListenerConfig, ActivityListener ] {\n    if ( b === undefined ) {\n        return [ {} as ListenerConfig, a as ActivityListener ];\n    }\n    else {\n        return [ a as ListenerConfig, b as ActivityListener ];\n    }\n}\n\nexport function doAddActivityListener(\n    ongoing: Listenable,\n    completed: Listenable,\n    config: ListenerConfig,\n    listener: ActivityListener,\n): Disposer {\n    const disposers = new DisposerGroup( );\n    if ( config.once ) {\n        const config2 = withoutOnce( config );\n\n        disposers.add( ongoing.addListener( config2, ( ) => {\n            listener( true );\n            disposers.dispose( );\n        } ) );\n\n        disposers.add( completed.addListener( config2, ( ) => {\n            listener( false );\n            disposers.dispose( );\n        } ) );\n    }\n    else {\n        disposers.add( ongoing.addListener( config, ( ) => {\n            listener( true );\n        } ) );\n\n        disposers.add( completed.addListener( config, ( ) => {\n            listener( false );\n        } ) );\n    }\n    return disposers;\n}\n\nexport class ActivityListenableBasic implements ActivityFireableListenable {\n    protected readonly _ongoing: ListenableBasic;\n    protected readonly _completed: ListenableBasic;\n    protected readonly _all: Listenable;\n\n    constructor( ) {\n        this._ongoing = new ListenableBasic( );\n        this._completed = new ListenableBasic( );\n        this._all = listenable( this._ongoing, this._completed );\n    }\n\n    get completed( ): Listenable {\n        return this._completed;\n    }\n\n    get all( ): Listenable {\n        return this._all;\n    }\n\n    addListener( listener: ActivityListener ): Disposer;\n    addListener( config: ListenerConfig, listener: ActivityListener ): Disposer;\n    addListener( a: ListenerConfig | ActivityListener, b?: ActivityListener | undefined ): Disposer {\n        const [ config, listener ] = argsForAddActivityListener( a, b );\n        return this.doAddListener( config, listener );\n    }\n\n    protected doAddListener( config: ListenerConfig, listener: ActivityListener ): Disposer {\n        const doImmediately = ( ) => listener( false );\n        return doHandleImmediateFlag( config, doImmediately, config2 => {\n            return doAddActivityListener( this._ongoing, this._completed, config2, listener );\n        } );\n    }\n\n    fire( ongoing: boolean ): void {\n        ( ongoing ? this._ongoing : this._completed ).fire( );\n    }\n}\n\nexport class ActivityListenableSet implements ActivityListenable {\n    protected readonly members: ReadonlyArray<ActivityListenable>;\n    protected readonly _completed: Listenable;\n    protected readonly _all: Listenable;\n\n    constructor( ...members: ReadonlyArray<ActivityListenable> ) {\n        this.members = arrayClone( members );\n        this._completed = completedListenable( ...members );\n        this._all = allListenable( ...members );\n    }\n\n    get completed( ): Listenable {\n        return this._completed;\n    }\n\n    get all( ): Listenable {\n        return this._all;\n    }\n\n    addListener( listener: ActivityListener ): Disposer;\n    addListener( config: ListenerConfig, listener: ActivityListener ): Disposer;\n    addListener( a: ListenerConfig | ActivityListener, b?: ActivityListener | undefined ): Disposer {\n        const [ config, listener ] = argsForAddActivityListener( a, b );\n        return this.doAddListener( config, listener );\n    }\n\n    protected doAddListener( config: ListenerConfig, listener: ActivityListener ): Disposer {\n        const doImmediately = ( ) => listener( false );\n        return doHandleImmediateFlag( config, doImmediately, config2 => {\n            const disposers = new DisposerGroup( );\n            if ( config2.once ) {\n                const config3 = withoutOnce( config2 );\n                const listener2 = ( ongoing: boolean ) => {\n                    listener( ongoing );\n                    disposers.dispose( );\n                };\n                for ( const member of this.members ) {\n                    disposers.add( member.addListener( config3, listener2 ) );\n                }\n            }\n            else {\n                for ( const member of this.members ) {\n                    disposers.add( member.addListener( config2, listener ) );\n                }\n            }\n            return disposers;\n        } );\n    }\n}\n\nexport function completedListenable( ...listenables: Array<ActivityListenable> ): Listenable {\n    return new ListenableSet( ...listenables.map( listenable => listenable.completed ) );\n}\n\nexport function allListenable( ...listenables: Array<ActivityListenable> ): Listenable {\n    return new ListenableSet( ...listenables.map( listenable => listenable.all ) );\n}\n\nexport interface Changer {\n    readonly changes: ActivityListenable;\n}\n\nexport function activityListenable( ...members: Array<ActivityListenable|Changer> ): ActivityListenable {\n    return new ActivityListenableSet( ...members.map( m => {\n        return ( 'changes' in m ? m.changes : m );\n    } ) );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { alwaysTrue, Disposer, Equator, isNonNullish, Predicate, Runnable, Supplier } from '../util';\nimport { ActivityListenable, ActivityListenableSet, ActivityListener, argsForAddActivityListener, doAddActivityListener } from './activityListenable';\nimport { ListenerConfig } from './config';\nimport { argsForAddListener, Listenable, listenable, ListenableBasic } from './listenable';\nimport { doHandleImmediateFlag } from './misc';\nimport { addToActiveTxn } from './txn';\n\nexport const IS_REF_SYMBOL = '@@__GLEAM_REF__@@';\n\nexport function isRef( obj: any ): obj is ReadableRef<unknown> {\n    return !!( obj && typeof obj === 'object' && obj[ IS_REF_SYMBOL ] );\n}\n\n/**\n * Holds a mutable reference to a `V`. Read the `v` property to retrieve the value,\n * and call `addListener()` to be notified when the value changes.\n *\n * Impls may contain their own state, or may be backed by other refs. (In theory\n * they can be backed by anything that satisfies the interface, but typically the\n * most exotic it gets is being backed by other refs.)\n */\nexport interface ReadableRef<V> extends ActivityListenable {\n    readonly [IS_REF_SYMBOL]: true;\n\n    /**\n     * Returns whether this ref considers the given values equal. When a caller\n     * changes the value, this is used to determine whether to fire listeners.\n     */\n    areEqual( a: V, b: V ): boolean;\n\n    /**\n     * Returns the value currently held by this ref.\n     */\n    readonly v: V;\n}\n\n/**\n * Holds a mutable reference to a `V`. Read the `v` property to retrieve the value,\n * and call `addListener()` to be notified when the value changes. Call `set()`\n * or `update()` to change the value and fire listeners.\n *\n * Impls may contain their own state, or may be backed by other refs. (In theory\n * they can be backed by anything that satisfies the interface, but typically the\n * most exotic it gets is being backed by other refs.)\n *\n * Use `doTxn()` to make coordinated changes to multiple refs. For example:\n * ```typescript\n * const amountToTransfer = ...;\n * doTxn( ( ) => {\n *     accountBalanceRefA.update( ongoing, v => v - amountToTransfer );\n *     accountBalanceRefB.update( ongoing, v => v + amountToTransfer );\n * } );\n * ```\n * When a ref is modified in a transaction, its listeners fire at the end of the\n * transaction rather than immediately after the change. If the transaction fails\n * to complete because an exception is thrown, refs get rolled back to the values\n * they held when the transaction started, and their listeners don't fire. This way\n * listeners see a consistent set of ref values: either all pre-transaction or all\n * post-transaction. Listeners never see mid-transaction values, where some of the\n * refs have been updated but others haven't yet. (The code running inside the txn\n * is allowed to read the values of other the refs, and *does* see mid-transaction\n * values.)\n *\n * Originally inspired by Clojure's `var` and `ref`.\n */\nexport interface Ref<V> extends ReadableRef<V> {\n    /**\n     * Returns whether this call changed the value and notified listeners.\n     */\n    set( ongoing: boolean, value: V ): boolean;\n\n    /**\n     * Returns whether this call changed the value and notified listeners.\n     */\n    update( ongoing: boolean, updateFn: ( value: V ) => V ): boolean;\n\n    /**\n     * Returns whether this call changed the value and notified listeners.\n     */\n    updateIfNonNullish( ongoing: boolean, updateFn: ( value: NonNullable<V> ) => V ): boolean;\n}\n\nexport function filterListener<V>( rawListener: Runnable, equals: Equator<V>, getValue: Supplier<V> ): Runnable {\n    let value = getValue( );\n    return ( ) => {\n        const oldValue = value;\n        const newValue = getValue( );\n        if ( !equals( newValue, oldValue ) ) {\n            // Update current value\n            value = newValue;\n\n            // Fire listener\n            rawListener( );\n        }\n    };\n}\n\nexport function filterActivityListener<V>( rawListener: ActivityListener, equals: Equator<V>, getValue: Supplier<V> ): ActivityListener {\n    let value = getValue( );\n    let hasOngoingChanges = false;\n    return ongoing => {\n        const oldValue = value;\n        const newValue = getValue( );\n        if ( ( !ongoing && hasOngoingChanges ) || !equals( newValue, oldValue ) ) {\n            // Update current value\n            value = newValue;\n\n            // Keep track of whether we've seen any ongoing changes since\n            // the last completed change -- the current change is either\n            // ongoing (set the flag), or completed (clear the flag)\n            hasOngoingChanges = ongoing;\n\n            // Fire listener\n            rawListener( ongoing );\n        }\n    };\n}\n\nclass FilteredListenable<V> implements Listenable {\n    constructor(\n        readonly rawListenable: Listenable,\n        readonly equals: Equator<V>,\n        readonly getValue: Supplier<V>,\n    ) { }\n\n    addListener( listener: Runnable ): Disposer;\n    addListener( config: ListenerConfig, listener: Runnable ): Disposer;\n    addListener( a: ListenerConfig | Runnable, b?: Runnable | undefined ): Disposer {\n        const [ config, listener ] = argsForAddListener( a, b );\n        return this.doAddListener( config, listener );\n    }\n\n    protected doAddListener( config: ListenerConfig, listener: Runnable ): Disposer {\n        return doHandleImmediateFlag( config, listener, config2 => {\n            return this.rawListenable.addListener( config2, filterListener( listener, this.equals, this.getValue ) );\n        } );\n    }\n}\n\nexport function filterListenable<V>( rawListenable: Listenable, equals: Equator<V>, getValue: Supplier<V> ): Listenable {\n    return new FilteredListenable( rawListenable, equals, getValue );\n}\n\n/**\n * A `Ref` impl that contains its own state and listener lists.\n */\nexport class RefBasic<V> implements Ref<V> {\n    readonly [IS_REF_SYMBOL] = true;\n\n    protected readonly ongoingRaw: ListenableBasic;\n    protected readonly completedRaw: ListenableBasic;\n\n    protected readonly ongoingFiltered: Listenable;\n    protected readonly completedFiltered: Listenable;\n    protected readonly allFiltered: Listenable;\n\n    protected readonly _equatorFn: Equator<V>;\n    protected readonly validatorFn: Predicate<V>;\n    protected value: V;\n    protected hasOngoingChanges: boolean;\n    protected hasTxnMember: boolean;\n\n    constructor(\n        value: V,\n        equatorFn: Equator<V>,\n        validatorFn: Predicate<V> = alwaysTrue,\n    ) {\n        this.ongoingRaw = new ListenableBasic( );\n        this.completedRaw = new ListenableBasic( );\n        const allRaw = listenable( this.ongoingRaw, this.completedRaw );\n\n        this._equatorFn = equatorFn;\n        this.validatorFn = validatorFn;\n\n        this.ongoingFiltered = filterListenable( this.ongoingRaw, this._equatorFn, ( ) => this.value );\n        this.completedFiltered = filterListenable( this.completedRaw, this._equatorFn, ( ) => this.value );\n        this.allFiltered = filterListenable( allRaw, this._equatorFn, ( ) => this.value );\n\n        this.value = this.requireValid( value );\n        this.hasOngoingChanges = false;\n        this.hasTxnMember = false;\n    }\n\n    isValid( value: V ): boolean {\n        return this.validatorFn( value );\n    }\n\n    requireValid( value: V ): V {\n        if ( this.isValid( value ) ) {\n            return value;\n        }\n        else {\n            throw new Error( 'Value rejected by validate function' );;\n        }\n    }\n\n    areEqual( a: V, b: V ): boolean {\n        return this.equatorFn( a, b );\n    }\n\n    get equatorFn( ): Equator<V> {\n        return this._equatorFn;\n    }\n\n    get v( ): V {\n        return this.value;\n    }\n\n    set( ongoing: boolean, value: V ): boolean {\n        return this.doSet( ongoing, value );\n    }\n\n    update( ongoing: boolean, update: ( value: V ) => V ): boolean {\n        return this.set( ongoing, update( this.v ) );\n    }\n\n    updateIfNonNullish( ongoing: boolean, updateFn: ( value: NonNullable<V> ) => V ): boolean {\n        if ( isNonNullish( this.v ) ) {\n            return this.set( ongoing, updateFn( this.v ) );\n        }\n        else {\n            return false;\n        }\n    }\n\n    protected doSet( ongoing: boolean, value: V ): boolean {\n        if ( ( !ongoing && this.hasOngoingChanges ) || !this.areEqual( value, this.value ) ) {\n            this.requireValid( value );\n\n            // If this will be the first change since the start of the current\n            // txn, register a TxnMember to handle the possibility of rollback\n            if ( !this.hasTxnMember ) {\n                this.hasTxnMember = true;\n                const rollbackValue = this.value;\n                addToActiveTxn( {\n                    rollback: ( ) => {\n                        this.value = rollbackValue;\n                        this.hasTxnMember = false;\n                    },\n                    commit: ( ) => {\n                        this.hasTxnMember = false;\n                    }\n                } );\n            }\n\n            // Update current value\n            this.value = value;\n\n            // Keep track of whether we've seen any ongoing changes since\n            // the last completed change -- the current change is either\n            // ongoing (set the flag), or completed (clear the flag)\n            this.hasOngoingChanges = ongoing;\n\n            // Fire listeners on txn commit\n            ( ongoing ? this.ongoingRaw : this.completedRaw ).fire( );\n\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    get completed( ): Listenable {\n        return this.completedFiltered;\n    }\n\n    get all( ): Listenable {\n        return this.allFiltered;\n    }\n\n    addListener( listener: ActivityListener ): Disposer;\n    addListener( config: ListenerConfig, listener: ActivityListener ): Disposer;\n    addListener( a: ListenerConfig | ActivityListener, b?: ActivityListener | undefined ): Disposer {\n        const [ config, listener ] = argsForAddActivityListener( a, b );\n        return this.doAddListener( config, listener );\n    }\n\n    protected doAddListener( config: ListenerConfig, listener: ActivityListener ): Disposer {\n        const doImmediately = ( ) => listener( false );\n        return doHandleImmediateFlag( config, doImmediately, config2 => {\n            const listener2 = filterActivityListener( listener, this._equatorFn, ( ) => this.value );\n            return doAddActivityListener( this.ongoingRaw, this.completedRaw, config2, listener2 );\n        } );\n    }\n}\n\n/**\n * A `ReadableRef` impl backed by one or more other `ReadableRef`s. Reading the value\n * actually reads the values of the backing refs, and combines them (in a subclass-\n * specific way) to create a `V`.\n *\n * Adding listeners to an object of this class actually adds the listeners to the backing\n * refs. Notifications from the backing refs are filtered so that listeners added to this\n * object fire only when the derived value changes.\n */\nexport abstract class ReadableRefDerived<V> implements ReadableRef<V> {\n    readonly [IS_REF_SYMBOL] = true;\n\n    protected readonly listenables: ActivityListenableSet;\n    protected readonly valueFn: Supplier<V>;\n    protected readonly equatorFn: Equator<V>;\n    protected readonly _completed: Listenable;\n    protected readonly _all: Listenable;\n\n    constructor( ...listenables: ReadonlyArray<ActivityListenable> ) {\n        this.listenables = new ActivityListenableSet( ...listenables );\n\n        this.valueFn = ( ) => this.v;\n        this.equatorFn = ( a: V, b: V ) => this.areEqual( a, b );\n        this._completed = filterListenable( this.listenables.completed, this.equatorFn, this.valueFn );\n        this._all = filterListenable( this.listenables.all, this.equatorFn, this.valueFn );\n    }\n\n    abstract areEqual( a: V, b: V ): boolean;\n\n    abstract readonly v: V;\n\n    get completed( ): Listenable {\n        return this._completed;\n    }\n\n    get all( ): Listenable {\n        return this._all;\n    }\n\n    addListener( listener: ActivityListener ): Disposer;\n    addListener( config: ListenerConfig, listener: ActivityListener ): Disposer;\n    addListener( a: ListenerConfig | ActivityListener, b?: ActivityListener | undefined ): Disposer {\n        const [ config, listener ] = argsForAddActivityListener( a, b );\n        return this.doAddListener( config, listener );\n    }\n\n    protected doAddListener( config: ListenerConfig, listener: ActivityListener ): Disposer {\n        const doImmediately = ( ) => listener( false );\n        return doHandleImmediateFlag( config, doImmediately, config2 => {\n            return this.listenables.addListener( config2, filterActivityListener( listener, this.equatorFn, this.valueFn ) );\n        } );\n    }\n}\n\nexport abstract class ReadableRefDerivedCaching<V> extends ReadableRefDerived<V> {\n    protected static readonly UNINITIALIZED = Symbol( 'UNINITIALIZED' );\n\n    protected readonly upstream: Map< ReadableRef<unknown>, unknown >;\n    protected value: V | typeof ReadableRefDerivedCaching.UNINITIALIZED;\n\n    constructor( ...upstreamRefs: ReadonlyArray<ReadableRef<unknown>> ) {\n        super( ...upstreamRefs );\n\n        this.upstream = new Map( );\n        for ( const upstreamRef of upstreamRefs ) {\n            this.upstream.set( upstreamRef, upstreamRef.v );\n        }\n\n        // Can't call compute() from the constructor, because it's abstract\n        this.value = ReadableRefDerivedCaching.UNINITIALIZED;\n    }\n\n    protected static hasValueChanges( refValues: Map<ReadableRef<unknown>,unknown> ): boolean {\n        for ( const [ ref, oldValue ] of refValues ) {\n            const newValue = ref.v;\n            if ( !ref.areEqual( newValue, oldValue ) ) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    get v( ): V {\n        if ( this.value === ReadableRefDerivedCaching.UNINITIALIZED || ReadableRefDerivedCaching.hasValueChanges( this.upstream ) ) {\n            for ( const upstreamRef of this.upstream.keys( ) ) {\n                this.upstream.set( upstreamRef, upstreamRef.v );\n            }\n            this.value = this.compute( );\n        }\n        return this.value;\n    }\n\n    abstract compute( ): V;\n}\n\n/**\n * A `Ref` impl backed by one or more other refs. Reading the value actually reads the\n * values of the backing refs, and combines them (in a subclass-specific way) to create\n * a `V`.\n *\n * Changing the value actually changes the values of the backing refs in a subclass-\n * specific way. Subclasses must ensure that subsequent getter calls will return a value\n * that is equal (according to `this.areEqual()`) to the value passed to the set call.\n *\n * Adding listeners to an object of this class actually adds the listeners to the backing\n * refs. Notifications from the backing refs are filtered so that listeners added to this\n * object fire only when the derived value changes.\n *\n */\nexport abstract class RefDerived<V> extends ReadableRefDerived<V> implements Ref<V> {\n    constructor( ...listenables: ReadonlyArray<ActivityListenable> ) {\n        super( ...listenables );\n    }\n\n    set( ongoing: boolean, value: V ): boolean {\n        return this.doSet( ongoing, value );\n    }\n\n    update( ongoing: boolean, update: ( value: V ) => V ): boolean {\n        return this.set( ongoing, update( this.v ) );\n    }\n\n    updateIfNonNullish( ongoing: boolean, updateFn: ( value: NonNullable<V> ) => V ): boolean {\n        if ( isNonNullish( this.v ) ) {\n            return this.set( ongoing, updateFn( this.v ) );\n        }\n        else {\n            return false;\n        }\n    }\n\n    protected abstract doSet( ongoing: boolean, value: V ): boolean;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Listenable } from './listenable';\nimport { ListenerConfig } from './config';\nimport { Consumer, CowArray, numberOr, NOOP, Disposer } from '../util';\nimport { addToActiveTxn } from './txn';\n\nexport interface Notifier<T> extends Listenable {\n    addListener( listener: Consumer<T> ): Disposer;\n    addListener( config: ListenerConfig, listener: Consumer<T> ): Disposer;\n}\n\nexport interface FireableNotifier<T> extends Notifier<T> {\n    fire( t: T ): void;\n}\n\nexport function argsForAddConsumer<T>( a: ListenerConfig | Consumer<T>, b?: Consumer<T> | undefined ): [ ListenerConfig, Consumer<T> ] {\n    if ( b === undefined ) {\n        return [ {} as ListenerConfig, a as Consumer<T> ];\n    }\n    else {\n        return [ a as ListenerConfig, b as Consumer<T> ];\n    }\n}\n\ninterface ListenerEntry<T> {\n    config: ListenerConfig;\n    listener: Consumer<T>;\n}\n\nexport class NotifierBasic<T> implements FireableNotifier<T> {\n    protected readonly immediateArg: T;\n    protected readonly entries: CowArray<ListenerEntry<T>>;\n\n    constructor( immediateArg: T ) {\n        this.immediateArg = immediateArg;\n        this.entries = new CowArray( );\n    }\n\n    addListener( listener: Consumer<T> ): Disposer;\n    addListener( config: ListenerConfig, listener: Consumer<T> ): Disposer;\n    addListener( a: ListenerConfig | Consumer<T>, b?: Consumer<T> | undefined ): Disposer {\n        const [ config, listener ] = argsForAddConsumer( a, b );\n        return this.doAddListener( config, listener );\n    }\n\n    protected doAddListener( config: ListenerConfig, listener: Consumer<T> ): Disposer {\n        const entry = { config, listener };\n\n        if ( entry.config.immediate ) {\n            entry.listener( this.immediateArg );\n            if ( entry.config.once ) {\n                return NOOP;\n            }\n        }\n\n        this.entries.push( entry );\n        this.entries.sortStable( ( a, b ) => {\n            return ( numberOr( a.config.order, 0 ) - numberOr( b.config.order, 0 ) );\n        } );\n\n        return ( ) => {\n            this.entries.removeFirst( entry );\n        };\n    }\n\n    fire( t: T ): void {\n        addToActiveTxn( {\n            postCommit: ( ) => {\n                for ( const entry of this.entries ) {\n                    entry.listener( t );\n                    if ( entry.config.once ) {\n                        // COW list makes this safe while iterating\n                        this.entries.removeFirst( entry );\n                    }\n                }\n            }\n        } );\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { get } from './util';\nimport { FireableListenable, ListenableBasic } from './ref';\n\nexport type WorkerPoolWorker = Worker & { termination: FireableListenable };\nexport type WorkerPool = Map<WorkerPoolWorker,Promise<WorkerPoolWorker>>;\n\nexport function createWorkerPool( workerCount: number, createWorker: ( workerIndex: number ) => Worker ): WorkerPool {\n    if ( workerCount <= 0 ) {\n        throw new Error( `WorkerPool size is non-positive: size = ${workerCount}` );\n    }\n    const workerPool = new Map<WorkerPoolWorker,Promise<WorkerPoolWorker>>( );\n    for ( let i = 0; i < workerCount; i++ ) {\n        const worker = Object.assign(\n            createWorker( i ),\n            { termination: new ListenableBasic( ) },\n        );\n        workerPool.set( worker, Promise.resolve( worker ) );\n    }\n    return workerPool;\n}\n\nconst NEXT_JOB_KEY_SYMBOL = Symbol( '@@__GLEAM_NEXT_JOB_KEY__@@' );\nexport async function submitToWorkerPool<T>( workerPool: WorkerPool, startJob: ( worker: WorkerPoolWorker, jobKey: unknown ) => Promise<T> ): Promise<T> {\n    if ( workerPool.size === 0 ) {\n        throw new Error( 'WorkerPool startJob() fn contains a call to submitToWorkerPool()' );\n    }\n\n    // Wait for a worker to become available\n    const worker = await Promise.race( workerPool.values( ) );\n\n    // Claim the next job key\n    const jobKeyHolder = workerPool as { [NEXT_JOB_KEY_SYMBOL]?: number };\n    const jobKey = jobKeyHolder[ NEXT_JOB_KEY_SYMBOL ] ?? 0;\n    jobKeyHolder[ NEXT_JOB_KEY_SYMBOL ] = jobKey + 1;\n\n    // Temporarily clear the pool, to ensure that startJob() can't make nested synchronous calls to submitToWorkerPool()\n    const workersTemp = new Map( workerPool );\n    workerPool.clear( );\n\n    // Start the job -- presumably on the worker, though the details are up to startJob()\n    const jobResultPromise = get( ( ) => {\n        try {\n            return startJob( worker, jobKey );\n        }\n        catch ( e ) {\n            return Promise.reject( e );\n        }\n    } );\n\n    // Add a promise to the pool that will resolve to the worker, once it has finished the job and is free again\n    const freeWorkerPromise = jobResultPromise.then( ( ) => worker ).catch( ( ) => worker );\n    workersTemp.set( worker, freeWorkerPromise );\n\n    // Restore the pool\n    workersTemp.forEach( ( v, k ) => workerPool.set( k, v ) );\n\n    // Return the result promise for use by the caller\n    return jobResultPromise;\n}\n\nexport function destroyWorkerPool( workerPool: WorkerPool ): void {\n    for ( const [ worker ] of workerPool ) {\n        worker.terminate( );\n        worker.termination.fire( );\n    }\n    workerPool.clear( );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { appendCssLink, createCssLink } from '@metsci/gleam-util';\n\nconst cssUrl = new URL( './defaults.css', import.meta.url );\nconst cssLink = createCssLink( cssUrl );\nexport function createGleamCoreDefaultStyle( ): HTMLLinkElement {\n    return <HTMLLinkElement>cssLink.cloneNode( true );\n}\n\nconst defaultStyle = appendCssLink( document.head, createGleamCoreDefaultStyle( ) );\nexport const gleamCoreDefaultStyleLoading = defaultStyle.loading;\nexport function removeGleamCoreDefaultStyle( ): void {\n    defaultStyle.loading.catch( e => {\n        if ( e.reason === 'DISPOSED' ) {\n            // The dispose call below is expected to trigger this\n        }\n        else {\n            throw e;\n        }\n    } );\n    defaultStyle.disposers.dispose( );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { CowArray, Disposer, requireDefined } from '@metsci/gleam-util';\n\ntype Zw = [ z: number, w: number ];\n\nexport class ArrayWithZIndices<T> implements Iterable<T> {\n    readonly inReverse: Iterable<T>;\n\n    protected readonly array: CowArray<T>;\n    protected arrayNeedsSorting: boolean;\n    protected readonly zwMap: Map<T,Zw>;\n    protected wNext: number;\n\n    constructor( ) {\n        this.array = new CowArray( );\n        this.arrayNeedsSorting = false;\n        this.zwMap = new Map( );\n        this.wNext = 1;\n\n        const _this = this;\n        this.inReverse = {\n            [Symbol.iterator]( ): Iterator<T> {\n                return _this.reverseIterator( );\n            }\n        };\n    }\n\n    add( item: T, zIndex: number = 0 ): Disposer {\n        this.array.push( item );\n        const w = this.wNext++;\n        this.zwMap.set( item, [ zIndex, w ] );\n        this.arrayNeedsSorting = true;\n        return ( ) => {\n            this.delete( item );\n        };\n    }\n\n    has( item: T ): boolean {\n        return this.zwMap.has( item );\n    }\n\n    delete( item: T ): void {\n        this.array.removeFirst( item );\n        this.zwMap.delete( item );\n    }\n\n    getZIndex( item: T ): number {\n        if ( !this.zwMap.has( item ) ) {\n            throw new Error( 'Item not found' );\n        }\n        const [ z ] = requireDefined( this.zwMap.get( item ) );\n        return z;\n    }\n\n    setZIndex( item: T, zIndex: number ): void {\n        this.appendToZIndex( item, zIndex );\n    }\n\n    prependToZIndex( item: T, zIndex: number ): void {\n        if ( !this.zwMap.has( item ) ) {\n            throw new Error( 'Item not found' );\n        }\n        // Negate W so this entry gets sorted before others with the same Z\n        const w = -1 * this.wNext++;\n        this.zwMap.set( item, [ zIndex, w ] );\n        this.arrayNeedsSorting = true;\n    }\n\n    appendToZIndex( item: T, zIndex: number ): void {\n        if ( !this.zwMap.has( item ) ) {\n            throw new Error( 'Item not found' );\n        }\n        const w = this.wNext++;\n        this.zwMap.set( item, [ zIndex, w ] );\n        this.arrayNeedsSorting = true;\n    }\n\n    clear( ): void {\n        this.array.clear( );\n        this.zwMap.clear( );\n        this.arrayNeedsSorting = false;\n    }\n\n    protected sortAndGetArray( ): CowArray<T> {\n        if ( this.arrayNeedsSorting ) {\n            this.array.sort( ( a, b ) => {\n                const [ zA, wA ] = requireDefined( this.zwMap.get( a ) );\n                const [ zB, wB ] = requireDefined( this.zwMap.get( b ) );\n\n                // Z low to high\n                const zComparison = zA - zB;\n                if ( zComparison !== 0 ) {\n                    return zComparison;\n                }\n\n                // W low to high\n                const wComparison = wA - wB;\n                return wComparison;\n            } );\n            this.arrayNeedsSorting = false;\n        }\n        return this.array;\n    }\n\n    [Symbol.iterator]( ): Iterator<T> {\n        const sorted = this.sortAndGetArray( );\n        return sorted[ Symbol.iterator ]( );\n    }\n\n    reverseIterator( ): Iterator<T> {\n        const sorted = this.sortAndGetArray( );\n        return sorted.reverseIterator( );\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Disposer, Supplier } from '@metsci/gleam-util';\n\nexport function isnum( x: unknown ): x is number {\n    return ( typeof x === 'number' );\n}\n\nexport function isobj( x: unknown ): x is object {\n    return ( typeof x === 'object' && x !== null );\n}\n\nexport function isstr( x: unknown ): x is string {\n    return ( typeof x === 'string' );\n}\n\nexport function isfn( x: unknown ): x is Function {\n    return ( typeof x === 'function' );\n}\n\nexport function frozenSupplier<T>( value: T ): Supplier<T> {\n    Object.freeze( value );\n    return ( ) => value;\n}\n\nexport const ARE_TYPED_ARRAYS_LITTLE_ENDIAN = areTypedArraysLittleEndian( );\n\nfunction areTypedArraysLittleEndian( ): boolean {\n    const magic = 0x12345678;\n\n    const buffer = new ArrayBuffer( 4 );\n    ( new Uint32Array( buffer ) )[ 0 ] = magic;\n\n    const dataView = new DataView( buffer );\n    if ( dataView.getInt32( 0, true ) === magic ) {\n        return true;\n    }\n    else if ( dataView.getInt32( 0, false ) === magic ) {\n        return false;\n    }\n    else {\n        throw new Error( );\n    }\n}\n\nexport function runAndAttachEventListener<K extends keyof WindowEventMap>( window: Window, type: K, useCapture: boolean, listener: ( ) => unknown ): Disposer;\nexport function runAndAttachEventListener<K extends keyof HTMLElementEventMap>( element: HTMLElement, type: K, useCapture: boolean, listener: ( ) => unknown ): Disposer;\nexport function runAndAttachEventListener( source: GlobalEventHandlers, type: string, useCapture: boolean, listener: ( ) => unknown ): Disposer {\n    listener( );\n    return attachEventListener( source, type, useCapture, listener );\n}\n\nexport function attachEventListener<K extends keyof WindowEventMap>( window: Window, type: K, useCapture: boolean, listener: ( this: Window, ev: WindowEventMap[K] ) => unknown ): Disposer;\nexport function attachEventListener<K extends keyof HTMLElementEventMap>( element: HTMLElement, type: K, useCapture: boolean, listener: ( this: HTMLElement, ev: HTMLElementEventMap[K] ) => unknown ): Disposer;\nexport function attachEventListener( source: GlobalEventHandlers, type: string, useCapture: boolean, listener: EventListenerOrEventListenerObject ): Disposer;\nexport function attachEventListener( source: GlobalEventHandlers, type: string, useCapture: boolean, listener: EventListenerOrEventListenerObject ): Disposer {\n    source.addEventListener( type, listener, useCapture );\n    return ( ) => {\n        source.removeEventListener( type, listener, useCapture );\n    };\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { argsForAddConsumer, arrayClone, arrayRemoveFirst, arrayRemoveLast, arraySortStable, Comparator, Consumer, Disposer, ListenerConfig, NOOP, Notifier, Nullable, numberOr } from '@metsci/gleam-util';\n\ninterface ListenerEntry<T> {\n    config: ListenerConfig;\n    listener: Consumer<T>;\n}\n\nexport class NotifierTree<T> implements Notifier<T> {\n    protected readonly immediateArg: T;\n\n    protected parent: Nullable<NotifierTree<T>>;\n    protected children: Array<NotifierTree<T>>;\n\n    protected ownEntries: Array<ListenerEntry<T>>;\n    protected ownEntriesDirty: boolean;\n\n    protected subtreeEntries: Nullable<Array<ListenerEntry<T>>>;\n\n    constructor( immediateArg: T ) {\n        this.immediateArg = immediateArg;\n\n        this.parent = null;\n        this.children = [];\n\n        this.ownEntries = [];\n        this.ownEntriesDirty = false;\n\n        this.subtreeEntries = null;\n    }\n\n    setParent( parent: Nullable<NotifierTree<T>> ): void {\n        if ( this.parent ) {\n            arrayRemoveFirst( this.parent.children, this );\n            this.parent.setSubtreeEntriesDirty( );\n            this.parent = null;\n        }\n        if ( parent ) {\n            this.parent = parent;\n            this.parent.children.push( this );\n            this.parent.setSubtreeEntriesDirty( );\n        }\n    }\n\n    addListener( listener: Consumer<T> ): Disposer;\n    addListener( config: ListenerConfig, listener: Consumer<T> ): Disposer;\n    addListener( a: ListenerConfig | Consumer<T>, b?: Consumer<T> | undefined ): Disposer {\n        const [ config, listener ] = argsForAddConsumer( a, b );\n        return this.doAddListener( config, listener );\n    }\n\n    protected doAddListener( config: ListenerConfig, listener: Consumer<T> ): Disposer {\n        const entry = { config, listener };\n\n        if ( entry.config.immediate ) {\n            entry.listener( this.immediateArg );\n            if ( entry.config.once ) {\n                return NOOP;\n            }\n        }\n\n        this.ownEntries.push( entry );\n        this.ownEntriesDirty = true;\n        this.setSubtreeEntriesDirty( );\n\n        return ( ) => {\n            arrayRemoveLast( this.ownEntries, entry );\n            this.removeSubtreeEntry( entry );\n        };\n    }\n\n    protected setSubtreeEntriesDirty( ): void {\n        this.subtreeEntries = null;\n        if ( this.parent ) {\n            this.parent.setSubtreeEntriesDirty( );\n        }\n    }\n\n    protected removeSubtreeEntry( entry: ListenerEntry<T> ): Nullable<number> {\n        let i;\n        if ( this.subtreeEntries ) {\n            i = arrayRemoveLast( this.subtreeEntries, entry );\n        }\n        else {\n            i = null;\n        }\n\n        if ( this.parent ) {\n            this.parent.removeSubtreeEntry( entry );\n        }\n\n        return i;\n    }\n\n    protected sortAndGetOwnEntries( ): Array<ListenerEntry<T>> {\n        if ( this.ownEntriesDirty ) {\n            arraySortStable( this.ownEntries, ( a, b ) => {\n                return ( numberOr( a.config.order, 0 ) - numberOr( b.config.order, 0 ) );\n            } );\n            this.ownEntriesDirty = false;\n        }\n        return this.ownEntries;\n    }\n\n    protected getSubtreeEntryLists( ): Array<Array<ListenerEntry<T>>> {\n        const result = [ this.sortAndGetOwnEntries( ) ];\n        for ( const child of this.children ) {\n            result.push( ...child.getSubtreeEntryLists( ) );\n        }\n        return result;\n    }\n\n    protected doSubtreeFire( t: T ): void {\n        if ( !this.subtreeEntries ) {\n            const entryLists = this.getSubtreeEntryLists( );\n            this.subtreeEntries = mergePreSortedLists( entryLists, ( a, b ) => {\n                return ( numberOr( a.config.order, 0 ) - numberOr( b.config.order, 0 ) );\n            } );\n        }\n\n        for ( let i = 0; i < this.subtreeEntries.length; i++ ) {\n            const entry = this.subtreeEntries[ i ];\n            entry.listener( t );\n            if ( entry.config.once ) {\n                arrayRemoveLast( this.ownEntries, entry );\n                const iRemoved = this.removeSubtreeEntry( entry );\n                if ( iRemoved !== null && iRemoved <= i ) {\n                    i--;\n                }\n            }\n        }\n    }\n\n    fire( t: T ): void {\n        this.getRoot( ).doSubtreeFire( t );\n    }\n\n    protected getRoot( ): NotifierTree<T> {\n        return ( this.parent === null ? this : this.parent.getRoot( ) );\n    }\n}\n\nexport function mergePreSortedLists<T>( lists: ReadonlyArray<ReadonlyArray<T>>, compare: Comparator<T> ): Array<T> {\n    // Sort list of lists so that neighboring lists have similar lengths\n    const lists2 = arrayClone( lists );\n    arraySortStable( lists2, ( a, b ) => {\n        return ( a.length - b.length );\n    } );\n    return doMergePreSortedLists( lists2, compare );\n}\n\nexport function doMergePreSortedLists<T>( lists: ReadonlyArray<ReadonlyArray<T>>, compare: Comparator<T> ): Array<T> {\n    switch ( lists.length ) {\n        case 0: {\n            return [];\n        }\n\n        case 1: {\n            return arrayClone( lists[ 0 ] );\n        }\n\n        case 2: {\n            const result = [];\n\n            let iA = 0;\n            let iB = 0;\n            const listA = lists[ 0 ];\n            const listB = lists[ 1 ];\n\n            while ( iA < listA.length && iB < listB.length ) {\n                const vA = listA[ iA ];\n                const vB = listB[ iB ];\n                if ( compare( vA, vB ) <= 0 ) {\n                    result.push( vA );\n                    iA++;\n                }\n                else {\n                    result.push( vB );\n                    iB++;\n                }\n            }\n\n            while ( iA < listA.length ) {\n                const vA = listA[ iA ];\n                result.push( vA );\n                iA++;\n            }\n\n            while ( iB < listB.length ) {\n                const vB = listB[ iB ];\n                result.push( vB );\n                iB++;\n            }\n\n            return result;\n        }\n\n        default: {\n            const split = Math.floor( lists.length / 2 );\n            const listsA = lists.slice( 0, split );\n            const listsB = lists.slice( split );\n            const resultA = doMergePreSortedLists( listsA, compare );\n            const resultB = doMergePreSortedLists( listsB, compare );\n            return doMergePreSortedLists( [ resultA, resultB ], compare );\n        }\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { arrayAllEqual, equal, hashCode, isNullish, ValueObject } from '@metsci/gleam-util';\n\n// TODO: Support maps, sets\nexport type NumberArray = ReadonlyArray<number> | Array<number> | Int8Array | Uint8Array | Uint8ClampedArray | Int16Array | Uint16Array | Int32Array | Uint32Array | Float32Array | Float64Array;\nexport type ValueMemberArray = ReadonlyArray<ValueMember> | Array<ValueMember> | NumberArray;\nexport type ValueMember = string | number | boolean | ValueObject | null | undefined | ValueMemberArray;\n\nconst MEMBERS_ARRAY_SYMBOL = Symbol( 'membersArray' );\nconst MEMBERS_HASH_SYMBOL = Symbol( 'membersHash' );\nexport class ValueBase implements ValueObject {\n    protected readonly [ MEMBERS_ARRAY_SYMBOL ]: ReadonlyArray<ValueMember>;\n    protected readonly [ MEMBERS_HASH_SYMBOL ]: number;\n\n    constructor( ...members: ReadonlyArray<ValueMember> ) {\n        this[ MEMBERS_ARRAY_SYMBOL ] = members;\n        this[ MEMBERS_HASH_SYMBOL ] = valueArrayHash( this[ MEMBERS_ARRAY_SYMBOL ] );\n    }\n\n    hashCode( ): number {\n        return this[ MEMBERS_HASH_SYMBOL ];\n    }\n\n    equals( o: unknown ): boolean {\n        const a = this[ MEMBERS_ARRAY_SYMBOL ];\n        const b: ValueMember = ( o as any )?.[ MEMBERS_ARRAY_SYMBOL ];\n        return valuesEqual( a, b );\n    }\n}\n\nexport class ValueBase2 implements ValueObject {\n    hashCode( ): number {\n        const prime = 31;\n        let result = 1;\n        for ( const propName of Object.getOwnPropertyNames( this ) ) {\n            const propValue = ( this as any )[ propName ];\n            result = ( prime*result + valueHash( propValue ) ) | 0;\n        }\n        return result;\n    }\n\n    equals( o: unknown ): boolean {\n        if ( o === this ) {\n            return true;\n        }\n        else if ( isNullish( o ) ) {\n            return false;\n        }\n        else {\n            const propNames = Object.getOwnPropertyNames( this );\n            if ( !arrayAllEqual( Object.getOwnPropertyNames( o ), propNames ) ) {\n                return false;\n            }\n            for ( const propName of propNames ) {\n                const a = ( this as any )[ propName ];\n                const b = ( o as any )[ propName ];\n                if ( !valuesEqual( a, b ) ) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n}\n\nfunction valuesEqual( a: ValueMember, b: ValueMember ): boolean {\n    if ( isValueArray( a ) && isValueArray( b ) ) {\n        return arrayAllEqual( a, b, valuesEqual );\n    }\n    else {\n        return equal( a, b );\n    }\n}\n\nfunction valueHash( x: ValueMember ): number {\n    if ( isValueArray( x ) ) {\n        return valueArrayHash( x );\n    }\n    else {\n        return hashCode( x );\n    }\n}\n\nconst typedArrayStrings = new Set( [\n    ( new Int8Array( 0 ) ).toString( ),\n    ( new Uint8Array( 0 ) ).toString( ),\n    ( new Uint8ClampedArray( 0 ) ).toString( ),\n    ( new Int16Array( 0 ) ).toString( ),\n    ( new Uint16Array( 0 ) ).toString( ),\n    ( new Int32Array( 0 ) ).toString( ),\n    ( new Uint32Array( 0 ) ).toString( ),\n    ( new Float32Array( 0 ) ).toString( ),\n    ( new Float64Array( 0 ) ).toString( ),\n] );\n\nfunction isValueArray( x: ValueMember ): x is ValueMemberArray {\n    // Would be nice to do something more comprehensive, but it's not obvious what that would be\n    return ( Array.isArray( x ) || typedArrayStrings.has( Object.prototype.toString.call( x ) ) );\n}\n\nfunction valueArrayHash( xs: ArrayLike<ValueMember> ): number {\n    const prime = 193;\n    let result = 1;\n    result = ( prime*result + hashCode( xs.length ) ) | 0;\n    for ( let i = 0; i < xs.length; i++ ) {\n        result = ( prime*result + valueHash( xs[i] ) ) | 0;\n    }\n    return result;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { clamp, requireNonNull } from '@metsci/gleam-util';\nimport { ValueBase2 } from './valueBase';\n\nexport class Color extends ValueBase2 {\n    constructor(\n        readonly r: number,\n        readonly g: number,\n        readonly b: number,\n        readonly a: number,\n    ) {\n        super( );\n    }\n\n    withUpdatedAlpha( updateAlpha: ( a: number ) => number ): Color {\n        return new Color( this.a, this.g, this.b, updateAlpha( this.a ) );\n    }\n\n    get cssString( ) : string {\n        if ( this.a >= 1 ) {\n            return `rgb( ${fracToByte( this.r )},${fracToByte( this.g )},${fracToByte( this.b )} )`;\n        }\n        else {\n            // CSS uses rgb on [0,255] but alpha on [0,1]\n            return `rgba( ${fracToByte( this.r )},${fracToByte( this.g )},${fracToByte( this.b )}, ${this.a} )`;\n        }\n    }\n\n    get rgbaString( ) : string {\n        return '' + fracToByte( this.r ) + ',' + fracToByte( this.g ) + ',' + fracToByte( this.b ) + ',' + fracToByte( this.a );\n    }\n}\n\nexport class MutableColor {\n    r: number;\n    g: number;\n    b: number;\n    a: number;\n\n    constructor( color: Color ) {\n        this.r = color.r;\n        this.g = color.g;\n        this.b = color.b;\n        this.a = color.a;\n    }\n\n    set( color: Color ): void {\n        this.r = color.r;\n        this.g = color.g;\n        this.b = color.b;\n        this.a = color.a;\n    }\n\n    get( ): Color {\n        return new Color( this.r, this.g, this.b, this.a );\n    }\n}\n\nfunction fracToByte( frac: number ): number {\n    return Math.round( 255 * clamp( 0, 1, frac ) );\n}\n\nexport const TRANSPARENT = rgba( 1, 1, 1, 0 );\n\nexport const BLACK = rgb( 0, 0, 0 );\nexport const WHITE = rgb( 1, 1, 1 );\nexport const GRAY = rgb( 0.5, 0.5, 0.5 );\n\nexport const RED   = rgb( 1, 0, 0 );\nexport const GREEN = rgb( 0, 1, 0 );\nexport const BLUE  = rgb( 0, 0, 1 );\n\nexport const CYAN    = rgb( 0, 1, 1 );\nexport const MAGENTA = rgb( 1, 0, 1 );\nexport const YELLOW  = rgb( 1, 1, 0 );\nexport const PERIWINKLE  = rgb( 0.561, 0.561, 0.961 );\n\nexport function rgba( r: number, g: number, b: number, a: number ): Color {\n    return new Color( r, g, b, a );\n}\n\nexport function rgb( r: number, g: number, b: number ): Color {\n    return new Color( r, g, b, 1 );\n}\n\n/**\n * Parses a Color object from a CSS color string. The string must\n * be a valid CSS color -- otherwise behavior is not defined.\n *\n * Named colors may have different values in different browsers.\n */\nconst cacheParseColor = new Map( ) as Map<string,Color>;\nexport function parseColor( s: string ): Color {\n    const cached = cacheParseColor.get( s );\n    if ( cached !== undefined ) {\n        return cached;\n    }\n    else {\n        const result = doParseColor( s );\n        cacheParseColor.set( s, result );\n        return result;\n    }\n}\n\nconst canvasParseColor = document.createElement( 'canvas' );\ncanvasParseColor.width = 1;\ncanvasParseColor.height = 1;\nconst gParseColor = requireNonNull( canvasParseColor.getContext( '2d', { willReadFrequently: true } ) );\nfunction doParseColor( s: string ): Color {\n    gParseColor.clearRect( 0, 0, 1, 1 );\n    gParseColor.fillStyle = s;\n    gParseColor.fillRect( 0, 0, 1, 1 );\n    const rgbaData = gParseColor.getImageData( 0, 0, 1, 1 ).data;\n\n    const R = rgbaData[ 0 ] / 255;\n    const G = rgbaData[ 1 ] / 255;\n    const B = rgbaData[ 2 ] / 255;\n    const A = rgbaData[ 3 ] / 255;\n    return rgba( R, G, B, A );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Interval1D, Interval2D, Nullable, Point2D, Supplier } from '@metsci/gleam-util';\nimport { Axis1D, TagMap } from '../core';\nimport { ValueBase } from './valueBase';\n\nexport const GL = WebGLRenderingContext;\n\nexport const GLSL_HIGHP_MAXVALUE = 2**62;\n\nexport function drawingBufferBounds( gl: WebGLRenderingContext ): Nullable<Interval2D> {\n    const w = gl.drawingBufferWidth;\n    const h = gl.drawingBufferHeight;\n\n    // The context may have been lost before we finished reading the\n    // buffer dimensions, in which case the values we read may not be\n    // valid.\n    //\n    // Once context is lost, we assume that it can't get restored until\n    // after the 'webglcontextlost' event has been dispatched and handled\n    // -- which means not until after this method has returned. This behavior\n    // isn't spelled out in the spec, but it is a reasonable assumption\n    // for several reasons:\n    //\n    //   1. At least some browsers are implemented in a way that guarantees\n    //      this behavior (based on a look at their open-source code)\n    //\n    //   2. The spec gives examples involving event.preventDefault(), which\n    //      would be hard or impossible for an impl to satisfy without also\n    //      guaranteeing this behavior\n    //\n    //   3. If this behavior were not guaranteed, then there would be no reliable\n    //      way to get the buffer dimensions\n    //\n    if ( gl.isContextLost( ) ) {\n        return null;\n    }\n    else {\n        return Interval2D.fromRect( 0, 0, w, h );\n    }\n}\n\nexport function fracToNdc( frac: number ): number {\n    return ( -1 + 2*frac );\n}\n\nexport function ndcToFrac( ndc: number ): number {\n    return ( 0.5*( ndc + 1 ) );\n}\n\nexport function fracToNdc2D( frac: Point2D ): Point2D {\n    return new Point2D(\n        -1 + 2*frac.x,\n        -1 + 2*frac.y,\n    );\n}\n\nexport function ndcToFrac2D( ndc: Point2D ): Point2D {\n    return new Point2D(\n        0.5*( ndc.x + 1 ),\n        0.5*( ndc.y + 1 ),\n    );\n}\n\n/**\n * Returns `array` if it is already large enough to handle the required capacity.\n * Otherwise creates and returns a new array that has at least the required capacity.\n * If a new array is created, it is left uninitialized -- data from `array` is NOT\n * copied into it, unless `copyData` is true.\n */\nexport function ensureHostBufferCapacity( array: Float32Array, minCapacity_FLOATS: number, copyData: boolean = false ): Float32Array {\n    if ( array.length < minCapacity_FLOATS ) {\n        const newCapacity = Math.max( minCapacity_FLOATS, 2*array.length );\n        const newArray = new Float32Array( newCapacity );\n        if ( copyData ) {\n            newArray.set( array );\n        }\n        return newArray;\n    }\n    else {\n        return array;\n    }\n}\n\n/**\n * Like `gl.bufferData`, but avoids reallocating the device buffer when possible,\n * and copies only the section of the host buffer that's actually populated.\n *\n * Returns the new capacity (in bytes) of the device buffer.\n */\nexport function pushBufferToDevice_BYTES(\n    gl: WebGLRenderingContext,\n    target: number,\n    currentCapacity_BYTES: number,\n    hCoords: Float32Array,\n    hCoordCount: number = hCoords.length,\n): number {\n    // Grow device buffer to match host buffer size\n    const hCapacity_BYTES = hCoords.byteLength;\n    let dCapacity_BYTES = currentCapacity_BYTES;\n    if ( hCapacity_BYTES > 0 && dCapacity_BYTES !== hCapacity_BYTES ) {\n        gl.bufferData( target, hCapacity_BYTES, GL.STATIC_DRAW );\n        dCapacity_BYTES = hCapacity_BYTES;\n    }\n\n    // Push coords from host to device\n    if ( hCoordCount > 0 ) {\n        gl.bufferSubData( target, 0, hCoords.subarray( 0, hCoordCount ) );\n    }\n\n    // Return new capacity of device buffer\n    return dCapacity_BYTES;\n}\n\nexport class Float32Scratch {\n    protected values: Float32Array;\n\n    constructor( ) {\n        this.values = new Float32Array( 0 );\n    }\n\n    getTempSpace( sizeFloats: number ): Float32Array {\n        this.values = ensureHostBufferCapacity( this.values, sizeFloats, false );\n        return this.values.subarray( 0, sizeFloats );\n    }\n}\n\nexport function put1f( array: Float32Array, i: number, a: number ): number {\n    array[ i++ ] = a;\n    return i;\n}\n\nexport function put2f( array: Float32Array, i: number, a: number, b: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    return i;\n}\n\nexport function put3f( array: Float32Array, i: number, a: number, b: number, c: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    return i;\n}\n\nexport function put4f( array: Float32Array, i: number, a: number, b: number, c: number, d: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    array[ i++ ] = d;\n    return i;\n}\n\nexport function put6f( array: Float32Array, i: number, a: number, b: number, c: number, d: number, e: number, f: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    array[ i++ ] = d;\n    array[ i++ ] = e;\n    array[ i++ ] = f;\n    return i;\n}\n\nexport function put3ub( array: Uint8Array, i: number, a: number, b: number, c: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    return i;\n}\n\nexport function put4ub( array: Uint8Array, i: number, a: number, b: number, c: number, d: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    array[ i++ ] = d;\n    return i;\n}\n\nexport function put1ui( array: Uint32Array, i: number, a: number ): number {\n    array[ i++ ] = a;\n    return i;\n}\n\nexport function put2ui( array: Uint32Array, i: number, a: number, b: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    return i;\n}\n\nexport function put3ui( array: Uint32Array, i: number, a: number, b: number, c: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    return i;\n}\n\nexport function put4ui( array: Uint32Array, i: number, a: number, b: number, c: number, d: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    array[ i++ ] = d;\n    return i;\n}\n\nexport function put1s( array: Int16Array, i: number, a: number ): number {\n    array[ i++ ] = a;\n    return i;\n}\n\nexport function put2s( array: Int16Array, i: number, a: number, b: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    return i;\n}\n\nexport function put3s( array: Int16Array, i: number, a: number, b: number, c: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    return i;\n}\n\nexport function put4s( array: Int16Array, i: number, a: number, b: number, c: number, d: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    array[ i++ ] = d;\n    return i;\n}\n\nexport function putRgba( array: Float32Array, i: number, color: { r: number, g: number, b: number, a: number } ): number {\n    return put4f( array, i, color.r, color.g, color.b, color.a );\n}\n\nexport function putRgb( array: Float32Array, i: number, color: { r: number, g: number, b: number } ): number {\n    return put3f( array, i, color.r, color.g, color.b );\n}\n\nexport function putAlignedBox( array: Float32Array, i: number, xMin: number, xMax: number, yMin: number, yMax: number ): number {\n    i = put2f( array, i, xMin, yMax );\n    i = put2f( array, i, xMin, yMin );\n    i = put2f( array, i, xMax, yMax );\n\n    i = put2f( array, i, xMax, yMax );\n    i = put2f( array, i, xMin, yMin );\n    i = put2f( array, i, xMax, yMin );\n\n    return i;\n}\n\nexport function axisBoundsFn<B>( axis: { bounds: B } ): Supplier<B> {\n    return ( ) => axis.bounds;\n}\n\nexport function axisViewportFn_PX<V>( axis: { viewport_PX: V } ): Supplier<V> {\n    return ( ) => axis.viewport_PX;\n}\n\nexport function paneViewportFn_PX<V>( pane: { getViewport_PX: Supplier<V> } ): Supplier<V> {\n    return ( ) => pane.getViewport_PX( );\n}\n\nexport function tagBoundsFn( tags: TagMap, minKey: string, maxKey: string ): Supplier<Interval1D> {\n    return ( ) => tags.requireInterval( minKey, maxKey );\n}\n\nexport function tagCoordsFn( tags: TagMap ): Supplier<Iterable<number>> {\n    return ( ) => tags.sortedCoords( );\n}\n\n// TODO: Be more careful about PX relative to axis, viewport, and root-viewport\nexport function xPixelToNdc( xViewport_PX: Interval1D, x_VPX: number ): number {\n    return fracToNdc( x_VPX / xViewport_PX.span );\n}\n\n// TODO: Be more careful about PX relative to axis, viewport, and root-viewport\nexport function yDownwardPixelToNdc( yViewport_PX: Interval1D, y_VPX: number ): number {\n    return yUpwardPixelToNdc( yViewport_PX, yViewport_PX.span - y_VPX );\n}\n\n// TODO: Be more careful about PX relative to axis, viewport, and root-viewport\nexport function yUpwardPixelToNdc( yViewport_PX: Interval1D, y_VUPX: number ): number {\n    return fracToNdc( y_VUPX / yViewport_PX.span );\n}\n\nexport function putVerticalLines( coords_NDC: Float32Array, i: number, viewport_PX: Interval2D, thickness_PX: number, offset_PX: number, xAxis: Nullable<Axis1D>, xs: ReadonlyArray<number> ): number {\n    if ( xAxis && xs.length > 0 ) {\n        const yMin_NDC = -1;\n        const yMax_NDC = +1;\n\n        const wPixel_NDC = 2 / viewport_PX.w;\n        const wLine_NDC = thickness_PX * wPixel_NDC;\n\n        for ( const x of xs ) {\n            const x_PX = xAxis.coordToPx( x ) + offset_PX;\n            const xMin_NDC = fracToNdc( viewport_PX.x.valueToFrac( Math.round( x_PX - 0.5*thickness_PX ) ) );\n            const xMax_NDC = xMin_NDC + wLine_NDC;\n\n            i = putAlignedBox( coords_NDC, i, xMin_NDC, xMax_NDC, yMin_NDC, yMax_NDC );\n        }\n    }\n    return i;\n}\n\nexport function putHorizontalLines( coords_NDC: Float32Array, i: number, viewport_PX: Interval2D, thickness_PX: number, offset_PX: number, yAxis: Nullable<Axis1D>, ys: ReadonlyArray<number> ): number {\n    if ( yAxis && ys.length > 0 ) {\n        const xMin_NDC = -1;\n        const xMax_NDC = +1;\n\n        const hPixel_NDC = 2 / viewport_PX.h;\n        const hLine_NDC = thickness_PX * hPixel_NDC;\n\n        for ( const y of ys ) {\n            const y_UPX = yAxis.coordToPx( y ) + offset_PX;\n            const yMin_NDC = fracToNdc( viewport_PX.y.valueToFrac( Math.round( y_UPX - 0.5*thickness_PX ) ) );\n            const yMax_NDC = yMin_NDC + hLine_NDC;\n\n            i = putAlignedBox( coords_NDC, i, xMin_NDC, xMax_NDC, yMin_NDC, yMax_NDC );\n        }\n    }\n    return i;\n}\n\nexport function glViewport( gl: WebGLRenderingContext, viewport_PX: Interval2D ): void {\n    gl.viewport( viewport_PX.xMin, viewport_PX.yMin, viewport_PX.w, viewport_PX.h );\n}\n\nexport function glScissor( gl: WebGLRenderingContext, scissor_PX: Interval2D ): void {\n    gl.scissor( scissor_PX.xMin, scissor_PX.yMin, scissor_PX.w, scissor_PX.h );\n}\n\nexport function requireFloatTextureSupport( gl: WebGLRenderingContext ): void {\n    if ( !( gl instanceof WebGL2RenderingContext || gl.getExtension( 'OES_texture_float' ) ) ) {\n        throw new Error( 'Float textures aren\\'t support' );\n    }\n}\n\nexport function requireVertexTexUnits( gl: WebGLRenderingContext, numRequired: number ): void {\n    const numSupported = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\n    if ( numSupported < numRequired ) {\n        throw new Error( `Device doesn\\'t support enough vertex-shader texture units: supported = ${numSupported}, required = ${numRequired}` );\n    }\n}\n\nexport function activeTexture( gl: WebGLRenderingContext, texUnit: number ): void {\n    gl.activeTexture( GL.TEXTURE0 + texUnit );\n}\n\nexport function bindTexture( gl: WebGLRenderingContext, texUnit: number, texture: Nullable<WebGLTexture> ): number {\n    activeTexture( gl, texUnit );\n    gl.bindTexture( GL.TEXTURE_2D, texture );\n    return texUnit;\n}\n\nexport function enablePremultipliedAlphaBlending( gl: WebGLRenderingContext ): void {\n    gl.blendEquation( GL.FUNC_ADD );\n    gl.blendFunc( GL.ONE, GL.ONE_MINUS_SRC_ALPHA );\n    gl.enable( GL.BLEND );\n}\n\nexport function disableBlending( gl: WebGLRenderingContext ): void {\n    gl.disable( GL.BLEND );\n}\n\ntype DprWindow = { devicePixelRatio: number };\ntype DprDocument = { defaultView: DprWindow | null };\ntype DprElement = { ownerDocument: DprDocument };\ntype DprPeer = { peer: DprElement };\n\n/**\n * Device pixel ratio. This is needed to convert logical pixels (aka CSS pixels)\n * to physical pixels (which are the units used by most Gleam code):\n * ```typescript\n * const dpr = currentDpr( pane );\n * const width_PX = width_LPX * dpr;\n * const height_PX = height_LPX * dpr;\n * ```\n * Reflects desktop-environment scaling (e.g. for HiDPI displays) and browser zoom.\n */\nexport function currentDpr( x: DprWindow | DprDocument | DprElement | DprPeer ): number {\n    return (\n        'devicePixelRatio' in x ? x : (\n            'defaultView' in x ? x : (\n                'ownerDocument' in x ? x : (\n                    x.peer\n                )\n            ).ownerDocument\n        ).defaultView\n    )?.devicePixelRatio || 1;\n}\n\nexport function getMouseLoc_PX( element: Element, ev: MouseEvent ): Point2D {\n    // The 0.5px adjustments move the mouse coords to the center of the physical pixel\n    const dpr = currentDpr( element );\n    const bounds = element.getBoundingClientRect( );\n    const x_PX = ( ev.clientX - bounds.left )*dpr + 0.5;\n    const y_PX = ( bounds.bottom - ev.clientY )*dpr - 0.5;\n    return new Point2D( x_PX, y_PX );\n}\n\nexport class ModifierSet extends ValueBase {\n    static readonly EMPTY: ModifierSet = new ModifierSet( false, false, false, false );\n\n    constructor(\n        readonly alt: boolean,\n        readonly ctrl: boolean,\n        readonly shift: boolean,\n        readonly meta: boolean,\n    ) {\n        super( alt, ctrl, shift, meta );\n    }\n\n    isEmpty( ): boolean {\n        return !( this.alt || this.ctrl || this.shift || this.meta );\n    }\n}\n\nexport function getModifiers( ev: {\n    altKey: boolean,\n    ctrlKey: boolean,\n    shiftKey: boolean,\n    metaKey: boolean,\n} ): ModifierSet {\n    return new ModifierSet( ev.altKey, ev.ctrlKey, ev.shiftKey, ev.metaKey );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { ImmutableList, newImmutableList } from '@metsci/gleam-util';\nimport { Color, MutableColor, WHITE } from './color';\nimport { GL, put3ub, put4ub, putRgb, putRgba } from './misc';\n\nexport interface ColorMapFn {\n    ( value: number, result: MutableColor ): void;\n}\n\nexport interface ColorTableFormat {\n    numChannels: number,\n    glType: number,\n    glFormat: number,\n}\nexport const RGB8UI = Object.freeze( { glFormat: GL.RGB, numChannels: 3, glType: GL.UNSIGNED_BYTE } );\nexport const RGB32F = Object.freeze( { glFormat: GL.RGB, numChannels: 3, glType: GL.FLOAT } );\nexport const RGBA8UI = Object.freeze( { glFormat: GL.RGBA, numChannels: 4, glType: GL.UNSIGNED_BYTE } );\nexport const RGBA32F = Object.freeze( { glFormat: GL.RGBA, numChannels: 4, glType: GL.FLOAT } );\n\nexport class ColorTablePopulator {\n    protected readonly format: ColorTableFormat;\n    protected readonly interp: number;\n    protected readonly colors: Uint8Array | Float32Array;\n    protected readonly mutators: ImmutableList<ColorTableMutator>;\n\n    constructor( format: ColorTableFormat, interp: number, colors: Uint8Array | Float32Array, mutators: Iterable<ColorTableMutator> = [] ) {\n        this.format = format;\n        this.interp = interp;\n        this.colors = colors;\n        this.mutators = newImmutableList( mutators );\n    }\n\n    withMutator( mutator: ColorTableMutator ): ColorTablePopulator {\n        return new ColorTablePopulator( this.format, this.interp, this.colors, this.mutators.push( mutator ) );\n    }\n\n    populate( gl: WebGLRenderingContext, target: number ): void {\n        const { numChannels, glType, glFormat } = this.format;\n\n        let colors;\n        if ( this.mutators.size === 0 ) {\n            colors = this.colors;\n        }\n        else {\n            colors = this.colors.slice( );\n            for ( const mutator of this.mutators ) {\n                mutator.mutateInPlace( this.format, colors );\n            }\n        }\n\n        // Strictly speaking WebGL doesn't guarantee support for FLOAT textures (OES_texture_float)\n        // or LINEAR interp of FLOAT textures (OES_texture_float_linear), but they are supported in\n        // all major browsers\n        if ( !( gl instanceof WebGL2RenderingContext || gl.getExtension( 'OES_texture_float' ) ) ) {\n            throw new Error( );\n        }\n        if ( this.interp === GL.LINEAR && !( gl instanceof WebGL2RenderingContext || gl.getExtension( 'OES_texture_float_linear' ) ) ) {\n            throw new Error( );\n        }\n\n        const numColors = Math.floor( colors.length / numChannels );\n        gl.texParameteri( target, GL.TEXTURE_MAG_FILTER, this.interp );\n        gl.texParameteri( target, GL.TEXTURE_MIN_FILTER, this.interp );\n        gl.texParameteri( target, GL.TEXTURE_WRAP_S, GL.CLAMP_TO_EDGE );\n        gl.texParameteri( target, GL.TEXTURE_WRAP_T, GL.CLAMP_TO_EDGE );\n        gl.texImage2D( target, 0, glFormat, numColors, 1, 0, glFormat, glType, colors );\n    }\n}\n\nexport function newColorTableEntry<S extends string>( key: S, format: ColorTableFormat, interp: number, colors: Uint8Array | Float32Array ): Readonly<[S,ColorTablePopulator]>;\nexport function newColorTableEntry( key: string, format: ColorTableFormat, interp: number, colors: Uint8Array | Float32Array ): Readonly<[string,ColorTablePopulator]>;\nexport function newColorTableEntry( key: string, format: ColorTableFormat, interp: number, colors: Uint8Array | Float32Array ): Readonly<[string,ColorTablePopulator]> {\n    return Object.freeze( [ key, new ColorTablePopulator( format, interp, colors ) ] as const );\n}\n\nexport interface ColorTableMutator {\n    mutateInPlace( format: ColorTableFormat, colors: Uint8Array | Float32Array ): void;\n}\n\nclass ColorTableInverter implements ColorTableMutator {\n    mutateInPlace( format: ColorTableFormat, colors: Uint8Array | Float32Array ): void {\n        if ( colors.length >= format.numChannels ) {\n            const tmp = colors.slice( 0, format.numChannels );\n            const nj = tmp.length;\n            const ni = ( colors.length / nj ) | 0;\n            for ( let i = 0; i < ni >> 1; i++ ) {\n                const a = nj*( ni - 1 - i );\n                const b = nj*i;\n                for ( let j = 0; j < nj; j++ ) {\n                    tmp[ j ] = colors[ a + j ];\n                    colors[ a + j ] = colors[ b + j ];\n                    colors[ b + j ] = tmp[ j ];\n                }\n            }\n        }\n    }\n}\nexport const COLOR_TABLE_INVERTER = new ColorTableInverter( );\n\nexport function solidColorTablePopulator( color: Color ): ColorTablePopulator {\n    return new ColorTablePopulator( RGBA8UI, GL.NEAREST, createSolidColorTable_RGBA8UI( color ) );\n}\n\nexport function createSolidColorTable_RGBA8UI( color: Color ): Uint8Array {\n    const table = new Uint8Array( 4 );\n    put4ub( table, 0, 255*color.r, 255*color.g, 255*color.b, 255*color.a );\n    return table;\n}\n\nexport function createSolidColorTable_RGBA32F( color: Color ): Float32Array {\n    const table = new Float32Array( 4 );\n    putRgba( table, 0, color );\n    return table;\n}\n\nexport function withAlphaGradient_RGBA8UI( rgb: Uint8Array, alphaGradient: ( frac: number ) => number ): Uint8Array {\n    const numColors = ( rgb.length / 3 ) | 0;\n    const rgba = new Uint8Array( 4*numColors );\n    for ( let i = 0; i < numColors; i++ ) {\n        const frac = i / ( numColors - 1 );\n        rgba[ 4*i + 0 ] = rgb[ 3*i + 0 ];\n        rgba[ 4*i + 1 ] = rgb[ 3*i + 1 ];\n        rgba[ 4*i + 2 ] = rgb[ 3*i + 2 ];\n        rgba[ 4*i + 3 ] = 255 * alphaGradient( frac );\n    }\n    return rgba;\n}\n\nexport function withAlphaGradient_RGBA32F( rgb: Float32Array, alphaGradient: ( frac: number ) => number ): Float32Array {\n    const numColors = ( rgb.length / 3 ) | 0;\n    const rgba = new Float32Array( 4*numColors );\n    for ( let i = 0; i < numColors; i++ ) {\n        const frac = i / ( numColors - 1 );\n        rgba[ 4*i + 0 ] = rgb[ 3*i + 0 ];\n        rgba[ 4*i + 1 ] = rgb[ 3*i + 1 ];\n        rgba[ 4*i + 2 ] = rgb[ 3*i + 2 ];\n        rgba[ 4*i + 3 ] = alphaGradient( frac );\n    }\n    return rgba;\n}\n\nexport function withConstantAlpha_RGBA8UI( rgb: Uint8Array, alpha: number ): Uint8Array {\n    return withAlphaGradient_RGBA8UI( rgb, ( ) => alpha );\n}\n\nexport function withConstantAlpha_RGBA32F( rgb: Float32Array, alpha: number ): Float32Array {\n    return withAlphaGradient_RGBA32F( rgb, ( ) => alpha );\n}\n\n/**\n * Discards the gradient's alpha values.\n */\nexport function createColorTable_RGB8UI( numColors: number, gradient: ColorMapFn ): Uint8Array {\n    const table = new Uint8Array( 3 * numColors );\n    const color = new MutableColor( WHITE );\n    for ( let i = 0; i < numColors; i++ ) {\n        const frac = i / ( numColors - 1 );\n        gradient( frac, color );\n        put3ub( table, 3*i, 255*color.r, 255*color.g, 255*color.b );\n    }\n    return table;\n}\n\n/**\n * Discards the gradient's alpha values.\n */\nexport function createColorTable_RGB32F( numColors: number, gradient: ColorMapFn ): Float32Array {\n    const table = new Float32Array( 3 * numColors );\n    const color = new MutableColor( WHITE );\n    for ( let i = 0; i < numColors; i++ ) {\n        const frac = i / ( numColors - 1 );\n        gradient( frac, color );\n        putRgb( table, 3*i, color );\n    }\n    return table;\n}\n\nexport function createColorTable_RGBA8UI( numColors: number, gradient: ColorMapFn ): Uint8Array {\n    const table = new Uint8Array( 4 * numColors );\n    const color = new MutableColor( WHITE );\n    for ( let i = 0; i < numColors; i++ ) {\n        const frac = i / ( numColors - 1 );\n        gradient( frac, color );\n        put4ub( table, 4*i, 255*color.r, 255*color.g, 255*color.b, 255*color.a );\n    }\n    return table;\n}\n\nexport function createColorTable_RGBA32F( numColors: number, gradient: ColorMapFn ): Float32Array {\n    const table = new Float32Array( 4 * numColors );\n    const color = new MutableColor( WHITE );\n    for ( let i = 0; i < numColors; i++ ) {\n        const frac = i / ( numColors - 1 );\n        gradient( frac, color );\n        putRgba( table, 4*i, color );\n    }\n    return table;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { newColorTableEntry, RGB8UI } from './colorTable';\nimport { GL } from './misc';\n\n// These colormaps are distributed under the CC BY license (https://creativecommons.org/licenses/by/4.0/legalcode).\n// If you find this work useful please cite https://colorcet.com/ and the paper:\n//     Peter Kovesi. Good Colour Maps: How to Design Them.\n//     arXiv:1509.03700 [cs.GR] 2015\n\n// Linear\nexport const CET_L01_RGB8UI = new Uint8Array( [0,0,0,1,1,1,3,3,3,4,4,4,6,6,6,7,7,7,9,9,9,10,10,10,11,11,11,13,13,13,14,14,14,15,15,15,16,16,16,17,17,17,18,18,18,19,19,19,20,20,20,21,21,21,22,22,22,22,22,22,23,23,23,24,24,24,25,25,25,26,26,26,26,26,26,27,27,27,28,28,28,29,29,29,29,29,29,30,30,30,31,31,31,32,32,32,33,33,33,33,33,33,34,34,34,35,35,35,36,36,36,37,37,37,37,37,37,38,38,38,39,39,39,40,40,40,41,41,41,42,42,42,42,42,42,43,43,43,44,44,44,45,45,45,46,46,46,47,47,47,47,47,47,48,48,48,49,49,49,50,50,50,51,51,51,52,52,52,53,53,53,53,53,53,54,54,54,55,55,55,56,56,56,57,57,57,58,58,58,59,59,59,59,60,60,60,60,60,61,61,61,62,62,62,63,63,63,64,64,64,65,65,65,66,66,66,67,67,67,67,67,67,68,68,68,69,69,69,70,70,70,71,71,71,72,72,72,73,73,73,74,74,74,75,75,75,76,76,76,77,77,77,77,77,77,78,78,78,79,79,79,80,80,80,81,81,81,82,82,82,83,83,83,84,84,84,85,85,85,86,86,86,87,87,87,88,88,88,89,89,89,90,90,90,90,90,90,91,91,91,92,92,92,93,93,93,94,94,94,95,95,95,96,96,96,97,97,97,98,98,98,99,99,99,100,100,100,101,101,101,102,102,102,103,103,103,104,104,104,105,105,105,106,106,106,107,107,107,108,108,108,109,109,109,110,110,110,111,111,111,112,112,112,113,113,113,113,114,114,114,114,114,115,115,115,116,116,116,117,117,117,118,118,118,119,119,119,120,120,120,121,121,121,122,122,122,123,123,123,124,124,124,125,125,125,126,126,126,127,127,127,128,128,128,129,129,129,130,130,130,131,131,131,132,132,132,133,133,133,134,134,134,135,135,135,136,136,136,137,137,137,138,138,138,139,139,139,140,140,140,141,141,141,142,143,143,144,144,144,145,145,145,146,146,146,147,147,147,148,148,148,149,149,149,150,150,150,151,151,151,152,152,152,153,153,153,154,154,154,155,155,155,156,156,156,157,157,157,158,158,158,159,159,159,160,160,160,161,161,161,162,162,162,163,163,163,164,164,164,165,165,165,166,166,166,167,167,167,168,168,168,169,169,169,170,171,171,172,172,172,173,173,173,174,174,174,175,175,175,176,176,176,177,177,177,178,178,178,179,179,179,180,180,180,181,181,181,182,182,182,183,183,183,184,184,184,185,185,185,186,186,186,188,188,188,189,189,189,190,190,190,191,191,191,192,192,192,193,193,193,194,194,194,195,195,195,196,196,196,197,197,197,198,198,198,199,199,199,200,201,201,202,202,202,203,203,203,204,204,204,205,205,205,206,206,206,207,207,207,208,208,208,209,209,209,210,210,210,211,211,211,212,213,213,214,214,214,215,215,215,216,216,216,217,217,217,218,218,218,219,219,219,220,220,220,221,221,221,222,222,222,224,224,224,225,225,225,226,226,226,227,227,227,228,228,228,229,229,229,230,230,230,231,231,231,232,232,232,234,234,234,235,235,235,236,236,236,237,237,237,238,238,238,239,239,239,240,240,240,241,241,241,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,252,252,252,253,253,253,254,254,254,255,255,255] );\nexport const CET_L02_RGB8UI = new Uint8Array( [27,27,27,28,28,28,29,29,29,29,29,29,30,30,30,31,31,31,31,31,31,32,32,32,33,33,33,34,34,34,34,34,34,35,35,35,36,36,36,36,36,36,37,37,37,38,38,38,38,38,38,39,39,39,40,40,40,40,40,40,41,41,41,42,42,42,43,43,43,43,43,43,44,44,44,45,45,45,45,45,45,46,46,46,47,47,47,48,48,48,48,48,48,49,49,49,50,50,50,50,50,50,51,51,51,52,52,52,53,53,53,53,53,53,54,54,54,55,55,55,56,56,56,56,56,56,57,57,57,58,58,58,59,59,59,59,59,59,60,60,60,61,61,61,62,62,62,62,62,62,63,63,63,64,64,64,65,65,65,65,65,65,66,66,66,67,67,67,68,68,68,68,68,68,69,69,69,70,70,70,71,71,71,71,71,71,72,72,72,73,73,73,74,74,74,74,74,74,75,75,75,76,76,76,77,77,77,78,78,78,78,78,78,79,79,79,80,80,80,81,81,81,81,82,82,82,82,82,83,83,83,84,84,84,85,85,85,85,85,85,86,86,86,87,87,87,88,88,88,89,89,89,89,89,89,90,90,90,91,91,91,92,92,92,93,93,93,93,93,93,94,94,94,95,95,95,96,96,96,97,97,97,97,97,97,98,98,98,99,99,99,100,100,100,101,101,101,102,102,102,102,102,102,103,103,103,104,104,104,105,105,105,106,106,106,106,106,106,107,107,107,108,108,108,109,109,109,110,110,110,111,111,111,111,111,111,112,112,112,113,113,113,114,114,114,115,115,115,116,116,116,116,116,116,117,117,117,118,118,118,119,119,119,120,120,120,121,121,121,121,121,121,122,122,122,123,123,123,124,124,124,125,125,125,126,126,126,126,127,127,127,127,127,128,128,128,129,129,129,130,130,130,131,131,131,132,132,132,132,132,132,133,133,133,134,134,134,135,135,135,136,136,136,137,137,137,138,138,138,138,138,138,139,139,139,140,140,140,141,141,141,142,142,142,143,143,143,144,144,144,145,145,145,145,145,145,146,146,146,147,147,147,148,148,148,149,149,149,150,150,150,151,151,151,152,152,152,152,152,152,153,153,153,154,154,154,155,155,155,156,156,156,157,157,157,158,158,158,159,159,159,159,159,159,160,160,160,161,161,161,162,162,162,163,163,163,164,164,164,165,165,165,166,166,166,167,167,167,167,167,167,168,168,168,169,169,169,170,170,170,171,171,171,172,172,172,173,173,173,174,174,174,175,175,175,176,176,176,176,176,176,177,177,177,178,178,178,179,179,179,180,180,180,181,181,181,182,182,182,183,183,183,184,184,184,185,185,185,185,186,186,186,186,186,187,187,187,188,188,188,189,189,189,190,190,190,191,191,191,192,192,192,193,193,193,194,194,194,195,195,195,196,196,196,196,196,196,197,197,197,198,198,198,199,199,199,200,200,200,201,201,201,202,202,202,203,203,203,204,204,204,205,205,205,206,206,206,207,207,207,208,208,208,208,209,209,209,209,209,210,210,210,211,211,211,212,212,212,213,213,213,214,214,214,215,215,215,216,216,216,217,217,217,218,218,218,219,219,219,220,220,220,221,221,221,222,222,222,223,223,223,223,224,224,224,224,224,225,225,225,226,226,226,227,227,227,228,228,228,229,229,229,230,230,230,231,231,231,232,232,232,233,233,233,234,234,234,235,235,235,236,236,236,237,237,237,238,238,238,239,239,239,240,240,240,241,241,241] );\nexport const CET_L03_RGB8UI = new Uint8Array( [0,0,0,7,0,0,13,0,0,18,0,0,22,0,0,26,0,0,29,0,0,32,0,0,34,0,0,37,0,0,39,0,0,41,0,0,43,0,0,45,0,0,47,0,0,49,0,0,50,0,0,52,0,0,54,1,0,55,1,0,57,0,0,58,0,0,60,0,0,61,0,0,63,0,0,64,0,0,66,1,0,67,1,0,69,1,0,70,1,0,72,1,0,73,1,0,75,1,0,76,1,0,78,1,0,79,1,0,81,1,0,82,1,0,84,1,0,85,1,0,87,1,0,88,1,0,90,1,0,92,1,0,93,1,0,95,1,0,96,1,0,98,1,0,99,1,0,101,1,0,103,1,0,104,1,0,106,1,0,107,2,0,109,2,0,111,2,0,112,2,0,114,2,0,116,2,0,117,2,0,119,2,0,121,2,0,122,2,0,124,2,0,126,2,0,127,2,0,129,2,0,131,2,0,132,3,0,134,3,0,136,3,0,137,3,0,139,3,0,141,3,0,142,3,0,144,3,0,146,3,0,147,3,0,149,3,0,151,4,0,153,4,0,154,4,0,156,4,0,158,4,0,159,4,0,161,4,0,163,4,0,165,5,0,166,5,0,168,5,0,170,5,0,172,5,0,173,5,0,175,5,0,177,6,0,179,6,0,181,6,0,182,6,0,184,6,0,186,7,0,188,7,0,189,7,0,191,7,0,193,7,0,195,8,0,197,8,0,198,8,0,200,8,0,202,9,0,204,9,0,206,9,0,207,9,0,209,10,0,211,10,0,213,11,0,215,11,0,216,11,0,218,12,0,220,12,0,222,13,0,224,13,0,225,14,0,227,14,0,229,15,0,231,16,0,232,17,0,234,18,0,236,19,0,237,21,0,239,23,0,240,25,0,242,27,0,243,30,0,244,32,0,245,35,0,246,38,0,247,41,0,248,44,0,248,47,0,249,50,0,250,53,0,250,56,0,251,59,0,251,62,0,252,65,0,252,68,0,252,70,0,253,73,0,253,76,0,253,78,0,253,81,0,254,84,0,254,86,0,254,89,0,254,91,0,254,93,0,254,96,0,254,98,0,254,100,0,255,103,0,255,105,0,255,107,0,255,109,0,255,111,0,255,114,0,255,116,0,255,118,0,255,120,0,255,122,0,255,124,0,255,126,0,255,128,0,255,130,0,255,132,0,255,134,0,255,136,0,255,138,0,255,140,0,255,142,0,255,143,0,255,145,0,255,147,0,255,149,0,255,151,0,255,153,0,255,154,0,255,156,1,255,158,1,255,160,1,255,161,1,255,163,1,255,165,1,255,167,1,255,168,1,255,170,1,255,172,1,255,173,2,255,175,2,255,177,2,255,178,2,255,180,2,255,182,2,255,183,3,255,185,3,255,187,3,255,188,3,255,190,3,255,192,4,255,193,4,255,195,4,255,196,4,255,198,5,255,200,5,255,201,5,255,203,5,255,204,6,255,206,6,255,208,6,255,209,7,255,211,7,255,212,8,255,214,8,255,215,9,255,217,9,255,219,10,255,220,10,255,222,11,255,223,11,255,225,12,255,226,13,255,228,13,255,229,14,255,231,15,255,233,16,255,234,17,255,236,19,255,237,21,255,239,23,255,240,26,255,242,31,255,243,36,255,245,43,255,246,51,255,247,60,255,249,71,255,250,84,255,251,98,255,252,114,255,253,132,255,254,150,255,254,168,255,254,187,255,255,205,255,255,222,255,255,239,255,255,255] );\nexport const CET_L04_RGB8UI = new Uint8Array( [0,0,0,7,0,0,13,0,0,18,0,0,22,0,0,25,0,0,28,0,0,31,0,0,34,0,0,36,0,0,38,0,0,40,0,0,42,0,0,44,0,0,46,0,0,48,0,0,50,0,0,51,0,0,53,0,0,54,0,0,56,0,0,57,0,0,59,0,0,60,0,0,62,0,0,63,0,0,64,0,0,66,1,0,67,1,0,69,1,0,70,1,0,72,1,0,73,1,0,75,1,0,76,1,0,78,1,0,79,1,0,81,1,0,82,1,0,84,1,0,85,1,0,87,1,0,88,1,0,90,1,0,91,1,0,93,1,0,94,1,0,96,1,0,97,1,0,99,1,0,100,1,0,102,1,0,103,1,0,105,1,0,107,2,0,108,2,0,110,2,0,111,2,0,113,2,0,114,2,0,116,2,0,118,2,0,119,2,0,121,2,0,122,2,0,124,2,0,126,2,0,127,2,0,129,2,0,131,2,0,132,3,0,134,3,0,135,3,0,137,3,0,139,3,0,140,3,0,142,3,0,144,3,0,145,3,0,147,3,0,149,3,0,150,4,0,152,4,0,154,4,0,155,4,0,157,4,0,159,4,0,160,4,0,162,4,0,164,4,0,165,5,0,167,5,0,169,5,0,171,5,0,172,5,0,174,5,0,176,6,0,177,6,0,179,6,0,181,6,0,183,6,0,184,6,0,186,7,0,188,7,0,189,7,0,191,7,0,193,7,0,195,8,0,196,8,0,198,8,0,200,8,0,202,9,0,203,9,0,205,9,0,207,9,0,209,10,0,210,10,0,212,10,0,214,11,0,216,11,0,217,12,0,219,12,0,221,12,0,223,13,0,224,13,0,226,14,0,228,15,0,230,15,0,231,16,0,233,17,0,235,18,0,236,19,0,238,21,0,239,24,0,240,26,0,241,29,0,242,33,0,243,36,0,244,39,0,244,42,0,245,46,0,246,49,0,246,52,0,247,55,0,247,58,0,247,61,0,248,63,0,248,66,0,248,69,0,249,72,0,249,74,0,249,77,0,249,79,0,250,82,0,250,84,0,250,86,0,250,89,0,250,91,0,251,93,0,251,96,0,251,98,0,251,100,0,251,102,0,251,104,0,252,106,0,252,108,0,252,110,0,252,112,0,252,114,0,252,116,0,252,118,0,252,120,0,252,122,0,252,124,0,253,126,0,253,128,0,253,130,0,253,131,0,253,133,0,253,135,0,253,137,0,253,139,0,253,140,0,253,142,0,253,144,0,253,146,0,253,147,0,254,149,0,254,151,0,254,153,0,254,154,0,254,156,0,254,158,0,254,159,0,254,161,0,254,163,0,254,164,0,254,166,0,254,168,0,254,169,0,254,171,0,254,173,0,254,174,0,254,176,0,254,177,0,254,179,0,254,181,0,254,182,0,254,184,0,254,185,0,254,187,0,254,189,0,255,190,0,255,192,0,255,193,0,255,195,0,255,196,0,255,198,0,255,199,0,255,201,0,255,203,0,255,204,0,255,206,0,255,207,0,255,209,0,255,210,0,255,212,0,255,213,0,255,215,0,255,216,0,255,218,0,255,219,0,255,221,0,255,222,0,255,224,0,255,225,0,255,227,0,255,228,0,255,230,0,255,231,0,255,233,0,255,234,0,255,236,0,255,237,0,255,239,0,255,240,0,255,242,0,255,243,0,255,245,0,255,246,0,255,248,0,255,249,0,255,251,0,255,252,0,255,254,0,255,255,0] );\nexport const CET_L05_RGB8UI = new Uint8Array( [1,21,6,1,22,6,2,23,6,2,24,6,3,25,6,4,25,6,4,26,6,5,27,6,5,28,6,6,28,6,7,29,6,7,30,6,8,31,6,8,32,6,8,32,6,9,33,6,9,34,6,9,35,5,9,36,5,9,36,5,9,37,5,9,38,5,9,39,5,9,40,5,9,41,5,9,42,5,9,42,5,9,43,5,9,44,5,9,45,5,9,46,5,9,47,5,9,48,5,8,49,5,8,49,5,8,50,5,8,51,5,8,52,5,9,53,5,9,54,5,9,55,5,9,56,5,9,56,5,9,57,5,10,58,5,10,59,5,10,60,5,10,61,5,11,62,5,11,63,5,11,64,5,11,64,5,12,65,5,12,66,5,12,67,5,13,68,5,13,69,5,13,70,5,13,71,5,14,72,5,14,73,5,14,73,5,14,74,5,15,75,5,15,76,5,15,77,5,15,78,5,16,79,5,16,80,5,16,81,5,16,82,5,17,83,5,17,84,6,17,85,6,17,85,6,18,86,6,18,87,6,18,88,6,18,89,6,19,90,6,19,91,6,19,92,6,19,93,6,20,94,6,20,95,7,20,96,7,20,97,7,21,98,7,21,99,7,21,100,7,21,101,7,22,102,7,22,103,7,22,104,7,22,104,8,23,105,8,23,106,8,23,107,8,23,108,8,24,109,8,24,110,8,24,111,8,24,112,8,25,113,8,25,114,9,25,115,9,25,116,9,26,117,9,26,118,9,26,119,9,26,120,9,27,121,9,27,122,9,27,123,10,27,124,10,28,125,10,28,126,10,28,127,10,28,128,10,29,129,10,29,130,10,29,131,11,30,132,11,30,133,11,30,134,11,30,135,11,31,136,11,31,137,11,31,138,11,31,139,11,32,140,12,32,141,12,32,142,12,32,143,12,33,144,12,33,145,12,33,146,12,33,147,12,34,149,13,34,150,13,34,151,13,34,152,13,35,153,13,35,154,13,35,155,13,35,156,13,36,157,13,36,158,14,36,159,14,37,160,14,37,161,14,37,162,14,37,163,14,38,164,14,38,165,14,38,166,14,38,167,15,39,168,15,39,169,15,39,170,15,39,172,15,40,173,15,40,174,15,40,175,15,40,176,16,41,177,16,41,178,16,41,179,16,42,180,16,42,181,16,42,182,16,42,183,16,43,184,16,43,185,17,43,186,17,43,188,17,44,189,17,44,190,17,44,191,17,44,192,17,45,193,17,45,194,17,45,195,18,46,196,18,46,197,18,46,198,18,46,199,18,47,201,18,47,202,18,47,203,18,47,204,19,48,205,19,48,206,19,48,207,19,49,208,19,49,209,19,49,210,19,49,211,19,50,213,19,50,214,20,50,215,20,50,216,20,51,217,20,51,218,20,51,219,20,52,220,20,52,221,20,52,223,20,52,224,21,53,225,21,53,226,21,53,227,21,53,228,21,54,229,21,55,230,21,57,231,21,59,232,21,62,233,21,65,234,22,68,235,22,72,236,22,75,237,22,79,238,22,83,239,22,87,240,22,92,240,22,96,241,22,100,242,22,104,243,22,108,243,22,113,244,21,117,245,21,121,246,21,125,246,21,129,247,21,134,248,21,138,248,21,142,249,21,146,249,21,150,250,21,154,251,21,159,251,21,163,252,21,167,252,21,171,253,21,175,253,21,179,254,21,183,254,21,187,255,21,192,255,21,196,255,21,200,255,21,204,255,21,208,255,21,212,255,21,216,255,21] );\nexport const CET_L06_RGB8UI = new Uint8Array( [0,1,78,0,1,80,0,2,82,0,2,84,0,2,86,0,3,88,0,3,90,0,3,92,0,3,94,0,3,96,1,3,98,2,3,100,2,3,102,3,3,104,4,2,106,5,2,108,5,2,110,6,2,112,7,2,114,8,2,116,8,2,118,9,2,120,10,2,123,11,2,125,11,2,127,12,2,129,13,2,131,13,2,133,14,2,136,14,1,138,15,1,140,15,1,142,15,1,144,16,1,147,16,1,149,16,1,151,16,1,153,16,2,156,16,2,158,16,2,160,16,2,162,15,2,165,15,2,167,14,3,170,13,3,172,13,3,174,12,4,177,11,4,179,10,4,181,10,5,183,9,5,185,9,6,188,8,7,190,8,7,192,8,8,194,8,9,196,8,10,198,8,10,200,8,11,202,8,12,204,9,13,206,9,14,208,10,15,210,11,16,212,12,17,214,13,18,216,14,18,217,16,19,219,17,20,221,18,21,223,19,22,224,21,23,226,22,24,227,24,25,229,25,26,231,26,28,232,27,29,233,28,30,235,29,31,236,31,33,237,32,34,238,33,36,240,34,37,241,35,38,242,35,40,243,36,41,244,37,43,244,38,45,245,39,46,246,40,48,247,40,49,247,41,51,248,42,53,248,42,54,249,43,56,249,43,58,250,44,59,250,44,61,250,45,63,250,45,65,251,45,66,251,46,68,251,46,70,251,46,71,251,47,73,251,47,75,251,47,76,251,47,78,251,47,79,251,47,81,251,47,82,252,48,84,252,48,86,252,48,87,252,48,89,252,48,90,252,48,92,252,48,93,252,47,94,252,47,96,252,47,97,252,47,99,253,47,100,253,47,102,253,46,103,253,46,105,253,46,106,253,46,107,253,45,109,253,45,110,253,45,112,253,44,113,253,44,114,253,44,116,253,44,117,254,44,118,254,43,120,254,43,121,254,43,123,254,43,124,254,43,125,254,44,126,254,44,128,254,44,129,254,44,130,254,44,132,254,45,133,254,45,134,254,45,135,254,46,137,254,46,138,254,47,139,254,47,141,254,48,142,254,48,143,254,49,144,253,50,146,253,50,147,253,51,148,253,51,149,253,52,150,253,52,152,253,53,153,253,53,154,253,53,155,253,53,157,253,54,158,253,54,159,253,54,160,253,54,162,253,54,163,253,54,164,253,54,166,253,54,167,253,53,168,253,53,169,252,53,171,252,53,172,252,52,173,252,52,174,252,51,176,252,51,177,252,50,178,252,49,180,252,49,181,252,48,182,252,47,183,252,46,185,252,46,186,252,45,187,252,44,188,252,44,190,252,43,191,252,43,192,252,42,194,252,42,195,252,42,196,252,41,197,252,41,199,252,41,200,252,41,201,251,41,202,251,41,203,251,41,205,251,41,206,251,41,207,251,41,208,251,42,210,251,42,211,251,43,212,251,43,213,251,44,214,251,44,216,250,45,217,250,47,218,250,48,219,250,51,220,250,53,221,250,56,222,250,60,223,250,63,225,250,66,226,249,70,227,249,73,228,249,77,229,249,80,229,249,84,230,249,87,231,249,91,232,249,94,233,249,98,234,248,101,235,248,105,236,248,108,237,248,112,238,248,115,239,248,118,240,248,122,240,248,125,241,248,128,242,247,132,243,247,135,244,247,138,245,247,142,245,247,145,246,247,148,247,247,151,248,247,154,249,246,157,249,246,161,250,246,164,251,246,167,252,246,170,253,246,173,253,246,176,254,246,179,255,246] );\nexport const CET_L07_RGB8UI = new Uint8Array( [0,2,75,0,3,77,0,3,79,0,4,81,0,4,83,0,4,85,0,5,88,0,5,90,0,5,92,0,5,94,0,5,96,0,5,98,0,5,100,0,5,102,0,5,104,1,5,106,1,5,109,1,5,111,1,5,113,2,5,115,2,5,117,2,5,119,3,5,121,3,5,124,3,5,126,4,5,128,4,5,130,4,5,132,4,6,135,5,6,137,5,6,139,5,6,141,5,6,144,6,6,146,6,6,148,6,6,150,6,6,153,6,6,155,6,6,157,6,6,159,6,6,162,6,7,164,5,7,166,5,7,169,5,7,171,5,7,173,5,8,175,5,8,178,5,8,180,5,8,182,5,9,184,6,9,186,6,10,189,7,10,191,8,10,193,9,11,195,11,11,197,12,12,199,13,12,201,15,13,203,16,13,205,18,14,207,19,14,209,21,15,211,22,15,213,24,16,214,25,17,216,27,17,218,29,18,220,30,18,222,32,19,223,34,20,225,36,20,227,38,21,228,40,21,230,42,22,231,44,22,233,47,23,234,49,23,236,52,24,237,55,24,238,57,25,239,60,25,240,63,25,242,66,26,243,69,26,244,72,26,245,75,27,245,77,27,246,80,27,247,83,27,248,86,27,248,89,28,249,93,28,250,96,28,250,99,28,250,102,28,251,105,28,251,108,28,251,111,28,252,114,28,252,117,28,252,120,28,252,123,28,252,126,28,252,128,28,253,131,28,253,134,28,253,137,28,253,139,28,253,142,28,253,145,28,253,147,29,253,150,29,254,153,29,254,155,29,254,158,29,254,160,29,254,163,29,254,165,29,254,168,29,254,170,29,254,173,29,254,175,29,254,177,29,254,180,29,254,182,28,254,185,28,254,187,28,254,189,29,254,192,29,254,194,29,254,196,29,254,198,30,254,200,30,254,202,31,254,204,32,254,206,33,254,208,34,254,210,35,254,212,36,254,214,37,254,215,38,254,217,39,254,219,41,254,220,42,254,222,44,254,224,45,254,225,46,254,227,48,254,228,50,254,229,51,254,231,53,254,232,55,254,233,56,254,235,58,254,236,60,254,237,62,254,238,63,254,239,65,254,240,67,254,241,69,254,242,71,254,243,73,254,244,75,254,245,77,254,246,79,254,247,81,254,248,83,254,248,85,254,249,87,254,250,89,254,250,91,254,251,93,254,251,95,254,252,97,254,252,99,254,252,101,254,253,103,254,253,106,254,253,108,253,253,110,253,254,112,253,254,114,253,254,116,253,254,118,253,254,120,253,254,123,253,254,125,253,254,127,253,254,129,253,254,131,253,254,133,253,254,135,253,254,136,253,254,138,253,254,140,253,254,142,253,254,144,253,254,146,253,254,148,253,254,149,253,254,151,253,254,153,253,254,155,253,254,156,253,254,158,253,254,160,253,254,162,253,254,163,253,254,165,253,254,167,253,254,168,253,254,170,253,254,172,253,254,173,253,254,175,253,254,177,254,254,178,254,254,180,254,254,181,254,254,183,254,254,185,254,254,186,254,254,188,254,254,189,254,254,191,254,254,193,254,254,194,254,255,196,254,255,197,254,255,199,254,255,200,254,255,202,254,255,203,254,255,205,254,255,206,254,255,208,254,255,209,254,255,211,254,255,212,254,255,214,254,255,215,254,255,217,254,255,218,254,255,220,254,255,221,254,255,223,254,255,224,254,255,226,254,255,227,254,255,229,254,254,230,254,254,232,254,254,233,254,254,235,254] );\nexport const CET_L08_RGB8UI = new Uint8Array( [0,15,93,1,15,94,1,16,96,1,16,98,1,17,99,2,17,101,2,18,103,3,18,104,4,18,106,5,19,107,6,19,109,7,20,111,8,20,112,10,21,114,12,21,115,13,21,117,15,22,118,17,22,119,18,22,121,20,23,122,22,23,124,24,23,125,25,24,126,27,24,128,29,24,129,31,25,130,33,25,131,35,25,133,37,25,134,39,26,135,41,26,136,43,26,137,46,26,138,48,26,139,50,27,140,52,27,141,55,27,142,57,27,143,59,27,143,62,27,144,64,27,144,67,26,145,70,26,145,72,26,146,75,26,146,78,25,146,81,25,146,84,25,146,86,24,146,89,24,146,92,23,146,94,23,146,97,23,146,99,22,146,102,22,146,104,21,146,107,21,146,109,20,146,111,20,146,114,19,146,116,19,146,118,18,145,121,18,145,123,17,145,125,17,145,127,16,145,129,16,145,131,15,144,134,15,144,136,14,144,138,14,144,140,13,143,142,13,143,144,13,143,146,12,142,148,12,142,150,11,142,152,11,141,154,11,141,156,10,140,158,10,140,160,10,140,162,10,139,163,10,139,165,9,138,167,9,138,169,9,138,171,9,137,173,9,137,174,10,136,176,10,136,178,10,136,180,10,135,182,10,135,183,11,134,185,11,134,187,12,133,189,12,133,190,13,133,192,13,132,194,14,132,195,14,131,197,15,131,199,16,130,200,16,130,202,17,129,204,18,129,205,19,128,207,20,128,208,21,127,210,22,127,211,23,126,213,25,125,214,26,125,216,28,124,217,29,123,218,31,123,220,32,122,221,34,121,222,35,120,223,37,120,224,39,119,226,41,118,227,42,117,228,44,116,229,46,115,230,48,114,231,49,114,232,51,113,233,53,112,234,55,111,235,57,110,236,59,108,237,61,107,237,62,106,238,64,105,239,66,104,240,68,103,240,70,102,241,72,101,242,74,100,242,76,98,243,77,97,243,79,96,244,81,95,244,83,94,245,85,93,245,87,92,246,88,92,246,90,91,247,92,90,247,94,89,247,96,88,248,98,87,248,100,86,248,101,85,248,103,85,248,105,84,249,107,83,249,109,82,249,111,82,249,112,81,249,114,80,249,116,79,249,118,79,249,120,78,249,122,77,249,123,77,249,125,76,249,127,76,249,129,75,249,130,74,249,132,74,249,134,73,249,135,72,249,137,72,249,138,71,249,140,70,249,142,70,249,143,69,249,145,68,249,146,68,249,148,67,249,149,66,249,151,66,250,152,65,250,154,65,250,155,64,250,157,63,250,158,63,250,159,62,250,161,61,251,162,61,251,164,60,251,165,59,251,166,59,251,168,58,252,169,57,252,171,57,252,172,57,252,173,56,252,175,56,252,176,56,252,177,56,252,179,56,252,180,56,252,182,56,253,183,56,253,184,56,253,186,56,253,187,56,253,189,56,253,190,56,253,191,56,253,193,57,253,194,57,252,195,57,252,197,57,252,198,58,252,200,58,252,201,58,252,202,59,252,204,59,252,205,59,252,206,60,252,208,60,252,209,61,252,211,61,251,212,62,251,213,62,251,215,63,251,216,63,251,217,64,251,219,64,251,220,65,250,222,65,250,223,66,250,224,66,250,226,67,250,227,67,249,228,68,249,230,69,249,231,69,249,232,70,248,234,70,248,235,71,248,237,72,248,238,72,247,239,73,247,241,74,247,242,74,247,243,75,246,245,76,246,246,76,246,247,77,245,249,78] );\nexport const CET_L09_RGB8UI = new Uint8Array( [5,0,172,6,2,172,6,5,172,7,8,173,7,11,173,8,14,173,8,16,174,8,18,174,9,20,174,9,22,175,10,24,175,10,26,175,10,28,176,11,29,176,11,31,176,11,32,177,12,34,177,12,35,177,12,37,177,12,38,178,13,40,178,13,41,178,13,42,178,13,44,179,13,45,179,13,46,179,13,48,179,14,49,180,14,50,180,14,51,180,14,53,180,14,54,180,14,55,180,14,56,180,14,58,181,14,59,181,14,60,181,14,61,181,14,62,181,14,64,181,13,65,181,13,66,181,13,67,181,13,68,181,13,70,181,13,71,181,13,72,181,12,73,181,12,74,181,12,76,180,12,77,180,11,78,180,11,79,180,11,80,180,10,81,179,10,83,179,10,84,179,9,85,178,9,86,178,8,87,177,8,89,177,8,90,176,7,91,175,7,92,174,6,94,174,6,95,173,6,96,172,6,97,170,6,99,169,7,100,168,8,101,167,10,102,165,12,103,164,13,104,163,15,106,161,17,107,160,19,108,158,20,109,156,22,110,155,24,111,153,25,113,152,27,114,150,29,115,148,30,116,146,31,117,145,33,118,143,34,119,141,35,120,139,36,121,137,37,122,135,38,124,133,39,125,131,40,126,129,41,127,127,42,128,125,43,129,123,44,130,121,44,131,119,45,132,117,46,133,114,46,134,112,46,135,110,47,137,108,47,138,105,48,139,103,48,140,100,48,141,98,48,142,96,48,143,93,49,144,91,49,145,89,49,146,86,50,147,84,50,148,82,51,149,80,52,150,78,52,151,76,53,152,74,54,153,72,55,154,71,56,155,69,57,156,67,58,157,65,59,157,64,60,158,62,61,159,60,62,160,59,64,161,57,65,162,55,66,163,54,68,164,52,69,164,51,71,165,49,72,166,48,74,167,46,76,168,45,77,168,44,79,169,42,81,170,41,82,171,39,84,172,38,86,172,36,88,173,35,89,174,34,91,175,32,93,175,31,95,176,30,97,177,28,99,178,27,101,178,26,103,179,24,105,180,23,107,180,22,109,181,20,111,182,19,113,182,18,115,183,16,117,184,15,119,184,14,121,185,12,123,186,11,125,186,10,127,187,8,130,188,7,132,188,6,134,189,6,136,190,5,138,190,4,140,191,4,143,191,3,145,192,3,147,192,3,149,193,2,152,194,2,154,194,2,156,195,2,158,195,2,160,196,3,162,196,3,165,197,3,167,198,3,169,198,3,171,199,4,173,199,4,175,200,4,177,200,5,179,201,5,181,202,6,183,202,6,185,203,7,187,203,8,189,204,9,191,204,10,193,205,11,194,206,12,196,206,13,198,207,14,200,207,15,202,208,16,204,209,17,205,209,18,207,210,19,209,210,20,211,211,21,212,212,23,214,212,24,216,213,25,217,214,26,219,214,28,221,215,29,222,215,30,224,216,32,225,217,33,227,218,34,228,218,36,230,219,37,231,220,39,233,220,40,234,221,42,235,222,44,236,223,45,238,223,47,239,224,49,240,225,51,241,226,52,242,227,54,243,227,56,243,228,59,244,229,61,245,230,63,245,231,66,246,232,69,246,233,72,247,234,75,248,235,79,248,236,83,249,237,88,250,237,93,250,238,98,251,239,103,252,240,109,252,241,115,253,241,121,253,242,128,254,243,135,254,243,142,255,244,150,255,245,159,255,245,168,255,246,177,255,247,187,255,247,198,254,248,210,253,248,222,251,249,235,249,249,249] );\nexport const CET_L10_RGB8UI = new Uint8Array( [102,155,144,102,155,143,103,155,143,104,155,143,105,156,142,105,156,142,106,156,141,107,156,141,107,157,140,108,157,140,109,157,139,110,157,139,110,157,138,111,158,138,112,158,137,113,158,137,113,158,137,114,159,136,115,159,136,116,159,135,116,159,135,117,159,134,118,160,134,119,160,133,119,160,133,120,160,133,121,161,132,122,161,132,123,161,131,123,161,131,124,161,130,125,162,130,126,162,129,127,162,129,127,162,129,128,162,128,129,162,128,130,163,127,131,163,127,132,163,127,132,163,126,133,163,126,134,164,125,135,164,125,136,164,125,137,164,124,138,164,124,139,164,123,140,164,123,140,165,123,141,165,122,142,165,122,143,165,122,144,165,121,145,165,121,146,165,120,147,165,120,148,166,120,149,166,119,150,166,119,151,166,119,153,166,118,154,166,118,155,166,118,156,166,118,157,166,117,158,166,117,159,166,117,161,166,116,162,166,116,163,166,116,164,166,116,166,166,115,167,166,115,168,166,115,170,166,115,171,166,115,172,166,114,174,166,114,175,166,114,177,166,114,178,166,114,179,166,114,180,166,113,182,166,113,183,166,113,184,166,113,185,166,113,186,166,113,187,166,112,188,166,112,189,166,112,191,166,112,192,166,112,192,166,111,193,166,111,194,166,111,195,166,111,196,166,111,197,166,111,198,166,110,199,166,110,199,166,110,200,167,110,201,167,110,202,167,110,202,167,109,203,167,109,204,167,109,204,167,109,205,167,109,205,168,109,206,168,108,207,168,108,207,168,108,208,168,108,208,169,108,208,169,108,209,169,107,209,169,107,210,170,107,210,170,107,210,170,107,211,170,106,211,171,106,211,171,106,212,171,106,212,172,106,212,172,106,212,172,105,212,173,105,213,173,105,213,173,105,213,173,105,213,174,105,213,174,105,213,174,105,214,175,105,214,175,105,214,175,105,214,176,105,214,176,106,214,176,106,215,177,106,215,177,106,215,177,106,215,178,107,215,178,107,215,178,107,215,179,108,215,179,108,216,179,109,216,180,109,216,180,109,216,180,110,216,181,110,216,181,111,216,181,112,216,182,112,216,182,113,216,182,113,216,183,114,216,183,115,216,183,115,217,184,116,217,184,117,217,184,118,217,184,118,217,185,119,217,185,120,217,185,121,217,186,122,217,186,123,217,186,124,217,187,125,217,187,126,217,187,127,217,188,128,216,188,129,216,188,130,216,189,131,216,189,132,216,189,133,216,190,135,216,190,136,216,190,137,216,191,138,216,191,139,216,191,140,216,192,141,216,192,142,216,192,143,216,193,144,216,193,145,216,193,146,216,194,148,216,194,149,216,194,150,216,195,151,216,195,152,216,195,153,216,196,154,216,196,155,216,196,156,215,197,157,215,197,158,215,197,159,215,197,161,215,198,162,215,198,163,215,198,164,215,199,165,215,199,166,215,199,167,215,200,168,215,200,169,215,200,170,215,201,171,215,201,172,215,201,173,215,202,175,215,202,176,215,202,177,215,202,178,215,203,179,215,203,180,215,203,181,214,204,182,214,204,183,214,204,184,214,205,185,214,205,186,214,205,187,214,206,189,214,206,190,214,206,191,214,206,192,214,207,193,214,207,194,214,207,195,214,208,196,214,208,197,213,208,198,213,209,199,213,209,200,213,209,201,213,209,203,213,210,204,213,210,205,213,210,206,213,211,207,213,211,208,213,211,209,212,212,210,212,212,211,212,212,212] );\nexport const CET_L11_RGB8UI = new Uint8Array( [112,173,92,113,173,92,114,173,92,116,173,92,117,173,92,118,173,93,120,173,93,121,173,93,122,174,93,124,174,93,125,174,93,126,174,93,128,174,93,129,174,93,130,174,94,131,174,94,133,174,94,134,174,94,135,174,94,136,174,94,138,174,94,139,174,94,140,174,95,141,175,95,142,175,95,144,175,95,145,175,95,146,175,95,147,175,95,148,175,95,149,175,95,150,175,96,152,175,96,153,175,96,154,175,96,155,175,96,156,175,96,157,175,96,158,175,96,159,175,97,160,176,97,161,176,97,163,176,97,164,176,97,165,176,97,166,176,97,167,176,97,168,176,98,169,176,98,170,176,98,171,176,98,172,176,98,173,176,98,174,176,98,175,176,98,176,176,99,177,176,99,178,176,99,179,176,99,180,177,99,181,177,99,182,177,99,183,177,100,184,177,100,185,177,100,186,177,100,187,177,100,188,177,100,189,177,100,190,177,100,191,177,101,192,177,101,193,177,101,193,177,101,194,177,101,195,177,101,196,177,101,197,178,102,198,178,102,199,178,102,200,178,102,201,178,102,202,178,102,202,178,102,203,178,102,204,178,103,205,178,103,206,178,103,207,178,103,207,178,103,208,178,103,209,178,103,210,179,104,211,179,104,212,179,104,212,179,104,213,179,104,214,179,104,215,179,104,215,179,105,216,179,105,217,179,105,218,179,105,218,180,105,219,180,105,220,180,105,220,180,106,221,180,106,222,180,106,222,180,106,223,180,106,224,181,106,224,181,107,225,181,107,225,181,107,226,181,107,226,181,107,227,182,107,227,182,107,228,182,108,228,182,108,229,182,108,229,183,108,229,183,108,230,183,108,230,183,109,230,184,109,230,184,109,230,184,109,230,185,109,231,185,110,231,185,110,231,186,110,231,186,110,231,187,111,231,187,111,231,187,111,231,188,112,231,188,112,231,188,113,231,189,113,231,189,113,231,189,114,231,190,114,231,190,115,231,190,115,231,191,116,231,191,116,231,192,117,231,192,117,231,192,118,231,193,119,231,193,119,231,193,120,231,194,121,231,194,121,231,194,122,231,195,123,231,195,124,231,195,124,231,196,125,231,196,126,231,196,127,231,197,127,231,197,128,231,197,129,231,198,130,231,198,131,231,198,132,231,199,133,231,199,134,231,200,135,231,200,136,231,200,137,231,201,138,231,201,139,231,201,140,231,202,141,231,202,142,231,202,143,231,203,144,231,203,145,231,203,147,231,204,148,231,204,149,231,204,150,231,205,151,230,205,152,230,205,153,230,206,154,230,206,155,230,206,156,230,207,158,230,207,159,230,207,160,230,208,161,230,208,162,230,208,163,230,208,164,230,209,165,230,209,166,230,209,167,230,210,169,230,210,170,230,210,171,230,211,172,230,211,173,230,211,174,230,212,175,230,212,176,229,212,177,229,213,178,229,213,179,229,213,181,229,214,182,229,214,183,229,214,184,229,215,185,229,215,186,229,215,187,229,215,188,229,216,189,229,216,190,229,216,191,229,217,193,229,217,194,229,217,195,229,218,196,229,218,197,228,218,198,228,219,199,228,219,200,228,219,201,228,220,202,228,220,203,228,220,204,228,220,206,228,221,207,228,221,208,228,221,209,228,222,210,228,222,211,228,222,212,227,223,213,227,223,214,227,223,215,227,224,216,227,224,218,227,224,219,227,224,220,227,225,221,227,225,222,227,225,223,227,226,224,226,226,225,226,226,226] );\nexport const CET_L12_RGB8UI = new Uint8Array( [241,241,241,240,240,241,239,240,240,238,239,240,238,239,240,237,238,240,236,238,240,235,237,240,234,237,240,234,236,240,233,236,240,232,235,240,231,235,240,231,234,240,230,234,240,229,233,240,228,233,240,228,233,239,227,232,239,226,232,239,225,231,239,225,231,239,224,230,239,223,230,239,222,229,239,222,229,239,221,228,239,220,228,239,219,227,239,218,227,239,218,226,238,217,226,238,216,225,238,215,225,238,215,225,238,214,224,238,213,224,238,212,223,238,212,223,238,211,222,238,210,222,238,209,221,238,209,221,237,208,220,237,207,220,237,206,219,237,205,219,237,205,218,237,204,218,237,203,217,237,202,217,237,202,217,237,201,216,236,200,216,236,199,215,236,199,215,236,198,214,236,197,214,236,196,213,236,196,213,236,195,212,236,194,212,235,193,211,235,192,211,235,192,210,235,191,210,235,190,210,235,189,209,235,189,209,235,188,208,234,187,208,234,186,207,234,186,207,234,185,206,234,184,206,234,183,205,234,183,205,233,182,204,233,181,204,233,180,204,233,180,203,233,179,203,233,178,202,233,177,202,232,177,201,232,176,201,232,175,200,232,174,200,232,174,199,231,173,199,231,172,198,231,171,198,231,171,197,231,170,197,231,169,197,230,168,196,230,168,196,230,167,195,230,166,195,230,166,194,229,165,194,229,164,193,229,163,193,229,163,192,228,162,192,228,161,191,228,161,191,228,160,191,227,159,190,227,159,190,227,158,189,226,157,189,226,157,188,226,156,188,226,155,187,225,155,187,225,154,186,225,153,186,224,153,185,224,152,185,223,152,184,223,151,184,223,150,183,222,150,183,222,149,183,222,149,182,221,148,182,221,147,181,221,147,181,220,146,180,220,146,180,219,145,179,219,145,179,219,144,178,218,143,178,218,143,177,217,142,177,217,142,176,217,141,176,216,141,175,216,140,175,215,139,175,215,139,174,215,138,174,214,138,173,214,137,173,213,137,172,213,136,172,212,136,171,212,135,171,212,135,170,211,134,170,211,133,169,210,133,169,210,132,168,209,132,168,209,131,168,208,131,167,208,130,167,208,130,166,207,129,166,207,129,165,206,128,165,206,128,164,205,127,164,205,127,163,204,126,163,204,126,162,203,125,162,203,125,161,202,124,161,202,124,160,201,124,160,201,123,160,200,123,159,200,122,159,199,121,158,199,121,158,199,120,157,198,120,157,198,119,156,197,119,156,197,118,155,197,118,155,196,117,154,196,116,154,195,116,154,195,115,153,195,115,153,194,114,152,194,113,152,194,113,151,193,112,151,193,111,150,193,111,150,192,110,150,192,109,149,192,109,149,191,108,148,191,107,148,191,107,147,190,106,147,190,105,146,190,105,146,190,104,145,189,103,145,189,103,145,189,102,144,188,101,144,188,100,143,188,100,143,188,99,142,187,98,142,187,97,142,187,97,141,187,96,141,186,95,140,186,94,140,186,94,139,186,93,139,185,92,138,185,91,138,185,90,138,185,90,137,184,89,137,184,88,136,184,87,136,184,86,135,184,85,135,183,84,135,183,84,134,183,83,134,183,82,133,182,81,133,182,80,132,182,79,132,182,78,132,182,77,131,181,76,131,181,75,130,181,74,130,181,74,129,181,73,129,180,72,129,180,71,128,180,70,128,180,69,127,180,67,127,179,66,126,179,65,126,179,64,126,179,63,125,179,62,125,178,61,124,178,60,124,178,59,124,178] );\nexport const CET_L13_RGB8UI = new Uint8Array( [0,0,0,2,0,0,4,1,0,6,1,0,8,2,0,10,2,0,12,2,0,14,3,0,16,3,0,18,3,0,19,4,0,21,4,0,22,4,0,23,4,0,25,5,0,26,5,0,27,5,0,28,5,0,30,6,0,31,6,0,32,6,0,33,6,0,34,6,0,35,7,0,36,7,0,37,7,0,38,7,0,39,7,0,40,8,0,41,8,0,41,8,0,42,8,0,43,8,0,44,8,0,45,8,0,46,9,0,46,9,0,47,9,0,48,9,0,49,9,0,50,9,0,50,10,0,51,10,0,52,10,0,53,10,0,53,10,0,54,10,0,55,10,0,55,10,0,56,11,0,57,11,0,58,11,0,58,11,0,59,11,0,60,11,0,61,11,0,61,12,0,62,12,0,63,12,0,64,12,0,64,12,0,65,12,0,66,12,0,67,13,0,68,13,0,68,13,0,69,13,0,70,13,0,71,13,0,71,13,0,72,14,0,73,14,0,74,14,0,74,14,0,75,14,0,76,14,0,77,15,0,78,15,0,78,15,0,79,15,0,80,15,0,81,15,0,81,15,0,82,16,0,83,16,0,84,16,0,85,16,0,85,16,0,86,16,0,87,16,0,88,17,0,88,17,0,89,17,0,90,17,0,91,17,0,92,17,0,92,17,0,93,18,0,94,18,0,95,18,0,96,18,0,96,18,0,97,18,0,98,19,0,99,19,0,100,19,0,100,19,0,101,19,0,102,19,0,103,19,0,104,20,0,104,20,0,105,20,0,106,20,0,107,20,0,108,20,0,109,20,0,109,21,0,110,21,0,111,21,0,112,21,0,113,21,0,113,21,0,114,22,0,115,22,0,116,22,0,117,22,0,118,22,0,118,22,0,119,23,0,120,23,0,121,23,0,122,23,0,122,23,0,123,23,0,124,23,0,125,24,0,126,24,0,127,24,0,127,24,0,128,24,0,129,24,0,130,25,0,131,25,0,132,25,0,132,25,0,133,25,0,134,25,0,135,25,0,136,26,0,137,26,0,138,26,0,138,26,0,139,26,0,140,26,0,141,27,0,142,27,0,143,27,0,143,27,0,144,27,0,145,27,0,146,28,0,147,28,0,148,28,0,149,28,0,149,28,0,150,28,0,151,29,0,152,29,0,153,29,0,154,29,0,155,29,0,155,29,0,156,30,0,157,30,0,158,30,0,159,30,0,160,30,0,161,30,0,161,30,0,162,31,0,163,31,0,164,31,0,165,31,0,166,31,0,167,31,0,168,32,0,168,32,0,169,32,0,170,32,0,171,32,0,172,32,0,173,33,0,174,33,0,175,33,0,175,33,0,176,33,0,177,33,0,178,34,0,179,34,0,180,34,0,181,34,0,182,34,0,182,34,0,183,35,0,184,35,0,185,35,0,186,35,0,187,35,0,188,35,0,189,36,0,190,36,0,190,36,0,191,36,0,192,36,0,193,36,0,194,37,0,195,37,0,196,37,0,197,37,0,198,37,0,199,38,0,199,38,0,200,38,0,201,38,0,202,38,0,203,38,0,204,39,0,205,39,0,206,39,0,207,39,0,208,39,0,208,39,0,209,40,0,210,40,0,211,40,0,212,40,0,213,40,0,214,40,0,215,41,0,216,41,0,217,41,0,218,41,0,218,41,0,219,41,0,220,42,0,221,42,0,222,42,0,223,42,0,224,42,0,225,42,0,226,43,0,227,43,0,228,43,0,229,43,0,230,43,0] );\nexport const CET_L14_RGB8UI = new Uint8Array( [0,0,0,0,1,0,0,2,0,0,3,0,0,4,0,0,5,0,0,6,0,0,6,0,0,7,0,0,8,0,0,9,0,0,10,0,0,11,0,0,12,0,0,13,0,0,13,0,0,14,0,0,15,0,0,16,0,0,16,0,0,17,0,0,18,0,0,18,0,0,19,0,0,19,0,0,20,0,0,21,0,0,21,0,0,22,0,0,22,0,0,23,0,0,23,0,0,24,0,0,24,0,0,25,0,0,25,0,0,26,0,0,26,0,0,26,0,0,27,0,0,27,0,0,28,0,0,28,0,0,29,0,0,29,0,0,29,0,0,30,0,0,30,0,0,31,0,0,31,0,0,31,0,0,32,0,0,32,0,0,33,0,0,33,0,0,34,0,0,34,0,0,34,0,0,35,0,0,35,0,0,36,0,0,36,0,0,36,0,0,37,0,0,37,0,0,38,0,0,38,0,0,39,0,0,39,0,0,39,0,0,40,0,0,40,0,0,41,0,0,41,0,0,42,0,0,42,0,0,42,0,0,43,0,0,43,0,0,44,0,0,44,0,0,45,0,0,45,0,0,45,0,0,46,0,0,46,0,0,47,0,0,47,0,0,48,0,0,48,0,0,48,0,0,49,0,0,49,0,0,50,0,0,50,0,0,51,0,0,51,0,0,52,0,0,52,0,0,52,0,0,53,0,0,53,0,0,54,0,0,54,0,0,55,0,0,55,0,0,56,0,0,56,0,0,56,0,0,57,0,0,57,0,0,58,0,0,58,0,0,59,0,0,59,0,0,60,0,0,60,0,0,60,0,0,61,0,0,61,0,0,62,0,0,62,0,0,63,0,0,63,0,0,64,0,0,64,0,0,65,0,0,65,0,0,65,0,0,66,0,0,66,0,0,67,0,0,67,0,0,68,0,0,68,0,0,69,0,0,69,0,0,70,0,0,70,0,0,71,0,0,71,0,0,71,0,0,72,0,0,72,0,0,73,0,0,73,0,0,74,0,0,74,0,0,75,0,0,75,0,0,76,0,0,76,0,0,77,0,0,77,0,0,78,0,0,78,0,0,79,0,0,79,0,0,79,0,0,80,0,0,80,0,0,81,0,0,81,0,0,82,0,0,82,0,0,83,0,0,83,0,0,84,0,0,84,0,0,85,0,0,85,0,0,86,0,0,86,0,0,87,0,0,87,0,0,88,0,0,88,0,0,89,0,0,89,0,0,90,0,0,90,0,0,90,0,0,91,0,0,91,0,0,92,0,0,92,0,0,93,0,0,93,0,0,94,0,0,94,0,0,95,0,0,95,0,0,96,0,0,96,0,0,97,0,0,97,0,0,98,0,0,98,0,0,99,0,0,99,0,0,100,0,0,100,0,0,101,0,0,101,0,0,102,0,0,102,0,0,103,0,0,103,0,0,104,0,0,104,0,0,105,0,0,105,0,0,106,0,0,106,0,0,107,0,0,107,0,0,108,0,0,108,0,0,109,0,0,109,0,0,110,0,0,110,0,0,111,0,0,111,0,0,112,0,0,112,0,0,113,0,0,113,0,0,114,0,0,114,0,0,115,0,0,115,0,0,116,0,0,116,0,0,117,0,0,117,0,0,118,0,0,118,0,0,119,0,0,119,0,0,120,0,0,120,0,0,121,0,0,121,0,0,122,0,0,122,0,0,123,0,0,123,0,0,124,0,0,124,0,0,125,0,0,125,0,0,126,0,0,126,0,0,127,0,0,128,0] );\nexport const CET_L15_RGB8UI = new Uint8Array( [0,0,0,0,1,2,0,1,4,1,2,6,1,3,8,1,3,10,1,4,11,1,4,13,2,5,15,2,6,17,2,6,19,2,7,20,2,7,22,2,8,24,3,8,25,3,9,27,3,9,28,3,10,30,3,10,31,3,11,33,3,11,34,4,12,35,4,12,37,4,13,38,4,13,39,4,13,40,4,14,41,4,14,43,4,14,44,4,15,45,5,15,46,5,15,47,5,16,48,5,16,49,5,17,50,5,17,51,5,17,52,5,17,53,5,18,54,5,18,55,6,18,56,6,19,57,6,19,57,6,19,58,6,20,59,6,20,60,6,20,61,6,20,62,6,21,62,6,21,63,6,21,64,6,21,65,7,22,66,7,22,67,7,22,67,7,23,68,7,23,69,7,23,70,7,23,71,7,24,72,7,24,72,7,24,73,7,24,74,7,25,75,8,25,76,8,25,77,8,26,78,8,26,78,8,26,79,8,26,80,8,27,81,8,27,82,8,27,83,8,28,83,8,28,84,9,28,85,9,28,86,9,29,87,9,29,88,9,29,89,9,30,90,9,30,90,9,30,91,9,30,92,9,31,93,9,31,94,9,31,95,10,32,96,10,32,96,10,32,97,10,32,98,10,33,99,10,33,100,10,33,101,10,34,102,10,34,103,10,34,103,10,34,104,11,35,105,11,35,106,11,35,107,11,36,108,11,36,109,11,36,110,11,36,111,11,37,111,11,37,112,11,37,113,11,38,114,12,38,115,12,38,116,12,39,117,12,39,118,12,39,119,12,39,119,12,40,120,12,40,121,12,40,122,12,41,123,12,41,124,12,41,125,13,42,126,13,42,127,13,42,128,13,42,129,13,43,129,13,43,130,13,43,131,13,44,132,13,44,133,13,44,134,13,45,135,14,45,136,14,45,137,14,45,138,14,46,139,14,46,140,14,46,140,14,47,141,14,47,142,14,47,143,14,48,144,15,48,145,15,48,146,15,48,147,15,49,148,15,49,149,15,49,150,15,50,151,15,50,152,15,50,152,15,51,153,15,51,154,16,51,155,16,52,156,16,52,157,16,52,158,16,52,159,16,53,160,16,53,161,16,53,162,16,54,163,16,54,164,16,54,165,17,55,166,17,55,167,17,55,168,17,56,168,17,56,169,17,56,170,17,57,171,17,57,172,17,57,173,17,57,174,18,58,175,18,58,176,18,58,177,18,59,178,18,59,179,18,59,180,18,60,181,18,60,182,18,60,183,18,61,184,18,61,185,19,61,186,19,62,187,19,62,188,19,62,189,19,63,190,19,63,190,19,63,191,19,64,192,19,64,193,19,64,194,20,64,195,20,65,196,20,65,197,20,65,198,20,66,199,20,66,200,20,66,201,20,67,202,20,67,203,20,67,204,21,68,205,21,68,206,21,68,207,21,69,208,21,69,209,21,69,210,21,70,211,21,70,212,21,70,213,21,71,214,21,71,215,22,71,216,22,72,217,22,72,218,22,72,219,22,73,220,22,73,221,22,73,222,22,74,223,22,74,224,22,74,225,23,75,226,23,75,227,23,75,228,23,76,229,23,76,230,23,76,231,23,76,232,23,77,233,23,77,234,23,77,235,24,78,236,24,78,237,24,78,238,24,79,239,24,79,240,24,79,241,24,80,242,24,80,243,24,80,244,24,81,245,25,81,246,25,81,247,25,82,248,25,82,249,25,82,250,25,83,251,25,83,252,25,83,253,25,84,254,26,84,255] );\nexport const CET_L16_RGB8UI = new Uint8Array( [27,27,27,29,27,32,31,27,36,32,27,41,34,27,45,35,27,49,36,27,53,37,27,58,38,27,62,39,27,66,39,26,70,40,26,74,40,26,79,41,26,83,41,26,87,41,26,91,41,25,95,41,25,99,41,25,102,41,25,106,41,25,110,40,25,114,40,25,117,39,25,121,39,25,124,38,25,128,37,25,131,37,25,134,36,26,137,35,26,140,34,26,143,33,26,146,32,27,149,31,27,152,29,28,154,28,29,157,27,29,159,25,30,162,24,31,164,23,32,166,21,32,168,20,33,170,18,34,172,17,35,173,15,37,175,14,38,176,13,39,177,12,40,178,11,41,179,10,43,180,9,44,180,9,46,181,8,47,181,8,48,182,8,50,182,8,51,182,7,53,183,7,54,183,7,55,183,7,57,183,7,58,184,7,60,184,7,61,184,7,62,184,7,64,184,7,65,184,7,66,184,7,68,184,7,69,184,7,70,184,7,72,183,7,73,183,7,75,183,7,76,183,7,77,182,7,79,182,7,80,181,7,81,181,7,83,180,7,84,180,7,86,179,7,87,178,7,88,177,7,90,176,7,91,175,6,93,174,6,94,173,6,95,172,6,97,171,6,98,170,7,100,168,8,101,167,10,102,165,12,104,164,14,105,162,16,106,160,18,108,159,20,109,157,22,110,155,24,111,153,26,113,151,27,114,149,29,115,147,31,116,145,32,118,143,34,119,141,35,120,139,36,121,137,38,123,135,39,124,133,40,125,130,41,126,128,42,128,126,43,129,123,44,130,121,44,131,119,45,132,116,46,134,114,46,135,111,47,136,109,47,137,106,48,139,103,48,140,101,48,141,98,48,142,95,49,143,92,49,145,90,49,146,87,50,147,85,50,148,83,51,149,80,52,150,78,52,151,76,53,152,74,54,153,72,55,154,70,56,155,68,58,156,66,59,157,64,60,158,62,61,159,60,63,160,58,64,161,56,66,162,55,68,163,53,69,164,51,71,165,49,73,166,48,74,167,46,76,168,44,78,169,43,80,170,41,82,171,40,84,172,38,86,172,36,88,173,35,90,174,33,92,175,32,94,176,30,96,177,29,98,177,27,101,178,26,103,179,24,105,180,23,107,181,21,110,181,20,112,182,18,114,183,17,117,184,15,119,184,14,121,185,12,124,186,11,126,187,9,128,187,8,131,188,7,133,189,6,136,189,5,138,190,4,141,191,4,143,191,3,146,192,3,148,193,3,151,193,2,153,194,2,156,195,2,158,195,2,161,196,3,163,197,3,165,197,3,168,198,3,170,199,3,172,199,4,175,200,4,177,200,5,179,201,5,182,202,6,184,202,7,186,203,8,188,204,8,190,204,9,192,205,11,195,206,12,197,206,13,199,207,14,201,208,15,203,208,16,205,209,18,207,210,19,209,210,20,211,211,22,213,212,23,215,213,24,217,213,26,218,214,27,220,215,29,222,215,30,224,216,32,226,217,33,227,218,35,229,218,36,230,219,38,232,220,40,234,221,42,235,222,43,236,223,45,238,223,47,239,224,49,240,225,51,241,226,53,242,227,56,243,228,58,244,229,61,245,230,63,245,231,66,246,232,70,247,233,73,247,234,78,248,235,82,249,236,87,250,237,92,250,238,98,251,239,104,252,240,111,252,241,118,253,242,125,254,243,133,254,243,141,255,244,150,255,245,160,255,246,170,255,246,181,255,247,193,254,248,205,253,248,219,252,249,233,249,249,249] );\nexport const CET_L17_RGB8UI = new Uint8Array( [255,255,255,255,254,252,254,253,249,254,253,247,253,252,244,253,251,241,252,250,238,252,250,235,251,249,233,251,248,230,250,247,227,250,247,224,249,246,221,248,245,219,248,244,216,247,243,213,247,243,210,246,242,207,246,241,205,245,240,202,244,240,199,244,239,196,243,238,194,242,237,191,242,236,189,242,235,187,242,234,186,242,233,184,243,232,182,243,231,180,243,230,179,243,229,177,243,228,175,243,227,174,243,226,172,243,225,170,243,224,169,242,223,167,242,222,165,242,221,164,242,220,162,242,219,160,242,218,159,242,217,157,242,215,156,242,214,154,242,213,152,242,212,151,242,211,150,242,210,148,242,209,147,243,208,146,243,207,145,243,205,144,243,204,142,243,203,141,243,202,140,243,201,139,243,200,138,243,198,136,244,197,135,244,196,134,244,195,133,244,194,132,244,193,131,244,191,129,244,190,128,244,189,127,244,188,126,244,187,125,244,186,124,244,184,123,244,183,122,244,182,122,245,181,121,245,179,120,245,178,119,245,177,119,245,176,118,245,174,117,245,173,117,245,172,116,245,171,115,245,170,115,245,168,114,245,167,113,245,166,112,245,164,112,245,163,111,245,162,110,245,161,110,245,159,109,245,158,108,245,157,108,245,156,108,245,154,107,245,153,107,245,152,107,245,151,107,245,149,106,245,148,106,245,147,106,245,145,106,245,144,106,244,143,105,244,141,105,244,140,105,244,139,105,244,138,105,244,136,104,244,135,104,244,134,104,244,132,104,243,131,103,243,129,103,243,128,103,243,127,103,243,126,103,242,124,103,242,123,103,242,122,104,242,120,104,241,119,104,241,118,104,241,116,104,240,115,104,240,114,105,240,112,105,239,111,105,239,110,105,239,108,105,238,107,106,238,106,106,238,104,106,237,103,106,237,102,106,237,100,106,236,99,106,236,97,107,236,96,107,235,95,107,234,93,108,234,92,108,233,91,109,232,90,109,232,88,110,231,87,110,231,86,110,230,85,111,229,83,111,229,82,112,228,81,112,227,79,113,227,78,113,226,77,114,225,75,114,225,74,114,224,73,115,224,71,115,223,70,116,222,68,116,222,67,117,221,65,117,220,64,117,219,63,118,218,62,119,217,61,119,216,60,120,215,59,121,214,58,121,213,56,122,212,55,122,211,54,123,210,53,124,209,52,124,208,51,125,207,50,125,206,48,126,205,47,127,204,46,127,203,45,128,202,43,128,201,42,129,200,41,130,199,40,130,197,38,131,196,37,131,195,37,132,193,36,133,192,35,133,190,35,134,189,34,135,188,34,135,186,33,136,185,32,137,183,32,137,182,31,138,180,31,138,179,30,139,177,29,140,176,29,140,174,28,141,173,28,142,171,27,142,170,27,143,168,26,144,167,25,144,165,25,145,163,24,146,162,24,146,160,24,147,158,25,147,156,25,148,154,26,148,152,26,149,150,26,150,148,27,150,146,27,151,144,27,151,142,28,152,140,28,153,137,28,153,135,29,154,133,29,154,131,29,155,129,29,155,127,30,156,124,30,157,122,30,157,120,30,158,117,31,158,115,31,159,112,31,159,110,32,160,107,33,160,104,33,160,101,34,161,98,35,161,95,35,162,92,36,162,89,36,162,85,37,163,82,37,163,78,38,163,75,38,164,71,39,164,67,39,164,62,39,165,58,40,165,52,40,166,47,41,166,41,41,166,33,41,167,24,42,167,10,42,167,0,42,168] );\nexport const CET_L18_RGB8UI = new Uint8Array( [255,255,255,254,255,252,254,254,250,253,254,247,253,253,245,252,253,242,251,252,239,251,252,237,250,251,234,250,251,232,249,251,229,248,250,227,248,250,224,247,249,221,246,249,219,246,248,216,245,248,214,244,247,211,244,247,208,243,247,206,242,246,203,242,246,201,241,245,198,240,245,196,240,244,194,240,244,192,239,243,191,239,242,189,239,242,188,239,241,186,238,240,185,238,240,183,238,239,182,238,238,180,237,238,179,237,237,177,237,236,175,236,236,174,236,235,172,236,234,171,236,234,169,235,233,168,235,232,166,235,232,165,234,231,163,234,230,162,234,230,160,234,229,159,234,228,157,233,228,156,233,227,155,233,226,153,233,225,152,233,225,151,233,224,150,233,223,148,233,223,147,232,222,146,232,221,144,232,220,143,232,220,142,232,219,140,232,218,139,232,218,138,231,217,136,231,216,135,231,215,134,231,215,132,231,214,131,231,213,130,230,213,128,230,212,127,230,211,126,230,210,125,230,209,124,230,209,123,230,208,121,230,207,120,230,206,119,230,206,118,230,205,117,230,204,116,230,203,114,230,203,113,230,202,112,230,201,111,229,200,110,229,200,109,229,199,107,229,198,106,229,197,105,229,196,104,229,196,103,229,195,102,229,194,101,229,193,100,229,193,99,229,192,98,229,191,97,229,190,96,229,189,95,229,189,94,229,188,92,228,187,91,228,186,90,228,185,89,228,185,88,228,184,87,228,183,86,228,182,85,228,181,84,228,181,83,228,180,82,228,179,81,228,178,80,228,177,79,228,176,78,228,176,77,228,175,76,228,174,76,228,173,75,228,172,74,228,171,73,228,171,72,228,170,71,228,169,70,228,168,69,227,167,69,227,166,68,227,166,67,227,165,66,227,164,65,227,163,64,227,162,63,227,161,62,227,161,62,227,160,61,227,159,60,227,158,59,227,157,58,227,156,57,227,155,57,227,155,56,227,154,55,227,153,55,227,152,54,227,151,53,227,150,52,227,149,52,227,148,51,226,147,50,226,147,50,226,146,49,226,145,48,226,144,47,226,143,47,226,142,46,226,141,45,226,140,45,226,139,44,226,139,43,226,138,42,226,137,42,226,136,41,226,135,41,226,134,40,226,133,40,225,132,39,225,131,39,225,130,38,225,129,38,225,128,37,225,127,37,225,127,36,225,126,36,225,125,35,225,124,35,225,123,34,225,122,34,225,121,33,225,120,33,224,119,32,224,118,32,224,117,31,224,116,31,224,115,30,224,114,30,224,113,30,224,112,29,224,111,29,224,110,29,224,109,29,223,108,28,223,107,28,223,106,28,223,105,28,223,104,27,223,103,27,223,102,27,223,101,27,223,100,27,222,99,26,222,98,26,222,97,26,222,96,26,222,95,25,222,93,25,222,92,25,222,91,25,221,90,25,221,89,25,221,88,25,221,87,25,221,86,25,221,85,25,221,83,25,220,82,25,220,81,25,220,80,25,220,79,25,220,78,25,220,76,25,219,75,25,219,74,25,219,73,25,219,71,25,219,70,25,219,69,25,218,67,25,218,66,25,218,65,25,218,63,25,218,62,25,218,61,25,217,59,26,217,58,26,217,56,26,217,55,26,217,53,26,216,52,27,216,50,27,216,48,27,216,47,27,215,45,27,215,43,27,215,41,28,215,39,28,215,37,28,214,35,28,214,33,28,214,31,28,214,28,29,213,25,29,213,22,29,213,19,29,213,15,29] );\nexport const CET_L19_RGB8UI = new Uint8Array( [255,255,255,254,255,255,252,254,255,251,254,255,250,253,255,249,253,254,247,252,254,246,252,254,245,251,254,244,251,254,242,250,254,241,250,254,240,249,254,239,249,254,237,248,254,236,248,253,235,247,253,233,247,253,232,246,253,231,246,253,230,245,253,228,245,253,227,244,253,226,244,253,225,243,253,224,243,253,223,242,253,222,241,253,220,241,253,219,240,253,218,240,253,217,239,253,216,238,253,215,238,253,214,237,253,213,237,253,212,236,253,211,236,253,210,235,253,209,234,253,208,234,253,207,233,254,206,233,254,205,232,254,204,232,254,203,231,254,202,230,254,201,230,254,200,229,254,200,228,254,199,228,254,198,227,254,198,226,254,197,226,254,197,225,254,196,224,254,195,224,254,195,223,254,194,222,254,193,222,255,193,221,255,192,220,255,191,219,255,191,219,255,190,218,255,189,217,255,189,217,255,188,216,255,188,215,255,187,215,255,186,214,255,186,213,255,186,212,255,186,212,255,186,211,255,186,210,255,186,209,255,186,208,254,185,208,254,185,207,254,185,206,254,185,205,254,185,204,254,185,204,254,185,203,254,185,202,254,184,201,254,184,201,254,184,200,253,184,199,253,184,198,253,184,197,253,184,197,253,184,196,253,184,195,253,184,194,252,185,193,252,185,192,251,186,191,251,186,190,251,186,189,250,187,188,250,187,188,250,187,187,249,188,186,249,188,185,248,188,184,248,189,183,248,189,182,247,189,181,247,190,180,247,190,179,246,190,178,246,191,177,245,191,177,245,191,176,245,192,175,244,192,174,244,193,173,243,194,172,242,195,171,241,195,170,241,196,169,240,197,168,239,197,166,238,198,165,238,199,164,237,199,163,236,200,162,235,201,161,235,201,160,234,202,159,233,202,158,232,203,157,232,204,156,231,204,155,230,205,154,229,205,153,229,206,152,228,206,151,227,207,150,226,208,149,225,209,147,224,209,146,222,210,145,221,211,144,220,212,143,219,212,142,218,213,141,216,214,139,215,214,138,214,215,137,213,216,136,212,216,135,211,217,134,209,218,132,208,218,131,207,219,130,206,220,129,205,220,128,204,221,126,202,221,125,201,222,124,200,223,123,199,223,122,197,224,120,195,224,119,194,225,118,192,225,117,191,226,116,189,226,114,187,227,113,186,227,112,184,228,111,183,228,110,181,229,108,180,229,107,178,230,106,176,230,104,175,231,103,173,231,102,172,232,101,170,232,99,169,232,98,167,233,96,166,233,95,164,233,94,162,234,93,160,234,92,158,234,90,157,234,89,155,234,88,153,235,87,151,235,85,149,235,84,147,235,83,145,235,82,143,235,80,141,235,79,140,235,78,138,236,77,136,236,75,134,236,74,132,236,73,130,236,71,128,236,70,126,236,68,125,236,67,123,236,66,121,236,64,119,236,63,117,235,62,115,235,61,113,235,60,111,234,59,108,234,58,106,234,57,104,234,56,102,233,55,100,233,54,98,232,53,96,232,52,94,232,51,92,231,50,90,231,49,88,231,48,86,230,46,84,230,45,82,229,44,79,229,43,77,229,42,75,228,40,73,228,39,71,227,39,69,226,39,67,225,38,65,224,38,62,224,38,60,223,38,58,222,37,56,221,37,53,220,37,51,219,36,49,219,36,47,218,36,44,217,36,42,216,35,39,215,35,37,214,35,35,213,34,32,213,34,29,212,34,27,211,34,24,210,34,21,209,33,18,208,33,14] );\nexport const CET_L20_RGB8UI = new Uint8Array( [48,48,48,49,49,51,50,49,53,51,49,56,52,50,59,53,50,61,54,50,64,54,51,66,55,51,69,56,51,71,57,52,74,57,52,76,58,52,79,59,53,81,59,53,84,60,54,86,60,54,89,61,54,91,61,55,94,62,55,96,62,55,99,63,56,101,63,56,104,64,57,106,64,57,108,64,57,111,65,58,113,65,58,116,65,59,118,66,59,120,66,60,123,66,60,125,66,61,127,66,61,130,67,62,132,67,62,134,67,63,137,67,63,139,67,64,141,67,64,143,67,65,145,67,65,147,67,66,150,67,66,152,67,67,154,67,67,156,67,68,158,67,69,160,67,69,162,66,70,164,66,71,166,66,71,168,66,72,169,66,73,171,66,73,173,65,74,175,65,75,176,65,75,178,65,76,180,64,77,181,64,78,183,64,78,184,63,79,186,63,80,187,63,81,188,62,82,190,62,83,191,61,83,192,61,84,193,61,85,194,60,86,195,60,87,196,59,88,197,59,89,198,58,90,198,58,91,199,58,92,200,57,93,200,57,94,200,56,96,201,55,97,201,55,98,201,54,99,201,54,100,200,53,101,200,52,103,200,52,104,199,51,105,198,50,107,197,49,108,196,48,110,195,47,111,193,46,112,192,45,114,190,43,116,187,42,117,185,41,119,183,39,120,181,38,122,179,37,123,176,36,124,174,36,126,172,35,127,170,34,128,168,34,130,166,34,131,164,34,132,161,34,133,159,34,134,157,35,136,155,36,137,153,36,138,151,37,139,149,38,140,147,40,141,145,41,142,143,42,143,141,44,144,139,45,145,137,47,146,135,49,147,133,51,148,131,53,149,129,55,150,127,57,151,125,59,152,123,61,152,121,63,153,120,66,154,118,68,155,116,70,156,114,73,157,112,75,157,110,78,158,108,80,159,106,83,159,104,85,160,103,88,161,101,91,162,99,93,162,97,96,163,95,99,163,93,102,164,91,105,165,89,108,165,87,111,166,86,113,166,84,116,167,82,119,167,80,122,168,78,124,168,76,127,169,74,130,169,72,132,170,71,135,170,69,137,171,67,140,171,65,143,172,63,145,172,61,148,173,59,150,173,58,152,174,56,155,174,54,157,174,52,160,175,50,162,175,48,165,176,46,167,176,45,170,176,43,172,177,41,175,177,39,177,178,37,180,178,36,182,178,34,185,179,32,187,179,30,190,179,29,192,179,27,195,180,25,197,180,24,200,180,23,203,180,21,205,181,20,208,181,19,211,181,19,213,181,18,216,181,18,219,181,18,221,182,18,224,182,19,226,182,19,228,182,19,230,183,19,232,183,19,233,184,20,235,184,20,236,185,20,238,186,20,239,186,20,240,187,20,241,188,20,242,188,20,243,189,20,244,190,20,245,191,20,246,192,20,247,193,20,247,193,20,248,194,20,249,195,20,249,196,20,250,197,20,250,198,20,251,199,20,251,200,20,252,201,20,252,202,20,253,203,19,253,204,19,253,205,19,253,207,19,254,208,19,254,209,19,254,210,19,254,211,19,254,212,18,254,213,18,255,214,18,255,216,18,255,217,18,255,218,18,255,219,17,255,220,17,255,221,17,255,223,17,254,224,16,254,225,16,254,226,16,254,227,16,254,229,15,254,230,15,254,231,15,253,232,15,253,234,14,253,235,14,253,236,14,252,237,13,252,239,13,252,240,13,251,241,12,251,242,12,250,244,12,250,245,11,250,246,11,249,247,10,249,249,10] );\nexport const CET_L01 = /*@__PURE__*/newColorTableEntry( 'cet-L01', RGB8UI, GL.LINEAR, CET_L01_RGB8UI );\nexport const CET_L02 = /*@__PURE__*/newColorTableEntry( 'cet-L02', RGB8UI, GL.LINEAR, CET_L02_RGB8UI );\nexport const CET_L03 = /*@__PURE__*/newColorTableEntry( 'cet-L03', RGB8UI, GL.LINEAR, CET_L03_RGB8UI );\nexport const CET_L04 = /*@__PURE__*/newColorTableEntry( 'cet-L04', RGB8UI, GL.LINEAR, CET_L04_RGB8UI );\nexport const CET_L05 = /*@__PURE__*/newColorTableEntry( 'cet-L05', RGB8UI, GL.LINEAR, CET_L05_RGB8UI );\nexport const CET_L06 = /*@__PURE__*/newColorTableEntry( 'cet-L06', RGB8UI, GL.LINEAR, CET_L06_RGB8UI );\nexport const CET_L07 = /*@__PURE__*/newColorTableEntry( 'cet-L07', RGB8UI, GL.LINEAR, CET_L07_RGB8UI );\nexport const CET_L08 = /*@__PURE__*/newColorTableEntry( 'cet-L08', RGB8UI, GL.LINEAR, CET_L08_RGB8UI );\nexport const CET_L09 = /*@__PURE__*/newColorTableEntry( 'cet-L09', RGB8UI, GL.LINEAR, CET_L09_RGB8UI );\nexport const CET_L10 = /*@__PURE__*/newColorTableEntry( 'cet-L10', RGB8UI, GL.LINEAR, CET_L10_RGB8UI );\nexport const CET_L11 = /*@__PURE__*/newColorTableEntry( 'cet-L11', RGB8UI, GL.LINEAR, CET_L11_RGB8UI );\nexport const CET_L12 = /*@__PURE__*/newColorTableEntry( 'cet-L12', RGB8UI, GL.LINEAR, CET_L12_RGB8UI );\nexport const CET_L13 = /*@__PURE__*/newColorTableEntry( 'cet-L13', RGB8UI, GL.LINEAR, CET_L13_RGB8UI );\nexport const CET_L14 = /*@__PURE__*/newColorTableEntry( 'cet-L14', RGB8UI, GL.LINEAR, CET_L14_RGB8UI );\nexport const CET_L15 = /*@__PURE__*/newColorTableEntry( 'cet-L15', RGB8UI, GL.LINEAR, CET_L15_RGB8UI );\nexport const CET_L16 = /*@__PURE__*/newColorTableEntry( 'cet-L16', RGB8UI, GL.LINEAR, CET_L16_RGB8UI );\nexport const CET_L17 = /*@__PURE__*/newColorTableEntry( 'cet-L17', RGB8UI, GL.LINEAR, CET_L17_RGB8UI );\nexport const CET_L18 = /*@__PURE__*/newColorTableEntry( 'cet-L18', RGB8UI, GL.LINEAR, CET_L18_RGB8UI );\nexport const CET_L19 = /*@__PURE__*/newColorTableEntry( 'cet-L19', RGB8UI, GL.LINEAR, CET_L19_RGB8UI );\nexport const CET_L20 = /*@__PURE__*/newColorTableEntry( 'cet-L20', RGB8UI, GL.LINEAR, CET_L20_RGB8UI );\n\n// Diverging\nexport const CET_D01_RGB8UI = new Uint8Array( [33,81,219,37,82,219,42,83,219,46,84,220,49,85,220,53,86,220,56,87,220,59,88,220,62,89,221,65,91,221,67,92,221,70,93,221,72,94,221,75,95,222,77,96,222,80,97,222,82,99,222,84,100,223,86,101,223,88,102,223,90,103,223,92,104,223,94,105,224,96,107,224,98,108,224,100,109,224,102,110,224,104,111,225,105,112,225,107,114,225,109,115,225,111,116,225,112,117,226,114,118,226,116,120,226,117,121,226,119,122,226,121,123,227,122,124,227,124,126,227,125,127,227,127,128,227,129,129,228,130,130,228,132,132,228,133,133,228,135,134,228,136,135,229,138,136,229,139,138,229,141,139,229,142,140,229,143,141,229,145,143,230,146,144,230,148,145,230,149,146,230,151,148,230,152,149,231,153,150,231,155,151,231,156,153,231,158,154,231,159,155,231,160,156,232,162,158,232,163,159,232,164,160,232,166,161,232,167,163,232,168,164,233,170,165,233,171,166,233,172,168,233,174,169,233,175,170,233,176,172,234,178,173,234,179,174,234,180,175,234,181,177,234,183,178,234,184,179,235,185,180,235,187,182,235,188,183,235,189,184,235,190,186,235,192,187,235,193,188,236,194,190,236,195,191,236,197,192,236,198,193,236,199,195,236,200,196,236,202,197,237,203,199,237,204,200,237,205,201,237,207,203,237,208,204,237,209,205,237,210,207,238,211,208,238,213,209,238,214,211,238,215,212,238,216,213,238,218,215,238,219,216,238,220,217,239,221,218,239,222,220,239,224,221,239,225,222,239,226,224,239,227,225,239,228,226,239,229,227,239,230,228,238,231,229,238,232,229,238,233,230,237,234,231,237,235,231,236,236,231,235,237,231,234,238,231,233,238,231,232,239,230,231,239,230,230,240,229,228,240,228,227,241,227,225,241,226,223,241,225,221,241,224,220,241,222,218,242,221,216,242,219,214,242,218,212,242,216,210,242,215,208,242,213,206,242,212,204,242,210,203,242,209,201,242,207,199,242,206,197,242,204,195,241,203,193,241,201,191,241,199,189,241,198,187,241,196,185,241,195,183,241,193,181,241,192,180,240,190,178,240,189,176,240,187,174,240,185,172,240,184,170,240,182,168,239,181,166,239,179,165,239,178,163,239,176,161,238,175,159,238,173,157,238,172,155,238,170,153,237,168,152,237,167,150,237,165,148,237,164,146,236,162,144,236,161,142,236,159,140,235,157,139,235,156,137,235,154,135,234,153,133,234,151,131,234,150,130,233,148,128,233,147,126,232,145,124,232,143,122,232,142,121,231,140,119,231,139,117,230,137,115,230,136,113,230,134,112,229,132,110,229,131,108,228,129,106,228,128,105,227,126,103,227,124,101,226,123,99,226,121,98,225,120,96,225,118,94,224,116,92,224,115,91,223,113,89,223,111,87,222,110,85,222,108,84,221,106,82,221,105,80,220,103,79,219,102,77,219,100,75,218,98,73,218,96,72,217,95,70,216,93,68,216,91,67,215,90,65,215,88,63,214,86,62,213,84,60,213,82,58,212,81,56,211,79,55,211,77,53,210,75,51,209,73,50,209,71,48,208,69,46,207,68,45,207,66,43,206,64,41,205,61,40,205,59,38,204,57,36,203,55,34,202,53,33,202,51,31,201,48,29,200,46,27,200,43,26,199,41,24,198,38,22,197,35,20,197,32,18,196,28,16,195,25,14,194,20,12,193,15,10,193,9,8,192,2,6] );\nexport const CET_D01A_RGB8UI = new Uint8Array( [23,41,114,24,42,117,24,43,120,25,44,123,25,45,126,25,47,128,26,48,131,26,49,134,26,50,137,27,51,140,27,52,143,27,53,146,28,54,149,28,56,152,28,57,155,28,58,158,29,59,161,29,60,164,29,61,167,30,62,171,30,64,174,30,65,177,31,66,180,31,67,183,32,68,186,32,70,189,33,71,191,34,72,194,35,73,197,36,74,200,37,76,202,39,77,205,41,78,207,43,80,210,45,81,212,47,82,214,49,84,216,52,85,217,55,86,219,57,88,220,60,89,222,63,91,223,66,92,224,68,93,225,71,95,226,74,96,227,77,98,228,79,99,229,82,101,230,85,102,231,87,104,232,90,105,233,92,107,234,95,108,235,97,110,235,99,111,236,102,113,237,104,115,238,106,116,239,109,118,240,111,119,240,113,121,241,115,122,242,117,124,243,119,126,244,122,127,244,124,129,245,126,130,246,128,132,247,130,133,247,132,135,248,134,137,249,136,138,249,138,140,250,141,142,251,143,143,251,145,145,251,147,147,252,149,148,252,151,150,252,153,152,252,155,153,253,157,155,253,159,157,253,161,159,253,163,160,252,165,162,252,167,164,252,169,166,252,171,167,252,173,169,252,175,171,252,177,173,251,179,175,251,181,176,251,183,178,251,185,180,250,187,182,250,189,184,250,191,185,250,192,187,249,194,189,249,196,191,249,198,193,249,200,195,248,201,196,248,203,198,248,205,200,247,207,202,247,208,204,247,210,206,247,212,207,246,214,209,246,215,211,245,217,213,245,219,215,245,220,216,244,222,218,244,224,219,243,225,221,242,227,222,242,229,223,241,230,225,240,232,225,239,233,226,237,235,227,236,236,227,234,237,227,233,239,227,231,240,226,229,241,225,227,242,225,225,243,223,222,244,222,220,245,221,217,246,219,214,247,217,212,247,215,209,248,213,206,249,211,203,249,209,201,250,207,198,250,205,195,250,202,192,251,200,189,251,198,186,251,195,183,252,193,181,252,191,178,252,189,175,252,186,172,252,184,169,252,182,166,253,179,164,253,177,161,253,175,158,253,172,155,253,170,152,253,167,150,253,165,147,253,163,144,253,160,141,253,158,139,252,156,136,252,153,133,252,151,130,252,148,128,252,146,125,251,144,122,251,141,120,251,139,117,250,136,115,250,134,112,249,132,109,249,129,107,248,127,105,248,125,102,247,122,100,246,120,97,245,118,95,245,115,93,244,113,91,243,111,88,242,109,86,241,107,84,240,104,82,239,102,80,237,100,78,236,98,76,235,96,74,234,94,72,233,91,70,231,89,68,230,87,66,229,85,64,228,83,63,226,80,61,225,78,59,224,76,57,223,73,55,221,71,53,220,69,51,219,66,49,217,64,47,216,61,45,215,59,44,214,56,42,212,54,40,211,51,38,209,48,36,208,46,34,207,43,33,205,40,31,204,37,29,202,34,27,200,31,26,199,28,24,197,25,23,195,22,21,193,19,20,191,16,19,189,13,18,187,10,17,185,7,16,182,5,15,180,3,14,178,2,13,175,1,13,173,0,12,170,0,12,167,0,12,165,0,11,162,0,11,159,1,11,157,1,10,154,2,10,151,2,10,149,2,10,146,3,9,143,3,9,141,4,9,138,4,8,135,4,8,133,5,8,130,5,7,128,5,7,125,6,7,122,6,6,120,6,6,117,6,5,115,7,5,112,7,4,110,7,4,107,7,3,105,7,3,102,7,2] );\nexport const CET_D02_RGB8UI = new Uint8Array( [57,151,14,59,151,18,61,152,21,63,153,24,64,154,26,66,154,29,68,155,31,70,156,34,72,156,36,74,157,38,75,158,40,77,159,42,79,159,44,81,160,46,82,161,48,84,161,50,86,162,52,87,163,54,89,164,56,90,164,57,92,165,59,94,166,61,95,166,63,97,167,65,98,168,66,100,169,68,101,169,70,103,170,71,104,171,73,106,171,75,107,172,77,109,173,78,110,174,80,112,174,82,113,175,83,115,176,85,116,176,87,118,177,88,119,178,90,121,178,92,122,179,93,124,180,95,125,181,97,126,181,98,128,182,100,129,183,102,131,183,103,132,184,105,133,185,106,135,186,108,136,186,110,138,187,111,139,188,113,140,188,115,142,189,116,143,190,118,145,190,120,146,191,121,147,192,123,149,193,124,150,193,126,151,194,128,153,195,129,154,195,131,155,196,133,157,197,134,158,197,136,160,198,138,161,199,139,162,200,141,164,200,142,165,201,144,166,202,146,168,202,147,169,203,149,170,204,151,172,204,152,173,205,154,174,206,156,176,206,157,177,207,159,178,208,161,180,209,162,181,209,164,182,210,166,184,211,167,185,211,169,186,212,171,188,213,172,189,213,174,190,214,176,192,215,177,193,216,179,194,216,181,196,217,182,197,218,184,198,218,186,199,219,187,201,220,189,202,220,191,203,221,192,205,222,194,206,222,196,207,223,197,209,224,199,210,224,201,211,225,202,213,226,204,214,227,206,215,227,207,217,228,209,218,229,211,219,229,213,220,230,214,222,231,216,223,231,218,224,232,219,225,232,221,227,233,222,228,233,224,229,234,226,230,234,227,231,235,228,232,235,230,233,235,231,234,235,232,234,235,233,235,235,234,236,235,235,236,234,236,236,234,237,237,233,237,237,233,238,237,232,238,237,231,239,237,230,239,237,229,239,237,228,239,236,227,239,236,226,240,236,225,240,236,224,240,235,223,240,235,222,240,235,221,239,234,220,239,234,218,239,234,217,239,233,216,239,233,215,239,233,214,239,232,213,239,232,212,239,231,210,239,231,209,239,231,208,239,230,207,239,230,206,239,230,205,238,229,204,238,229,202,238,228,201,238,228,200,238,228,199,238,227,198,238,227,197,238,226,196,238,226,194,238,226,193,238,225,192,238,225,191,237,224,190,237,224,189,237,224,187,237,223,186,237,223,185,237,222,184,237,222,183,237,222,182,237,221,181,237,221,179,237,220,178,237,220,177,236,219,176,236,219,175,236,219,174,236,218,173,236,218,171,236,217,170,236,217,169,236,216,168,236,216,167,236,216,166,235,215,164,235,215,163,235,214,162,235,214,161,235,213,160,235,213,159,235,212,158,235,212,156,235,211,155,235,211,154,234,211,153,234,210,152,234,210,151,234,209,149,234,209,148,234,208,147,234,208,146,234,207,145,234,207,144,234,206,142,233,206,141,233,205,140,233,205,139,233,204,138,233,204,136,233,203,135,233,203,134,233,202,133,233,202,132,232,201,130,232,201,129,232,200,128,232,200,127,232,199,126,232,199,124,232,198,123,232,198,122,231,197,121,231,197,120,231,196,118,231,196,117,231,195,116,231,195,115,231,194,114,231,194,112,231,193,111,230,193,110,230,192,109,230,191,107,230,191,106,230,190,105,230,190,104,230,189,102,230,189,101,229,188,100,229,188,98,229,187,97,229,186,96,229,186,94,229,185,93,229,185,92,228,184,91,228,184,89,228] );\nexport const CET_D03_RGB8UI = new Uint8Array( [57,151,14,59,151,18,61,152,21,63,153,24,64,154,26,66,154,29,68,155,31,70,156,34,72,156,36,74,157,38,75,158,40,77,159,42,79,159,44,81,160,46,82,161,48,84,161,50,86,162,52,87,163,54,89,164,56,90,164,57,92,165,59,94,166,61,95,166,63,97,167,65,98,168,66,100,169,68,101,169,70,103,170,71,104,171,73,106,171,75,107,172,77,109,173,78,110,174,80,112,174,82,113,175,83,115,176,85,116,176,87,118,177,88,119,178,90,121,178,92,122,179,93,124,180,95,125,181,97,126,181,98,128,182,100,129,183,102,131,183,103,132,184,105,133,185,106,135,186,108,136,186,110,138,187,111,139,188,113,140,188,115,142,189,116,143,190,118,145,190,120,146,191,121,147,192,123,149,193,124,150,193,126,151,194,128,153,195,129,154,195,131,155,196,133,157,197,134,158,197,136,160,198,138,161,199,139,162,200,141,164,200,142,165,201,144,166,202,146,168,202,147,169,203,149,170,204,151,172,204,152,173,205,154,174,206,156,176,206,157,177,207,159,178,208,161,180,209,162,181,209,164,182,210,166,184,211,167,185,211,169,186,212,171,188,213,172,189,213,174,190,214,176,192,215,177,193,216,179,194,216,181,196,217,182,197,218,184,198,218,186,199,219,187,201,220,189,202,220,191,203,221,192,205,222,194,206,222,196,207,223,197,209,224,199,210,224,201,211,225,202,213,226,204,214,227,206,215,227,207,217,228,209,218,229,211,219,229,212,220,230,214,222,231,216,223,231,217,224,232,219,226,232,220,227,233,222,228,233,223,229,234,225,231,234,226,232,235,227,233,235,228,234,235,229,235,235,230,236,235,230,237,235,230,238,234,230,239,234,230,240,233,230,240,233,230,241,232,229,242,231,229,242,230,228,243,230,227,243,229,226,244,228,225,244,226,223,244,225,222,245,224,221,245,223,220,245,222,218,246,221,217,246,219,215,246,218,214,246,217,213,247,216,211,247,215,210,247,213,208,247,212,207,248,211,206,248,210,204,248,208,203,248,207,201,248,206,200,248,205,198,249,204,197,249,202,196,249,201,194,249,200,193,249,199,191,249,197,190,249,196,189,249,195,187,250,194,186,250,193,184,250,191,183,250,190,182,250,189,180,250,188,179,250,186,177,250,185,176,250,184,175,250,183,173,250,181,172,250,180,171,250,179,169,250,178,168,250,176,166,250,175,165,250,174,164,250,173,162,250,171,161,250,170,160,250,169,158,250,168,157,250,166,156,250,165,154,250,164,153,250,163,152,250,161,150,250,160,149,250,159,147,250,158,146,250,156,145,250,155,143,250,154,142,250,153,141,249,151,139,249,150,138,249,149,137,249,147,135,249,146,134,249,145,133,249,144,132,249,142,130,249,141,129,248,140,128,248,138,126,248,137,125,248,136,124,248,134,122,248,133,121,247,132,120,247,130,118,247,129,117,247,128,116,247,126,115,247,125,113,246,124,112,246,122,111,246,121,109,246,120,108,246,118,107,245,117,106,245,116,104,245,114,103,245,113,102,244,111,100,244,110,99,244,109,98,244,107,97,243,106,95,243,104,94,243,103,93,243,101,92,242,100,90,242,98,89,242,97,88,242,95,87,241,94,85,241,92,84,241,91,83,240,89,82,240,88,80,240,86,79,240,85,78,239,83,77,239,81,75,239,80,74,238,78,73,238,76,72,238,75,71,237,73,69,237,71,68] );\nexport const CET_D04_RGB8UI = new Uint8Array( [25,129,250,26,128,248,28,128,246,29,127,244,30,126,243,31,125,241,32,124,239,33,123,237,34,122,235,35,121,233,36,121,231,37,120,229,38,119,227,38,118,225,39,117,223,40,116,221,40,115,219,41,114,217,42,114,215,42,113,213,43,112,211,43,111,209,44,110,208,44,109,206,44,108,204,45,108,202,45,107,200,46,106,198,46,105,196,46,104,194,47,103,192,47,102,191,47,102,189,47,101,187,48,100,185,48,99,183,48,98,181,48,97,179,48,97,177,49,96,176,49,95,174,49,94,172,49,93,170,49,92,168,49,92,166,49,91,164,49,90,163,50,89,161,50,88,159,50,87,157,50,87,155,50,86,154,50,85,152,50,84,150,50,83,148,50,82,146,50,82,145,50,81,143,50,80,141,50,79,139,50,78,137,49,78,136,49,77,134,49,76,132,49,75,130,49,74,129,49,74,127,49,73,125,49,72,123,49,71,122,48,70,120,48,70,118,48,69,116,48,68,115,48,67,113,48,66,111,47,66,110,47,65,108,47,64,106,47,63,104,47,63,103,46,62,101,46,61,99,46,60,98,46,60,96,45,59,94,45,58,93,45,57,91,44,56,89,44,56,88,44,55,86,44,54,85,43,53,83,43,53,81,43,52,80,42,51,78,42,50,76,42,50,75,41,49,73,41,48,72,41,47,70,40,47,68,40,46,67,39,45,65,39,45,64,39,44,62,38,43,61,38,42,59,37,42,58,37,41,56,37,40,54,36,40,53,36,39,51,35,38,50,35,37,48,35,37,47,34,36,46,34,35,44,34,35,43,33,34,41,33,34,40,33,33,39,33,33,38,33,32,37,33,32,36,33,32,35,34,31,34,34,31,33,34,31,33,35,31,32,36,31,32,37,31,31,38,31,31,39,32,31,40,32,31,41,32,31,42,32,31,43,33,31,45,33,31,46,34,31,48,34,32,49,34,32,50,35,32,52,35,32,53,36,33,55,36,33,56,37,33,58,37,33,59,38,34,61,38,34,62,39,34,63,39,35,65,39,35,66,40,35,68,40,35,69,41,36,71,41,36,72,42,36,74,42,37,75,43,37,77,43,37,78,43,38,80,44,38,81,44,38,83,45,38,84,45,39,86,46,39,87,46,39,89,46,40,90,47,40,92,47,40,93,48,41,95,48,41,96,49,41,98,49,41,99,49,42,101,50,42,102,50,42,104,51,43,106,51,43,107,52,43,109,52,43,110,52,44,112,53,44,113,53,44,115,54,45,116,54,45,118,54,45,120,55,46,121,55,46,123,56,46,124,56,46,126,56,47,127,57,47,129,57,47,131,58,48,132,58,48,134,58,48,135,59,48,137,59,49,138,60,49,140,60,49,142,60,50,143,61,50,145,61,50,146,62,51,148,62,51,150,62,51,151,63,51,153,63,52,155,64,52,156,64,52,158,64,53,159,65,53,161,65,53,163,65,54,164,66,54,166,66,54,168,67,54,169,67,55,171,67,55,173,68,55,174,68,56,176,68,56,178,69,56,179,69,56,181,70,57,183,70,57,184,70,57,186,71,58,188,71,58,189,71,58,191,72,59,193,72,59,194,72,59,196,73,59,198,73,60,199,74,60,201,74,60,203,74,61,204,75,61,206,75,61,208,75,62,209,76,62,211,76,62,213,76,62,215,77,63,216,77,63,218,77,63,220,78,64,221,78,64,223,78,64,225,79,65,227,79,65,228,79,65,230,80,65] );\nexport const CET_D06_RGB8UI = new Uint8Array( [14,148,250,17,147,248,19,146,246,21,145,244,23,144,242,24,143,240,26,142,238,27,140,236,28,139,234,29,138,233,31,137,231,32,136,229,33,135,227,34,134,225,34,133,223,35,132,221,36,131,219,37,130,217,38,129,215,38,128,213,39,127,211,39,126,209,40,125,207,41,124,205,41,123,204,42,122,202,42,121,200,43,120,198,43,119,196,43,118,194,44,117,192,44,116,190,44,115,188,45,114,187,45,113,185,45,112,183,46,111,181,46,110,179,46,109,177,46,108,175,47,107,173,47,106,172,47,105,170,47,104,168,47,103,166,47,102,164,48,101,162,48,100,161,48,99,159,48,98,157,48,97,155,48,96,153,48,95,152,48,94,150,48,93,148,48,92,146,48,91,144,48,90,143,48,89,141,48,88,139,48,87,137,48,87,135,48,86,134,48,85,132,48,84,130,48,83,128,48,82,127,48,81,125,48,80,123,48,79,121,47,78,120,47,77,118,47,76,116,47,75,115,47,74,113,47,73,111,47,72,109,46,72,108,46,71,106,46,70,104,46,69,103,46,68,101,45,67,99,45,66,98,45,65,96,45,64,94,44,63,93,44,62,91,44,62,89,44,61,88,43,60,86,43,59,84,43,58,83,42,57,81,42,56,79,42,55,78,42,54,76,41,54,75,41,53,73,41,52,71,40,51,70,40,50,68,39,49,67,39,48,65,39,48,64,38,47,62,38,46,60,38,45,59,37,44,57,37,43,56,36,42,54,36,42,53,35,41,51,35,40,50,35,39,48,34,38,47,34,38,45,34,37,44,33,36,43,33,36,41,33,35,40,32,34,39,32,34,38,32,33,37,32,33,35,32,33,35,32,33,34,33,32,33,33,32,32,33,32,32,34,33,31,35,33,31,35,33,30,36,34,30,37,34,30,38,34,30,38,35,30,39,36,30,40,36,30,41,37,30,42,38,30,44,38,30,45,39,30,46,40,30,47,41,30,48,41,30,49,42,30,50,43,30,51,44,30,52,45,31,53,45,31,54,46,31,56,47,31,57,48,31,58,49,31,59,49,31,60,50,31,61,51,31,62,52,31,63,53,32,65,53,32,66,54,32,67,55,32,68,56,32,69,57,32,70,58,32,71,58,32,72,59,32,74,60,32,75,61,32,76,62,32,77,63,33,78,63,33,79,64,33,80,65,33,82,66,33,83,67,33,84,68,33,85,69,33,86,69,33,87,70,33,88,71,33,90,72,33,91,73,33,92,74,33,93,75,33,94,75,33,95,76,33,97,77,33,98,78,33,99,79,33,100,80,33,101,81,33,103,82,33,104,82,33,105,83,33,106,84,33,107,85,33,108,86,33,110,87,33,111,88,33,112,89,33,113,90,33,114,90,33,116,91,33,117,92,33,118,93,33,119,94,33,120,95,33,122,96,33,123,97,33,124,98,33,125,99,33,127,99,33,128,100,33,129,101,33,130,102,33,131,103,33,133,104,32,134,105,32,135,106,32,136,107,32,138,108,32,139,109,32,140,110,32,141,110,32,142,111,32,144,112,32,145,113,31,146,114,31,147,115,31,149,116,31,150,117,31,151,118,31,152,119,31,154,120,30,155,121,30,156,122,30,157,123,30,159,124,30,160,125,30,161,126,29,163,126,29,164,127,29,165,128,29,166,129,29,168,130,28,169,131,28,170,132,28,171,133,28,173,134,27,174,135,27,175,136,27,177,137,27,178,138,26,179,139,26] );\nexport const CET_D07_RGB8UI = new Uint8Array( [20,49,193,24,50,193,28,51,193,31,51,192,34,52,192,37,53,192,40,54,191,42,54,191,45,55,191,47,56,190,49,57,190,51,57,190,53,58,189,54,59,189,56,59,188,58,60,188,59,61,188,61,62,187,63,62,187,64,63,187,66,64,186,67,65,186,68,65,186,70,66,185,71,67,185,72,68,185,74,68,184,75,69,184,76,70,183,77,70,183,78,71,183,79,72,182,81,73,182,82,73,182,83,74,181,84,75,181,85,76,181,86,76,180,87,77,180,88,78,180,89,79,179,90,79,179,91,80,178,92,81,178,93,81,178,94,82,177,94,83,177,95,84,177,96,84,176,97,85,176,98,86,175,99,87,175,100,87,175,100,88,174,101,89,174,102,90,174,103,90,173,104,91,173,104,92,173,105,93,172,106,93,172,107,94,171,107,95,171,108,96,171,109,96,170,110,97,170,110,98,169,111,99,169,112,99,169,112,100,168,113,101,168,114,102,168,115,102,167,115,103,167,116,104,166,117,105,166,117,105,166,118,106,165,118,107,165,119,108,165,120,108,164,120,109,164,121,110,163,122,111,163,122,111,163,123,112,162,123,113,162,124,114,161,125,114,161,125,115,161,126,116,160,126,117,160,127,117,159,127,118,159,128,119,159,129,120,158,129,120,158,130,121,157,130,122,157,131,123,157,131,123,156,132,124,156,132,125,155,133,126,155,133,127,155,134,127,154,134,128,154,135,129,153,135,130,153,136,130,152,136,131,152,137,132,152,137,133,151,138,133,151,138,134,150,139,135,150,139,136,150,140,136,149,140,137,149,141,138,148,141,139,148,142,140,147,142,140,147,143,141,147,143,142,146,143,143,146,144,143,145,144,144,145,145,145,144,146,145,144,147,146,143,148,147,142,149,147,142,150,148,141,151,149,141,152,149,140,153,150,139,154,150,139,155,151,138,156,152,138,157,152,137,158,153,136,159,153,136,160,154,135,161,155,134,162,155,134,163,156,133,164,157,133,165,157,132,166,158,131,167,158,131,168,159,130,169,160,129,170,160,129,170,161,128,171,162,127,172,162,127,173,163,126,174,163,125,175,164,125,176,165,124,177,165,123,178,166,123,179,167,122,179,167,121,180,168,121,181,169,120,182,169,119,183,170,119,184,170,118,185,171,117,186,172,117,186,172,116,187,173,115,188,174,115,189,174,114,190,175,113,191,176,112,192,176,112,192,177,111,193,178,110,194,178,109,195,179,109,196,180,108,197,180,107,198,181,106,198,181,106,199,182,105,200,183,104,201,183,103,202,184,103,203,185,102,203,185,101,204,186,100,205,187,99,206,187,99,207,188,98,207,189,97,208,189,96,209,190,95,210,191,94,211,191,94,212,192,93,212,193,92,213,193,91,214,194,90,215,195,89,216,195,88,216,196,87,217,197,86,218,197,86,219,198,85,220,199,84,220,199,83,221,200,82,222,201,81,223,201,80,223,202,79,224,203,78,225,203,77,226,204,76,227,205,75,227,205,73,228,206,72,229,207,71,230,207,70,231,208,69,231,209,68,232,209,67,233,210,65,234,211,64,234,211,63,235,212,62,236,213,60,237,214,59,237,214,57,238,215,56,239,216,55,240,216,53,241,217,51,241,218,50,242,218,48,243,219,46,244,220,45,244,220,43,245,221,41,246,222,39,247,222,37,247,223,34,248,224,32,249,224,29,250,225,26,250,226,23,251,227,19,252,227,15,253,228,9] );\nexport const CET_D08_RGB8UI = new Uint8Array( [0,42,215,0,43,214,0,43,213,0,44,212,0,44,212,0,45,211,0,45,210,0,46,209,7,46,208,13,47,207,19,47,206,23,48,205,27,48,204,30,49,203,33,49,202,35,50,201,38,50,201,40,51,200,42,51,199,44,52,198,46,52,197,47,53,196,49,53,195,51,54,194,52,54,193,54,55,192,55,55,191,56,56,191,58,56,190,59,57,189,60,57,188,61,57,187,62,58,186,64,58,185,65,59,184,66,59,183,67,60,182,68,60,181,69,61,181,69,61,180,70,62,179,71,62,178,72,63,177,73,63,176,74,64,175,74,64,174,75,64,173,76,65,172,77,65,172,77,66,171,78,66,170,79,67,169,79,67,168,80,68,167,81,68,166,81,69,165,82,69,164,82,70,163,83,70,163,84,70,162,84,71,161,85,71,160,85,72,159,86,72,158,86,73,157,87,73,156,87,74,155,88,74,155,88,74,154,88,75,153,89,75,152,89,76,151,90,76,150,90,77,149,91,77,148,91,78,147,91,78,146,92,78,146,92,79,145,92,79,144,93,80,143,93,80,142,93,81,141,94,81,140,94,82,139,94,82,138,94,82,138,95,83,137,95,83,136,95,84,135,96,84,134,96,85,133,96,85,132,96,86,131,96,86,130,97,86,130,97,87,129,97,87,128,97,88,127,98,88,126,98,89,125,98,89,124,98,89,123,98,90,122,98,90,122,99,91,121,99,91,120,99,92,119,99,92,118,99,92,117,99,93,116,99,93,115,99,94,114,99,94,113,100,95,113,100,95,112,100,95,111,100,96,110,100,96,109,100,97,108,100,97,107,100,98,106,100,98,105,100,98,104,100,99,103,100,99,103,100,100,102,100,100,101,101,100,100,103,100,99,105,100,99,106,100,98,108,100,97,110,100,97,111,99,96,113,99,96,114,99,95,116,99,94,117,99,94,119,99,93,120,99,92,122,98,92,123,98,91,125,98,91,126,98,90,128,98,89,129,98,89,131,97,88,132,97,87,134,97,87,135,97,86,136,97,86,138,96,85,139,96,84,140,96,84,142,96,83,143,96,82,144,95,82,146,95,81,147,95,81,148,95,80,150,94,79,151,94,79,152,94,78,154,94,77,155,93,77,156,93,76,158,93,75,159,93,75,160,92,74,161,92,73,163,92,73,164,91,72,165,91,72,166,91,71,168,91,70,169,90,70,170,90,69,171,90,68,173,89,68,174,89,67,175,89,66,176,88,66,177,88,65,179,88,64,180,87,64,181,87,63,182,86,62,183,86,62,185,86,61,186,85,60,187,85,60,188,84,59,189,84,58,191,84,58,192,83,57,193,83,56,194,82,56,195,82,55,197,81,54,198,81,53,199,80,53,200,80,52,201,79,51,202,79,51,204,78,50,205,78,49,206,77,48,207,77,48,208,76,47,209,76,46,210,75,46,212,74,45,213,74,44,214,73,43,215,73,43,216,72,42,217,71,41,218,71,40,220,70,39,221,69,39,222,69,38,223,68,37,224,67,36,225,66,35,226,65,35,228,65,34,229,64,33,230,63,32,231,62,31,232,61,30,233,60,29,234,59,28,235,58,27,237,58,27,238,56,26,239,55,25,240,54,24,241,53,22,242,52,21,243,51,20,244,50,19,246,48,18,247,47,17,248,46,15,249,44,14,250,43,13,251,41,11,252,40,9,253,38,8,255,36,6,255,34,5,255,32,3,255,30,1,255,27,0,255,25,0] );\nexport const CET_D09_RGB8UI = new Uint8Array( [36,128,255,41,129,255,46,129,255,50,130,255,54,131,255,58,132,255,62,133,255,65,134,255,68,135,255,71,135,255,74,136,254,77,137,254,79,138,254,82,139,254,84,140,254,87,141,254,89,142,254,91,142,254,94,143,254,96,144,254,98,145,254,100,146,254,102,147,254,104,148,254,106,149,254,108,150,254,110,150,254,112,151,254,114,152,254,116,153,254,118,154,254,119,155,254,121,156,254,123,157,254,125,158,254,126,159,254,128,159,254,130,160,254,131,161,254,133,162,254,135,163,254,136,164,254,138,165,254,139,166,254,141,167,254,143,168,254,144,169,254,146,170,254,147,171,254,149,171,254,150,172,254,152,173,254,153,174,254,155,175,254,156,176,254,157,177,254,159,178,254,160,179,254,162,180,254,163,181,254,165,182,254,166,183,253,167,184,253,169,185,253,170,186,253,171,187,253,173,187,253,174,188,253,175,189,253,177,190,253,178,191,253,179,192,253,181,193,253,182,194,253,183,195,253,185,196,253,186,197,253,187,198,253,189,199,253,190,200,253,191,201,253,192,202,253,194,203,253,195,204,252,196,205,252,198,206,252,199,207,252,200,208,252,201,209,252,203,210,252,204,211,252,205,212,252,206,213,252,207,214,252,209,215,252,210,216,252,211,217,252,212,218,252,214,219,252,215,220,252,216,221,251,217,222,251,218,223,251,220,224,251,221,225,251,222,226,251,223,227,251,224,228,251,226,229,251,227,230,251,228,231,251,229,232,251,230,233,251,231,234,251,233,235,250,234,236,250,235,237,250,236,238,250,237,239,250,238,240,250,240,241,250,241,242,250,242,243,250,243,244,250,244,245,249,245,246,249,247,246,249,248,247,248,249,246,247,249,246,245,250,245,244,250,244,242,250,242,240,251,241,239,251,240,237,251,239,236,251,237,234,252,236,232,252,235,231,252,234,229,252,232,227,252,231,226,252,230,224,252,229,223,253,227,221,253,226,219,253,225,218,253,223,216,253,222,215,253,221,213,253,220,211,253,218,210,253,217,208,253,216,207,254,215,205,254,213,203,254,212,202,254,211,200,254,210,199,254,208,197,254,207,195,254,206,194,254,205,192,254,203,191,254,202,189,254,201,188,254,199,186,254,198,185,254,197,183,254,196,181,254,194,180,254,193,178,253,192,177,253,191,175,253,189,174,253,188,172,253,187,171,253,186,169,253,184,167,253,183,166,253,182,164,253,180,163,253,179,161,252,178,160,252,177,158,252,175,157,252,174,155,252,173,154,252,172,152,252,170,151,251,169,149,251,168,148,251,166,146,251,165,145,251,164,143,251,163,142,250,161,140,250,160,139,250,159,137,250,158,136,249,156,134,249,155,133,249,154,131,249,152,130,249,151,128,248,150,127,248,148,125,248,147,124,248,146,122,247,145,121,247,143,119,247,142,118,246,141,116,246,139,115,246,138,113,246,137,112,245,135,110,245,134,109,245,133,107,244,131,106,244,130,105,244,129,103,243,127,102,243,126,100,243,125,99,242,123,97,242,122,96,242,121,94,241,119,93,241,118,92,241,117,90,240,115,89,240,114,87,240,113,86,239,111,84,239,110,83,238,108,82,238,107,80,238,106,79,237,104,77,237,103,76,236,101,74,236,100,73,236,98,72,235,97,70,235,96,69,234,94,67,234,93,66,233,91,65,233,90,63,233,88,62,232,87,60,232,85,59,231,83,58,231,82,56,230,80,55] );\nexport const CET_D10_RGB8UI = new Uint8Array( [0,217,255,0,217,255,14,218,255,26,218,255,34,218,255,40,218,255,46,219,255,51,219,255,55,219,255,59,220,255,63,220,255,67,220,255,70,221,255,73,221,255,77,221,255,80,222,255,82,222,255,85,222,255,88,223,255,91,223,255,93,223,255,96,223,255,98,224,255,100,224,255,103,224,255,105,225,255,107,225,255,109,225,255,111,226,255,114,226,255,116,226,255,118,226,255,120,227,255,122,227,255,123,227,255,125,228,255,127,228,255,129,228,255,131,229,255,133,229,255,134,229,255,136,230,255,138,230,255,140,230,255,141,230,255,143,231,255,145,231,255,146,231,255,148,232,255,150,232,255,151,232,255,153,233,255,155,233,255,156,233,255,158,233,255,159,234,255,161,234,255,162,234,255,164,235,255,165,235,255,167,235,255,168,236,255,170,236,255,171,236,255,173,236,255,174,237,255,176,237,255,177,237,255,179,238,255,180,238,255,181,238,255,183,239,255,184,239,255,186,239,255,187,239,255,188,240,255,190,240,255,191,240,255,192,241,255,194,241,255,195,241,255,197,241,255,198,242,255,199,242,255,201,242,255,202,243,255,203,243,255,205,243,255,206,244,255,207,244,255,208,244,255,210,244,255,211,245,255,212,245,255,214,245,255,215,246,255,216,246,255,217,246,255,219,246,255,220,247,255,221,247,255,222,247,255,224,248,255,225,248,255,226,248,255,227,248,255,229,249,255,230,249,255,231,249,255,232,250,255,234,250,255,235,250,255,236,251,255,237,251,255,238,251,255,240,251,255,241,252,255,242,252,255,243,252,255,245,253,255,246,253,255,247,253,255,248,253,255,249,254,255,251,254,255,252,254,255,253,254,255,254,255,255,255,255,255,255,254,255,255,253,255,255,253,255,255,252,254,255,251,254,255,251,254,255,250,254,255,250,254,255,249,254,255,248,254,255,248,254,255,247,254,255,246,253,255,246,253,255,245,253,255,245,253,255,244,253,255,243,253,255,243,253,255,242,253,255,241,253,255,241,252,255,240,252,255,239,252,255,239,252,255,238,252,255,238,252,255,237,252,255,236,252,255,236,252,255,235,251,255,234,251,255,234,251,255,233,251,255,233,251,255,232,251,255,231,251,255,231,251,255,230,251,255,229,250,255,229,250,255,228,250,255,228,250,255,227,250,254,226,250,254,226,250,254,225,250,254,224,250,254,224,249,254,223,249,254,222,249,254,222,249,254,221,249,254,221,249,254,220,249,254,219,249,254,219,248,254,218,248,254,217,248,254,217,248,254,216,248,254,216,248,254,215,248,254,214,248,254,214,248,254,213,247,254,212,247,254,212,247,254,211,247,254,210,247,254,210,247,253,209,247,253,209,247,253,208,246,253,207,246,253,207,246,253,206,246,253,205,246,253,205,246,253,204,246,253,203,246,253,203,246,253,202,245,253,201,245,253,201,245,253,200,245,253,200,245,253,199,245,253,198,245,253,198,245,252,197,244,252,196,244,252,196,244,252,195,244,252,194,244,252,194,244,252,193,244,252,192,244,252,192,244,252,191,243,252,191,243,252,190,243,252,189,243,252,189,243,252,188,243,251,187,243,251,187,243,251,186,242,251,185,242,251,185,242,251,184,242,251,183,242,251,183,242,251,182,242,251,181,242,251,181,241,251,180,241,251,179,241,251,179,241,250,178,241,250,177,241,250,177,241,250,176,241,250,175,240,250,175,240,250,174,240,250,174,240] );\nexport const CET_D11_RGB8UI = new Uint8Array( [0,182,255,0,182,255,0,182,255,0,182,255,6,182,255,17,182,255,25,182,254,31,182,253,36,182,253,40,182,252,44,181,251,47,181,251,51,181,250,54,181,249,57,181,249,59,181,248,62,181,247,64,181,246,67,181,246,69,181,245,71,181,244,73,180,244,75,180,243,77,180,242,79,180,242,81,180,241,82,180,240,84,180,240,86,180,239,87,180,238,89,180,237,90,180,237,92,179,236,93,179,235,95,179,235,96,179,234,98,179,233,99,179,233,100,179,232,102,179,231,103,179,231,104,179,230,105,179,229,107,178,229,108,178,228,109,178,227,110,178,227,111,178,226,112,178,225,113,178,224,115,178,224,116,178,223,117,178,222,118,178,222,119,177,221,120,177,220,121,177,220,122,177,219,123,177,218,124,177,218,125,177,217,126,177,216,126,177,216,127,177,215,128,177,214,129,176,214,130,176,213,131,176,212,132,176,211,133,176,211,133,176,210,134,176,209,135,176,209,136,176,208,137,176,207,138,176,207,138,176,206,139,175,205,140,175,205,141,175,204,141,175,203,142,175,203,143,175,202,144,175,201,144,175,201,145,175,200,146,175,199,147,175,199,147,174,198,148,174,197,149,174,196,149,174,196,150,174,195,151,174,194,151,174,194,152,174,193,153,174,192,153,174,192,154,174,191,155,174,190,155,173,190,156,173,189,157,173,188,157,173,188,158,173,187,158,173,186,159,173,186,160,173,185,160,173,184,161,173,184,161,173,183,162,172,182,163,172,182,163,172,181,164,172,180,164,172,180,165,172,179,165,172,178,166,172,178,167,172,177,167,172,176,168,172,176,168,171,175,169,171,174,170,171,174,170,171,173,171,171,172,171,171,172,172,171,171,173,171,171,173,170,170,174,170,170,175,170,169,175,170,169,176,170,168,177,170,167,178,169,167,178,169,166,179,169,166,180,169,165,180,169,165,181,169,164,182,168,164,182,168,163,183,168,163,184,168,162,185,168,162,185,167,162,186,167,161,187,167,161,187,167,160,188,167,160,189,167,159,189,166,159,190,166,158,191,166,158,191,166,157,192,166,157,193,165,156,193,165,156,194,165,155,195,165,155,195,165,154,196,164,154,197,164,153,197,164,153,198,164,152,198,164,152,199,163,151,200,163,151,200,163,150,201,163,150,202,163,149,202,162,149,203,162,148,203,162,148,204,162,147,205,162,147,205,161,146,206,161,146,206,161,145,207,161,145,208,161,144,208,160,144,209,160,144,209,160,143,210,160,143,211,160,142,211,159,142,212,159,141,212,159,141,213,159,140,213,159,140,214,158,139,215,158,139,215,158,138,216,158,138,216,158,137,217,157,137,217,157,136,218,157,136,219,157,135,219,156,135,220,156,134,220,156,134,221,156,133,221,156,133,222,155,132,222,155,132,223,155,131,224,155,131,224,154,130,225,154,130,225,154,129,226,154,129,226,154,128,227,153,128,227,153,127,228,153,127,228,153,126,229,152,126,229,152,125,230,152,125,230,152,125,231,152,124,231,151,124,232,151,123,233,151,123,233,151,122,234,150,122,234,150,121,235,150,121,235,150,120,236,149,120,236,149,119,237,149,119,237,149,118,238,149,118,238,148,117,239,148,117,239,148,116,240,148,116,240,147,115,241,147,115,241,147,114,242,147,114,242,146,113,243,146,113,243,146,112,244,146,112,244,145,111,245,145,111,245,145,110,245,145,110,246,144,109,246,144,109] );\nexport const CET_D12_RGB8UI = new Uint8Array( [0,201,255,0,200,255,0,200,254,0,200,254,0,200,253,0,200,253,0,200,252,13,200,252,23,200,251,29,200,250,35,199,250,40,199,249,44,199,249,48,199,248,51,199,248,55,199,247,58,199,247,61,199,246,64,198,245,66,198,245,69,198,244,71,198,244,73,198,243,76,198,243,78,198,242,80,198,241,82,197,241,84,197,240,86,197,240,87,197,239,89,197,239,91,197,238,93,197,238,94,197,237,96,197,236,98,196,236,99,196,235,101,196,235,102,196,234,104,196,234,105,196,233,107,196,233,108,196,232,109,195,231,111,195,231,112,195,230,113,195,230,115,195,229,116,195,229,117,195,228,118,195,228,120,194,227,121,194,226,122,194,226,123,194,225,124,194,225,125,194,224,126,194,224,128,194,223,129,193,223,130,193,222,131,193,221,132,193,221,133,193,220,134,193,220,135,193,219,136,193,219,137,192,218,138,192,218,139,192,217,140,192,216,141,192,216,142,192,215,143,192,215,144,192,214,145,191,214,146,191,213,146,191,213,147,191,212,148,191,211,149,191,211,150,191,210,151,191,210,152,190,209,153,190,209,153,190,208,154,190,208,155,190,207,156,190,207,157,190,206,158,190,205,158,189,205,159,189,204,160,189,204,161,189,203,162,189,203,162,189,202,163,189,202,164,189,201,165,188,200,165,188,200,166,188,199,167,188,199,168,188,198,168,188,198,169,188,197,170,187,197,171,187,196,171,187,195,172,187,195,173,187,194,173,187,194,174,187,193,175,187,193,175,186,192,176,186,192,177,186,191,178,186,191,178,186,190,179,186,190,179,186,189,180,185,189,181,185,189,181,185,188,182,185,188,183,185,188,183,185,187,184,185,187,184,184,187,185,184,187,185,184,187,186,184,187,186,184,187,187,184,187,187,183,187,188,183,188,188,183,188,189,183,188,189,183,188,190,183,189,190,182,189,191,182,189,191,182,190,192,182,190,192,182,190,192,182,191,193,181,191,193,181,191,194,181,192,194,181,192,195,181,192,195,180,193,196,180,193,196,180,193,196,180,194,197,180,194,197,180,194,198,179,195,198,179,195,199,179,195,199,179,196,199,179,196,200,178,196,200,178,197,201,178,197,201,178,197,202,178,198,202,178,198,202,177,198,203,177,199,203,177,199,204,177,199,204,177,200,205,176,200,205,176,200,205,176,201,206,176,201,206,176,201,207,175,202,207,175,202,207,175,202,208,175,203,208,175,203,209,174,203,209,174,204,210,174,204,210,174,204,210,174,205,211,173,205,211,173,205,212,173,206,212,173,206,212,173,206,213,172,207,213,172,207,214,172,207,214,172,208,214,172,208,215,171,208,215,171,209,216,171,209,216,171,209,217,171,210,217,170,210,217,170,210,218,170,211,218,170,211,219,169,212,219,169,212,219,169,212,220,169,213,220,169,213,221,168,213,221,168,214,221,168,214,222,168,214,222,168,215,223,167,215,223,167,215,223,167,216,224,167,216,224,166,216,225,166,217,225,166,217,225,166,217,226,166,218,226,165,218,227,165,218,227,165,219,227,165,219,228,164,219,228,164,220,228,164,220,229,164,220,229,164,221,230,163,221,230,163,221,230,163,222,231,163,222,231,162,222,232,162,223,232,162,223,232,162,223,233,161,224,233,161,224,234,161,224,234,161,225,234,160,225,235,160,225,235,160,226,235,160,226,236,159,226,236,159,227,237,159,227,237,159,227,237,158,228] );\nexport const CET_D13_RGB8UI = new Uint8Array( [17,45,104,18,46,106,19,47,108,20,49,110,21,50,112,22,51,115,23,52,117,24,54,119,25,55,121,26,56,123,27,57,125,28,59,127,29,60,130,30,61,132,31,63,134,32,64,136,33,65,138,34,67,140,35,68,142,36,69,144,37,71,147,37,72,149,38,73,151,39,75,153,40,76,155,41,78,157,42,79,159,42,81,161,43,82,163,44,83,165,45,85,168,45,86,170,46,88,172,47,89,174,47,91,176,48,92,178,49,94,180,49,95,182,50,97,184,50,98,186,51,100,188,51,101,190,52,103,192,52,105,194,53,106,195,53,108,197,54,109,199,54,111,201,54,113,203,54,114,205,54,116,207,54,118,208,55,119,210,55,121,212,54,123,214,54,125,215,54,126,217,54,128,219,53,130,220,53,132,222,53,134,223,52,135,225,52,137,226,51,139,228,51,141,229,50,143,230,50,145,231,50,146,233,50,148,234,50,150,235,50,152,236,51,154,237,51,155,238,52,157,239,54,159,240,55,161,241,57,163,242,59,164,243,61,166,244,64,168,245,66,169,245,69,171,246,72,173,247,75,175,247,78,176,248,81,178,248,84,179,249,87,181,249,91,183,250,94,184,250,98,186,250,101,187,251,105,189,251,109,191,251,113,192,251,116,194,251,120,195,251,124,197,252,128,198,251,132,200,251,136,201,251,140,202,251,144,204,251,148,205,251,152,207,251,156,208,250,160,210,250,164,211,250,167,212,249,171,214,249,175,215,249,179,217,248,183,218,248,187,219,247,190,221,247,194,222,247,198,223,246,201,225,246,205,226,245,208,227,245,211,229,244,214,230,243,217,231,243,219,232,242,221,233,241,222,234,240,223,234,239,223,235,238,223,235,236,222,235,235,221,235,233,219,235,231,216,234,230,213,234,228,210,233,226,207,232,224,203,231,222,199,230,220,195,229,218,191,228,216,187,227,214,183,226,212,179,225,210,175,224,209,171,223,207,166,222,205,162,221,203,158,220,201,154,218,199,150,217,197,145,216,195,141,215,193,137,214,191,133,213,189,129,211,187,125,210,185,121,209,182,117,208,180,113,206,178,109,205,176,105,204,174,101,202,172,98,201,169,94,200,167,90,198,165,87,197,163,83,196,160,80,194,158,77,193,156,73,191,153,70,190,151,67,188,148,64,187,146,62,185,143,59,184,141,56,182,138,54,181,136,51,179,133,49,178,131,47,176,128,45,175,125,44,173,123,42,172,120,41,170,117,40,168,115,39,167,112,38,165,109,37,164,107,37,162,104,37,160,101,36,159,98,36,157,96,36,155,93,36,154,90,36,152,88,36,150,85,36,149,83,35,147,80,35,146,78,35,144,76,35,142,73,34,141,71,34,139,69,34,137,67,33,136,65,33,134,63,32,133,61,32,131,59,31,129,57,31,128,55,30,126,54,30,125,52,29,123,50,28,121,49,28,120,47,27,118,45,26,117,44,26,115,42,25,113,41,24,112,39,24,110,38,23,109,37,22,107,35,22,106,34,21,104,32,20,102,31,19,101,30,18,99,29,18,98,27,17,96,26,16,95,25,15,93,24,14,92,23,14,90,22,13,89,21,12,87,19,11,86,18,10,84,17,9,83,16,8,81,15,8,80,14,7,78,13,6,77,13,5,75,12,5,74,11,4,72,10,3,71,9,3,69,8,2,68,7,2,66,7,1,65,6,1,63,5,1,62,4,0,60,3,0,59,2,0,58,2] );\nexport const CET_D01 = /*@__PURE__*/newColorTableEntry( 'cet-D01', RGB8UI, GL.LINEAR, CET_D01_RGB8UI );\nexport const CET_D01A = /*@__PURE__*/newColorTableEntry( 'cet-D01A', RGB8UI, GL.LINEAR, CET_D01A_RGB8UI );\nexport const CET_D02 = /*@__PURE__*/newColorTableEntry( 'cet-D02', RGB8UI, GL.LINEAR, CET_D02_RGB8UI );\nexport const CET_D03 = /*@__PURE__*/newColorTableEntry( 'cet-D03', RGB8UI, GL.LINEAR, CET_D03_RGB8UI );\nexport const CET_D04 = /*@__PURE__*/newColorTableEntry( 'cet-D04', RGB8UI, GL.LINEAR, CET_D04_RGB8UI );\nexport const CET_D06 = /*@__PURE__*/newColorTableEntry( 'cet-D06', RGB8UI, GL.LINEAR, CET_D06_RGB8UI );\nexport const CET_D07 = /*@__PURE__*/newColorTableEntry( 'cet-D07', RGB8UI, GL.LINEAR, CET_D07_RGB8UI );\nexport const CET_D08 = /*@__PURE__*/newColorTableEntry( 'cet-D08', RGB8UI, GL.LINEAR, CET_D08_RGB8UI );\nexport const CET_D09 = /*@__PURE__*/newColorTableEntry( 'cet-D09', RGB8UI, GL.LINEAR, CET_D09_RGB8UI );\nexport const CET_D10 = /*@__PURE__*/newColorTableEntry( 'cet-D10', RGB8UI, GL.LINEAR, CET_D10_RGB8UI );\nexport const CET_D11 = /*@__PURE__*/newColorTableEntry( 'cet-D11', RGB8UI, GL.LINEAR, CET_D11_RGB8UI );\nexport const CET_D12 = /*@__PURE__*/newColorTableEntry( 'cet-D12', RGB8UI, GL.LINEAR, CET_D12_RGB8UI );\nexport const CET_D13 = /*@__PURE__*/newColorTableEntry( 'cet-D13', RGB8UI, GL.LINEAR, CET_D13_RGB8UI );\n\n// Isoluminant\nexport const CET_I1_RGB8UI = new Uint8Array( [55,183,236,56,183,235,56,183,234,57,183,234,57,183,233,58,183,232,59,184,231,59,184,230,60,184,229,60,184,228,61,184,227,61,184,227,62,184,226,62,184,225,63,184,224,63,184,223,64,184,222,64,184,221,65,184,220,66,184,220,66,185,219,67,185,218,67,185,217,68,185,216,68,185,215,69,185,214,69,185,213,69,185,212,70,185,212,70,185,211,71,185,210,71,185,209,72,185,208,72,185,207,73,185,206,73,185,205,74,186,204,74,186,203,75,186,203,75,186,202,76,186,201,76,186,200,77,186,199,77,186,198,78,186,197,78,186,196,79,186,195,79,186,194,80,186,193,80,186,193,80,186,192,81,186,191,81,186,190,82,186,189,82,186,188,83,187,187,83,187,186,84,187,185,84,187,184,85,187,183,85,187,182,86,187,181,86,187,180,87,187,179,87,187,179,88,187,178,88,187,177,89,187,176,89,187,175,90,187,174,91,187,173,91,187,172,92,187,171,92,187,170,93,187,169,93,187,168,94,187,167,94,187,166,95,187,165,96,187,164,96,187,163,97,187,162,97,187,161,98,187,160,98,187,159,99,187,158,100,187,157,100,187,156,101,187,155,102,187,154,102,187,153,103,187,152,104,187,151,104,187,151,105,187,150,106,187,149,106,187,148,107,187,147,108,187,146,109,187,145,109,187,144,110,187,143,111,187,142,112,187,141,113,187,140,113,187,139,114,187,138,115,186,137,116,186,136,117,186,135,118,186,134,118,186,133,119,186,132,120,186,131,121,186,130,122,186,129,123,186,128,124,186,127,125,185,126,126,185,125,127,185,124,128,185,124,129,185,123,130,185,122,131,185,121,132,184,120,133,184,119,134,184,119,135,184,118,136,184,117,137,184,116,138,184,115,139,183,115,140,183,114,142,183,113,143,183,113,144,183,112,145,182,111,146,182,111,147,182,110,148,182,109,149,182,109,150,181,108,151,181,108,152,181,107,153,181,107,154,180,106,155,180,106,157,180,105,158,180,105,159,179,104,160,179,104,161,179,103,162,179,103,163,178,102,164,178,102,165,178,101,166,178,101,167,177,100,168,177,100,169,177,100,170,177,99,171,176,99,172,176,99,173,176,98,174,176,98,175,175,98,176,175,97,177,175,97,178,175,97,179,174,96,180,174,96,181,174,96,181,173,96,182,173,95,183,173,95,184,172,95,185,172,95,186,172,95,187,172,95,188,171,94,189,171,94,190,171,94,191,170,94,192,170,94,193,170,94,194,169,94,194,169,94,195,169,94,196,168,94,197,168,93,198,168,93,199,168,93,200,167,93,201,167,93,201,167,93,202,166,94,203,166,94,204,166,94,205,165,94,206,165,94,207,165,94,207,164,94,208,164,94,209,164,94,210,163,94,211,163,94,211,162,94,212,162,95,213,162,95,214,161,95,215,161,95,216,161,95,216,160,95,217,160,96,218,160,96,219,159,96,219,159,96,220,159,96,221,158,97,222,158,97,223,157,97,223,157,97,224,157,98,225,156,98,226,156,98,226,156,99,227,155,99,228,155,99,228,154,99,229,154,100,230,154,100,231,153,100,231,153,101,232,153,101,233,152,101,234,152,102,234,151,102,235,151,102,236,151,103,236,150,103,237,150,103,238,149,104,238,149,104,239,149,104,240,148,105,240,148,105,241,147,106,242,147,106,242,147,106,243,146,107,244,146,107,244,145,108,245,145,108,246,145,108,246,144,109] );\nexport const CET_I2_RGB8UI = new Uint8Array( [112,209,255,112,210,255,112,210,255,112,210,255,112,210,255,112,210,254,112,210,254,112,210,253,112,210,252,112,210,251,112,210,250,112,210,250,113,211,249,113,211,248,113,211,247,113,211,247,113,211,246,113,211,245,113,211,244,113,211,243,113,211,243,113,211,242,113,211,241,114,212,240,114,212,239,114,212,238,114,212,238,114,212,237,114,212,236,114,212,235,114,212,234,115,212,234,115,212,233,115,212,232,115,212,231,115,212,230,115,213,229,115,213,229,116,213,228,116,213,227,116,213,226,116,213,225,116,213,225,116,213,224,116,213,223,117,213,222,117,213,221,117,213,220,117,213,219,117,213,219,118,213,218,118,214,217,118,214,216,118,214,215,118,214,214,119,214,214,119,214,213,119,214,212,119,214,211,119,214,210,120,214,209,120,214,208,120,214,208,120,214,207,121,214,206,121,214,205,121,214,204,122,214,203,122,214,202,122,214,201,122,214,201,123,214,200,123,215,199,123,215,198,124,215,197,124,215,196,124,215,195,125,215,194,125,215,193,125,215,193,126,215,192,126,215,191,126,215,190,127,215,189,127,215,188,128,215,187,128,215,186,129,215,185,129,215,184,129,215,184,130,215,183,130,215,182,131,215,181,131,215,180,132,215,179,132,215,178,133,215,177,133,215,176,134,215,175,134,215,174,135,215,173,136,215,172,136,215,172,137,215,171,137,215,170,138,215,169,139,215,168,139,215,167,140,215,166,141,214,165,141,214,164,142,214,163,143,214,162,144,214,161,144,214,160,145,214,160,146,214,159,147,214,158,147,214,157,148,214,156,149,214,155,150,214,154,151,213,153,152,213,153,153,213,152,154,213,151,154,213,150,155,213,149,156,213,148,157,213,148,158,212,147,159,212,146,160,212,145,161,212,144,162,212,144,163,212,143,164,211,142,165,211,142,166,211,141,167,211,140,168,211,140,169,211,139,170,210,138,171,210,138,172,210,137,173,210,136,174,210,136,175,209,135,176,209,135,177,209,134,178,209,134,179,209,133,180,208,133,181,208,132,182,208,132,183,208,131,184,207,131,185,207,130,186,207,130,187,207,129,188,207,129,189,206,128,190,206,128,191,206,127,192,206,127,193,205,127,194,205,126,195,205,126,196,205,125,197,204,125,197,204,125,198,204,124,199,204,124,200,203,124,201,203,123,202,203,123,203,203,123,204,202,122,205,202,122,206,202,122,207,202,121,208,201,121,209,201,121,209,201,121,210,201,120,211,200,120,212,200,120,213,200,120,214,199,119,215,199,119,216,199,119,217,199,119,217,198,119,218,198,119,219,198,118,220,197,118,221,197,118,222,197,118,223,197,118,224,196,118,224,196,118,225,196,118,226,195,118,227,195,118,228,195,118,229,194,118,229,194,118,230,194,118,231,194,118,232,193,118,233,193,118,233,193,118,234,192,118,235,192,118,236,192,118,237,191,118,237,191,118,238,191,118,239,190,118,240,190,119,241,190,119,241,189,119,242,189,119,243,189,119,244,188,119,244,188,120,245,188,120,246,188,120,247,187,120,247,187,121,248,187,121,249,186,121,249,186,121,250,186,122,251,185,122,252,185,122,252,185,122,253,184,123,254,184,123,254,184,123,255,183,124,255,183,124,255,183,124,255,182,125,255,182,125,255,182,125,255,181,126,255,181,126,255,181,127,255,180,127,255,180,127,255,180,128,255,179,128,255,179,129,255,179,129,255,178,129] );\nexport const CET_I3_RGB8UI = new Uint8Array( [20,186,230,25,185,230,29,185,230,32,185,230,35,185,230,38,185,230,41,185,230,44,184,231,46,184,231,48,184,231,51,184,231,53,184,231,55,184,231,57,184,231,59,183,232,60,183,232,62,183,232,64,183,232,66,183,232,67,183,232,69,182,232,70,182,232,72,182,233,74,182,233,75,182,233,76,182,233,78,182,233,79,181,233,81,181,233,82,181,233,83,181,233,85,181,233,86,181,234,87,180,234,89,180,234,90,180,234,91,180,234,92,180,234,93,180,234,95,179,234,96,179,234,97,179,234,98,179,235,99,179,235,100,178,235,102,178,235,103,178,235,104,178,235,105,178,235,106,178,235,107,177,235,108,177,235,109,177,235,110,177,235,111,177,235,112,177,235,113,176,236,114,176,236,115,176,236,116,176,236,117,176,236,118,175,236,119,175,236,120,175,236,121,175,236,122,175,236,123,174,236,124,174,236,125,174,236,126,174,236,127,174,236,128,174,236,129,173,236,130,173,236,131,173,236,132,173,236,133,173,236,134,172,236,135,172,236,136,172,236,137,172,236,138,172,236,139,171,236,139,171,236,140,171,236,141,171,236,142,170,236,143,170,236,144,170,236,145,170,236,146,170,236,147,169,236,148,169,236,149,169,236,149,169,235,150,169,235,151,168,235,152,168,235,153,168,235,154,168,235,155,167,235,156,167,235,156,167,235,157,167,235,158,167,234,159,166,234,160,166,234,161,166,234,162,166,234,163,165,234,163,165,233,164,165,233,165,165,233,166,165,233,167,164,233,168,164,232,169,164,232,169,164,232,170,163,232,171,163,231,172,163,231,173,163,231,174,163,231,175,162,230,175,162,230,176,162,230,177,162,229,178,161,229,179,161,229,179,161,228,180,161,228,181,161,228,182,160,227,183,160,227,183,160,227,184,160,226,185,159,226,186,159,226,186,159,225,187,159,225,188,159,224,189,158,224,189,158,224,190,158,223,191,158,223,192,158,223,192,157,222,193,157,222,194,157,221,195,157,221,195,156,221,196,156,220,197,156,220,197,156,219,198,156,219,199,155,219,199,155,218,200,155,218,201,155,217,201,154,217,202,154,216,203,154,216,203,154,216,204,154,215,205,153,215,205,153,214,206,153,214,207,153,213,207,153,213,208,152,213,209,152,212,209,152,212,210,152,211,211,151,211,211,151,210,212,151,210,212,151,210,213,151,209,214,150,209,214,150,208,215,150,208,215,150,207,216,149,207,217,149,206,217,149,206,218,149,206,218,149,205,219,148,205,220,148,204,220,148,204,221,148,203,221,148,203,222,147,202,222,147,202,223,147,202,224,147,201,224,146,201,225,146,200,225,146,200,226,146,199,226,146,199,227,145,198,227,145,198,228,145,197,229,145,197,229,144,196,230,144,196,230,144,196,231,144,195,231,144,195,232,143,194,232,143,194,233,143,193,233,143,193,234,142,192,234,142,192,235,142,191,235,142,191,236,142,190,236,141,190,237,141,190,237,141,189,238,141,189,238,140,188,239,140,188,239,140,187,240,140,187,240,139,186,241,139,186,241,139,185,242,139,185,242,139,184,243,138,184,243,138,183,244,138,183,244,138,182,245,137,182,245,137,181,246,137,181,246,137,181,247,136,180,247,136,180,248,136,179,248,136,179,249,136,178,249,135,178,249,135,177,250,135,177,250,135,176,251,134,176,251,134,175,252,134,175,252,134,174,253,133,174,253,133,173,254,133,173] );\nexport const CET_I1 = /*@__PURE__*/newColorTableEntry( 'cet-I1', RGB8UI, GL.LINEAR, CET_I1_RGB8UI );\nexport const CET_I2 = /*@__PURE__*/newColorTableEntry( 'cet-I2', RGB8UI, GL.LINEAR, CET_I2_RGB8UI );\nexport const CET_I3 = /*@__PURE__*/newColorTableEntry( 'cet-I3', RGB8UI, GL.LINEAR, CET_I3_RGB8UI );\n\n// Cyclic\nexport const CET_C1_RGB8UI = new Uint8Array( [249,133,248,250,132,246,251,131,243,252,130,241,252,129,238,253,127,235,253,126,232,253,124,229,253,122,226,253,120,222,253,118,219,252,116,215,252,114,212,251,112,208,251,109,204,250,107,200,250,105,197,249,103,193,248,100,189,247,98,185,247,95,181,246,93,178,245,91,174,244,88,170,243,86,166,242,84,163,241,81,159,240,79,155,239,76,151,238,74,148,237,72,144,236,70,140,234,67,136,233,65,132,232,63,129,230,61,125,229,59,121,227,57,117,225,55,113,224,53,109,222,51,106,220,49,102,218,47,98,217,45,94,215,44,90,213,42,86,211,40,83,209,38,79,207,36,75,205,35,71,203,33,68,201,31,64,199,30,60,198,28,57,196,27,53,194,25,50,192,24,46,190,23,43,189,23,39,187,23,36,186,23,33,185,23,30,184,24,27,183,25,25,182,27,22,181,29,20,181,31,17,181,33,15,181,35,13,181,38,12,181,41,10,182,43,8,182,46,7,183,49,6,184,51,6,184,54,5,185,57,5,186,59,5,187,62,4,188,65,4,189,67,4,190,70,4,191,72,4,192,75,4,193,77,4,194,80,4,195,82,4,196,84,4,197,87,4,198,89,5,199,92,5,200,94,5,201,96,5,202,99,5,202,101,5,203,103,5,204,106,5,205,108,5,206,111,5,206,113,5,207,115,5,208,118,5,208,120,5,209,122,5,209,125,5,210,127,4,210,129,4,211,132,4,211,134,4,212,137,4,212,139,4,213,141,4,213,143,4,214,146,4,214,148,5,214,150,5,214,152,6,215,155,7,215,157,8,215,159,10,215,160,13,214,162,15,214,164,18,213,165,21,213,167,24,212,168,28,210,169,31,209,170,35,208,170,39,206,170,43,204,171,47,202,171,51,199,170,55,197,170,59,194,169,63,191,169,67,188,168,70,185,167,74,182,166,78,179,165,82,175,164,85,172,163,89,169,161,92,165,160,96,161,159,99,157,158,102,154,157,105,150,155,109,146,154,112,142,153,115,137,152,118,133,150,121,129,149,124,124,148,127,119,147,130,115,145,133,110,144,136,105,143,139,99,141,142,94,140,145,89,139,148,83,137,151,78,136,154,72,134,157,67,132,160,62,131,163,57,129,166,52,127,169,47,125,172,43,123,175,40,121,178,37,118,181,35,116,184,34,113,187,34,111,190,34,108,193,34,105,197,36,102,200,37,99,203,38,96,206,40,93,209,41,90,212,43,87,215,45,84,218,46,81,221,48,78,224,49,75,227,51,73,229,53,70,232,55,68,234,57,66,236,60,64,238,62,63,240,65,62,242,68,61,243,71,61,244,73,61,245,76,61,246,79,62,247,82,63,247,85,64,248,88,65,248,91,67,249,94,69,249,97,71,249,99,73,249,102,75,249,105,77,249,107,79,249,110,81,249,112,83,249,115,85,249,117,87,249,119,89,249,122,91,250,124,93,250,127,94,250,130,96,250,132,98,250,135,100,250,138,101,250,141,103,250,144,105,250,147,106,250,150,107,251,153,109,251,156,110,251,160,111,251,163,113,251,167,114,252,170,115,252,174,116,252,177,117,252,181,118,253,185,119,253,188,120,253,192,121,254,195,122,254,199,123,254,202,124,255,206,125,255,209,126,255,213,127,255,216,128,255,219,129,255,223,130,255,226,131,255,229,132,255,232,132,255,234,133,255,237,133,255,240,134,254,242,134,253,244,134,252,246,134,251,247,133,249] );\nexport const CET_C2_RGB8UI = new Uint8Array( [239,85,242,241,87,240,242,90,239,243,93,237,245,95,235,246,98,233,246,101,231,247,104,229,248,107,226,249,111,224,249,114,222,250,117,219,250,120,217,250,123,214,251,126,211,251,129,209,251,132,206,251,135,203,251,138,201,252,141,198,252,144,195,252,147,192,252,149,190,252,152,187,252,155,184,252,158,181,252,160,179,252,163,176,252,166,173,252,168,170,252,171,167,252,173,165,252,176,162,251,178,159,251,181,156,251,183,153,251,185,150,252,188,147,252,190,144,252,192,141,252,195,138,252,197,135,252,199,132,252,201,129,252,204,126,252,206,123,252,208,120,252,210,117,252,212,113,252,214,110,252,216,107,252,218,103,252,221,100,251,223,96,251,224,92,251,226,88,250,228,85,250,230,81,249,231,77,248,233,73,247,234,69,245,235,65,244,236,61,242,237,57,241,238,53,239,238,50,237,238,46,234,239,43,232,238,40,230,238,37,227,238,35,225,237,33,222,237,31,219,236,29,216,235,27,214,234,26,211,233,25,208,232,24,205,231,24,202,230,23,199,229,22,196,228,22,193,227,21,190,226,21,187,225,21,184,224,20,181,223,20,178,222,19,175,221,19,172,220,19,169,218,18,166,217,18,163,216,18,160,215,17,157,214,17,154,213,17,151,212,16,148,211,16,145,210,16,141,208,15,138,207,15,135,206,15,132,205,14,129,204,14,125,203,14,122,202,13,119,200,13,115,199,13,112,198,13,108,197,12,105,196,12,101,195,12,98,194,12,94,192,12,90,191,12,86,190,12,83,189,13,79,188,14,75,186,15,72,185,16,68,184,18,65,183,20,62,181,22,59,180,25,56,179,27,54,177,30,52,176,33,51,174,37,50,173,40,50,171,44,50,169,47,50,168,51,51,166,55,53,164,59,54,163,63,56,161,66,57,159,70,59,157,74,60,155,78,62,153,82,63,152,86,64,150,89,65,148,93,66,146,97,67,144,100,68,142,104,68,140,107,69,138,111,69,137,114,69,135,118,69,133,121,69,131,125,69,129,128,68,127,132,68,125,135,67,123,138,66,121,142,65,120,145,64,118,148,63,116,151,62,114,155,60,112,158,59,110,161,57,108,164,56,106,167,54,104,170,52,102,173,51,100,176,49,97,179,48,95,182,47,93,185,45,91,187,44,88,190,43,86,193,42,83,195,42,81,198,41,78,200,40,76,203,39,73,205,39,70,208,38,67,210,38,64,213,37,62,215,37,59,217,36,56,219,36,53,222,37,50,224,37,47,226,38,44,228,40,41,229,41,39,231,44,36,233,46,34,234,49,32,236,52,30,237,55,29,238,59,28,239,62,27,240,66,27,241,69,27,242,73,27,242,77,28,243,80,28,243,84,29,244,87,31,244,90,32,245,94,33,245,97,35,246,100,36,246,103,38,246,106,39,247,109,41,247,112,42,247,115,44,248,117,45,248,120,46,248,123,48,249,126,49,249,128,50,249,131,52,250,134,53,250,137,54,250,140,55,250,143,56,251,145,57,251,148,58,251,152,59,251,155,60,251,158,61,251,161,62,251,164,62,251,167,63,251,171,64,251,174,64,251,177,65,251,181,65,251,184,66,251,187,66,251,191,67,251,194,67,251,197,68,251,200,68,250,203,69,250,207,69,250,210,70,250,213,70,250,216,71,249,219,72,249,221,72,249,224,73,248,227,75,248,229,76,247,231,77,246,233,79,245,236,81,244,237,83,243] );\nexport const CET_C3_RGB8UI = new Uint8Array( [225,215,218,226,215,216,227,214,214,228,213,212,229,212,209,230,210,207,231,209,204,232,207,201,233,205,198,234,203,195,234,201,192,235,199,189,236,197,186,236,194,183,237,192,180,237,189,176,238,187,173,238,185,170,238,182,167,239,180,164,239,177,160,239,175,157,239,172,154,240,170,151,240,167,148,240,165,144,240,162,141,240,160,138,240,157,135,240,155,132,240,152,129,240,150,126,240,147,122,240,145,119,240,142,116,240,139,113,239,137,110,239,134,107,239,132,104,239,129,101,238,126,98,238,124,95,238,121,92,237,118,89,237,116,86,237,113,83,236,110,80,236,107,77,235,105,74,235,102,71,234,99,68,234,96,65,233,93,62,232,90,59,232,87,56,231,85,53,230,82,51,229,79,48,228,76,45,227,73,43,225,71,41,224,68,38,222,66,36,220,64,35,218,62,33,216,60,32,214,58,30,212,57,29,209,56,28,207,55,28,204,54,27,201,53,27,198,52,26,195,52,26,192,52,26,189,51,26,186,51,26,183,51,26,180,51,26,177,50,27,174,50,27,171,50,27,167,50,27,164,50,27,161,49,27,158,49,27,155,49,28,152,49,28,148,49,28,145,48,28,142,48,28,139,48,28,136,47,28,133,47,28,130,47,28,127,46,28,124,46,28,121,46,29,118,45,29,115,45,29,112,44,29,109,44,29,106,44,29,103,43,29,100,43,29,97,42,29,94,42,29,91,41,29,88,41,29,85,40,29,82,40,29,79,39,29,76,38,29,73,38,29,71,37,29,68,37,29,65,36,29,62,36,29,60,35,29,57,35,30,55,34,30,52,34,31,50,34,31,48,33,32,46,33,33,45,33,34,43,33,35,42,33,37,41,34,38,40,34,40,39,34,42,39,35,44,39,35,46,39,36,49,39,37,51,39,38,54,39,39,57,39,40,60,40,41,63,40,42,66,41,43,69,41,44,72,42,45,75,42,46,79,43,48,82,43,49,85,44,50,89,44,51,92,45,53,96,45,54,99,46,55,102,46,56,106,47,58,109,47,59,113,47,60,116,47,61,120,48,63,124,48,64,127,48,65,131,48,66,134,48,68,138,48,69,142,48,70,145,48,72,149,48,73,153,48,74,156,47,76,160,47,77,164,47,78,168,46,80,171,46,81,175,45,82,179,44,84,183,44,85,187,43,86,191,42,88,194,41,89,198,40,90,202,39,92,206,38,93,210,37,95,213,36,96,217,36,97,221,35,99,224,35,100,227,35,102,231,36,103,234,37,105,236,39,106,239,41,108,241,44,109,244,47,111,245,51,112,247,55,114,249,59,115,250,63,117,251,68,118,251,72,120,252,76,122,252,81,123,252,85,125,252,89,127,252,93,128,252,97,130,252,101,132,252,104,133,252,108,135,251,111,137,251,115,139,250,118,140,250,121,142,250,125,144,249,128,146,249,131,147,248,134,149,248,136,151,247,139,153,247,142,155,246,145,156,246,147,158,245,150,160,245,153,162,245,155,164,244,158,165,244,160,167,243,163,169,243,165,171,242,168,173,242,170,175,241,172,177,241,175,178,240,177,180,240,179,182,239,181,184,239,184,186,238,186,188,238,188,190,237,190,192,237,192,193,236,194,195,235,196,197,235,198,199,234,201,201,234,203,203,233,205,204,232,206,206,232,208,208,231,210,209,230,212,211,229,214,212,228,216,213,227,217,214,226,219,215,225,220,215,224,222,215,222,223,215,220] );\nexport const CET_C4_RGB8UI = new Uint8Array( [223,213,216,224,213,214,225,212,212,226,211,210,227,209,207,227,208,204,228,206,201,229,204,198,229,202,195,229,200,192,230,197,189,230,195,185,230,192,182,230,189,178,230,187,175,230,184,171,230,181,168,230,178,164,230,176,161,230,173,157,230,170,154,230,167,150,229,164,147,229,162,143,229,159,140,229,156,136,228,153,133,228,150,129,227,147,126,227,145,123,226,142,119,226,139,116,225,136,112,225,133,109,224,130,106,224,127,102,223,124,99,222,122,96,221,119,92,221,116,89,220,113,86,219,110,82,218,107,79,218,104,76,217,101,72,216,98,69,215,94,66,214,91,63,213,88,60,212,85,56,211,82,53,210,79,50,209,76,47,208,72,44,207,69,41,206,66,38,205,63,36,205,60,33,204,58,31,203,55,29,202,53,27,202,51,25,202,50,24,201,49,23,201,49,23,201,49,23,201,49,24,202,50,24,202,52,26,203,54,27,203,56,29,204,58,31,205,61,34,206,64,36,207,67,39,207,70,42,208,73,45,209,76,48,210,80,51,211,83,54,212,86,57,213,89,60,214,92,64,215,95,67,216,98,70,217,101,73,218,105,77,219,108,80,219,111,83,220,114,86,221,116,90,222,119,93,222,122,96,223,125,100,224,128,103,224,131,106,225,134,110,225,137,113,226,140,117,227,143,120,227,145,123,227,148,127,228,151,130,228,154,134,229,157,137,229,160,141,229,162,144,230,165,148,230,168,151,230,171,155,230,174,158,230,176,162,230,179,165,230,182,169,230,185,172,230,187,176,230,190,179,230,192,183,230,195,186,229,197,190,229,199,193,228,202,196,227,203,199,226,205,203,225,207,205,224,208,208,223,209,211,222,209,213,220,210,215,219,210,217,217,209,219,215,209,221,213,208,222,211,207,223,209,206,224,207,204,225,205,203,226,202,201,226,200,199,227,198,197,227,195,195,228,193,193,228,190,191,228,188,189,228,185,187,228,183,184,228,180,182,229,178,180,229,175,178,229,173,175,229,170,173,229,167,171,229,165,169,229,162,167,229,159,164,229,157,162,229,154,160,229,151,158,229,148,156,229,145,153,229,143,151,229,140,149,229,137,147,229,134,145,229,131,143,229,127,141,229,124,138,229,121,136,229,118,134,229,114,132,229,111,130,229,107,128,229,104,126,229,100,124,229,96,122,229,92,120,229,88,118,229,84,116,229,79,114,229,75,112,229,70,110,229,65,109,229,60,107,229,55,106,229,50,104,229,45,103,229,40,102,229,35,101,229,31,100,229,28,100,229,26,99,229,25,99,229,26,99,229,29,100,229,32,100,229,36,101,229,41,102,229,46,103,229,51,104,229,56,106,229,61,107,229,66,109,229,71,111,229,76,113,229,80,114,229,85,116,229,89,118,229,93,120,229,97,122,229,101,124,229,104,126,229,108,128,229,112,131,229,115,133,229,118,135,229,122,137,229,125,139,229,128,141,229,131,143,229,134,145,229,137,147,229,140,150,229,143,152,229,146,154,229,149,156,229,152,158,229,155,160,229,157,163,229,160,165,229,163,167,229,165,169,229,168,171,229,171,174,229,173,176,229,176,178,229,178,180,229,181,183,229,183,185,228,186,187,228,188,189,228,191,192,228,193,194,228,196,196,228,198,198,228,200,200,227,203,202,227,205,204,227,207,206,226,209,208,226,211,209,225,213,210,224,215,211,224,217,212,223,218,213,221,220,213,220,221,213,218] );\nexport const CET_C5_RGB8UI = new Uint8Array( [120,120,120,121,121,121,122,122,122,123,123,123,125,125,125,126,126,126,127,127,127,129,129,129,130,130,130,131,131,131,133,133,133,134,134,134,135,135,135,137,137,137,138,138,138,140,140,140,141,141,141,142,142,142,144,144,144,145,145,145,147,147,147,148,148,148,149,149,149,151,151,151,152,152,152,154,154,154,155,155,155,157,157,157,158,158,158,159,159,159,161,161,161,162,162,162,164,164,164,165,165,165,167,167,167,168,168,168,170,170,170,171,171,171,172,172,172,174,174,174,175,175,175,177,177,177,178,178,178,180,180,180,181,181,181,183,183,183,184,184,184,186,186,186,187,187,187,188,189,189,190,190,190,191,191,191,193,193,193,194,194,194,195,195,195,196,196,196,198,198,198,199,199,199,200,200,200,200,200,200,201,201,201,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,202,201,201,201,201,201,201,200,200,200,199,199,199,198,198,198,197,197,197,196,196,196,194,194,194,193,193,193,192,192,192,190,190,190,189,189,189,187,187,187,186,186,186,184,185,185,183,183,183,182,182,182,180,180,180,179,179,179,177,177,177,176,176,176,174,174,174,173,173,173,171,171,171,170,170,170,168,168,168,167,167,167,166,166,166,164,164,164,163,163,163,161,161,161,160,160,160,158,158,158,157,157,157,155,156,156,154,154,154,153,153,153,151,151,151,150,150,150,148,148,148,147,147,147,146,146,146,144,144,144,143,143,143,141,141,141,140,140,140,139,139,139,137,137,137,136,136,136,134,134,134,133,133,133,132,132,132,130,130,130,129,129,129,127,127,127,126,126,126,125,125,125,123,123,123,122,122,122,121,121,121,119,119,119,118,118,118,117,117,117,115,115,115,114,114,114,112,112,112,111,111,111,110,110,110,108,108,108,107,107,107,106,106,106,104,104,104,103,103,103,102,102,102,100,100,100,99,99,99,98,98,98,97,97,97,95,95,95,94,94,94,93,93,93,91,91,91,90,90,90,89,89,89,87,87,87,86,86,86,85,85,85,84,84,84,82,82,82,81,81,81,80,80,80,78,78,78,77,77,77,76,76,76,75,75,75,73,73,73,72,72,72,71,71,71,70,70,70,68,68,68,67,67,67,66,66,66,65,65,65,64,64,64,62,62,62,61,61,61,60,60,60,59,59,59,58,58,58,56,56,56,55,55,55,54,54,54,53,53,53,52,52,52,51,51,51,50,50,50,49,49,49,48,48,48,47,47,47,47,47,47,46,46,46,46,46,46,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,46,46,46,46,46,46,47,47,47,47,47,47,48,48,48,49,49,49,50,50,50,51,51,51,52,52,52,53,53,53,54,54,54,55,55,55,56,56,56,57,57,57,58,58,58,60,60,60,61,61,61,62,62,62,63,63,63,64,65,64,66,66,66,67,67,67,68,68,68,69,69,69,71,71,71,72,72,72,73,73,73,74,74,74,76,76,76,77,77,77,78,78,78,79,79,79,81,81,81,82,82,82,83,83,83,85,85,85,86,86,86,87,87,87,88,88,88,90,90,90,91,91,91,92,92,92,94,94,94,95,95,95,96,96,96,97,98,98,99,99,99,100,100,100,101,101,101,103,103,103,104,104,104,105,105,105,107,107,107,108,108,108,109,109,109,111,111,111,112,112,112,113,113,113,114,114,114,116,116,116,117,117,117,118,118,118] );\nexport const CET_C6_RGB8UI = new Uint8Array( [247,55,26,246,56,23,246,58,21,246,61,18,247,64,16,247,68,14,247,72,12,248,76,10,248,80,8,248,85,7,249,89,6,249,94,5,250,98,4,251,103,3,251,107,2,252,112,2,252,116,1,253,120,1,253,125,0,254,129,0,254,133,0,254,137,0,255,141,0,255,145,0,255,149,0,255,153,0,255,157,0,255,161,0,255,165,0,255,168,0,255,172,0,255,176,0,255,179,0,255,183,0,255,186,0,255,189,0,254,193,0,253,195,0,252,198,0,251,201,0,249,203,0,247,205,0,245,206,0,242,208,0,239,208,0,236,209,0,233,209,0,229,209,0,225,209,0,221,208,0,217,208,0,213,207,0,209,205,0,204,204,0,200,203,0,195,201,0,191,199,0,186,197,0,181,196,0,177,194,0,172,192,0,167,190,0,162,188,0,158,186,0,153,184,0,148,182,0,143,180,0,138,178,1,134,176,1,129,174,2,124,172,2,119,170,3,114,169,3,109,167,4,104,165,6,100,163,7,95,161,9,90,160,11,85,158,13,81,157,16,76,156,18,72,155,21,68,154,24,64,154,27,60,153,30,57,153,34,54,153,38,51,154,41,49,155,45,47,155,49,45,157,54,44,158,58,43,160,62,43,161,67,43,163,72,43,165,76,44,167,81,44,170,86,45,172,91,46,174,96,46,177,101,47,179,106,48,181,111,48,184,116,49,186,121,49,189,126,50,191,131,50,194,136,50,196,141,50,199,146,50,202,151,50,204,156,50,207,161,50,209,166,49,212,171,48,214,177,48,216,182,47,219,187,46,221,192,45,223,197,44,225,202,43,227,206,42,228,211,40,230,215,39,231,220,39,232,224,38,232,228,37,232,231,37,232,235,37,232,238,38,231,240,38,230,243,39,228,245,40,227,247,41,225,249,42,223,250,43,220,251,44,218,252,45,215,253,46,212,254,47,209,254,47,206,255,48,203,255,49,200,255,49,197,255,49,194,255,49,191,255,49,188,255,49,184,255,49,181,255,48,178,255,48,175,255,47,172,255,46,169,255,45,166,255,44,163,255,43,160,255,42,157,255,41,154,255,40,151,255,40,148,255,39,145,255,40,143,255,40,140,255,41,138,255,43,136,255,46,134,255,49,132,255,53,131,255,57,130,255,62,129,255,67,128,255,72,128,255,77,128,255,83,129,255,89,129,255,94,130,255,100,131,255,105,132,255,111,134,255,116,136,255,122,137,255,127,139,255,132,141,255,137,143,255,142,145,255,147,147,255,152,150,255,157,152,255,161,154,255,166,156,255,170,159,255,174,161,255,179,163,255,183,165,255,187,168,255,191,170,255,196,172,255,200,174,255,204,177,255,208,179,255,212,181,255,216,183,255,219,184,255,223,186,255,227,188,255,231,189,253,234,190,252,238,191,250,241,191,247,244,191,245,247,191,242,250,190,238,252,189,234,255,188,231,255,187,226,255,185,222,255,183,217,255,180,212,255,178,207,255,175,202,255,172,197,255,169,191,255,165,186,255,162,180,255,158,175,255,155,169,255,151,164,255,148,158,255,144,153,255,140,147,255,136,142,255,133,137,255,129,131,255,125,126,255,121,121,255,117,115,255,113,110,255,109,105,255,105,100,255,101,94,255,97,89,255,92,84,255,88,79,255,84,74,255,80,69,254,76,65,253,72,60,252,68,56,251,65,51,250,61,47,249,59,43,248,56,39,248,55,36,247,54,32,247,54,29] );\nexport const CET_C7_RGB8UI = new Uint8Array( [233,228,25,235,227,31,236,226,38,238,225,43,239,223,49,240,222,55,241,220,60,242,218,65,244,216,70,245,213,75,246,211,80,246,209,84,247,207,88,248,204,92,249,202,97,250,200,100,251,197,104,251,195,108,252,193,112,253,190,115,253,188,119,254,186,122,255,183,126,255,181,129,255,178,132,255,176,135,255,173,139,255,171,142,255,168,145,255,166,148,255,163,151,255,161,154,255,158,157,255,155,160,255,153,163,255,150,166,255,147,169,255,144,172,255,142,175,255,139,178,255,136,181,255,133,184,255,130,187,255,127,190,255,124,193,255,121,196,255,118,199,255,114,201,255,111,204,255,108,207,255,104,210,255,101,213,255,97,216,255,93,219,255,90,221,255,86,224,255,82,227,255,78,230,255,74,233,255,71,235,255,68,238,255,65,240,254,63,243,253,63,245,252,63,247,251,64,248,249,66,250,248,69,251,247,72,252,245,76,253,244,81,253,242,85,254,241,90,254,239,94,254,238,98,254,236,103,254,235,107,254,233,111,254,231,115,254,230,119,254,228,122,254,226,126,254,224,129,254,222,133,254,221,136,254,219,139,254,217,143,254,215,146,254,213,149,254,211,152,254,209,155,254,207,158,254,204,161,254,202,164,254,200,167,254,198,169,254,195,172,254,193,175,254,190,178,254,188,180,254,185,183,254,183,186,254,180,188,254,177,191,253,174,193,253,171,196,253,168,198,253,165,201,253,162,203,253,158,206,253,155,208,253,151,211,253,147,213,253,143,216,253,139,218,253,135,220,253,130,223,253,126,225,252,121,227,252,115,229,252,110,232,252,104,234,251,98,236,251,92,237,250,85,239,249,79,240,248,72,242,246,65,243,245,59,243,243,53,243,240,48,243,238,44,243,235,41,243,232,39,242,229,38,241,226,38,240,223,38,239,219,39,238,216,40,237,213,41,236,209,43,234,206,44,233,202,45,232,199,46,230,195,47,229,192,48,228,189,49,227,185,49,225,182,50,224,178,50,223,175,51,221,172,51,220,168,51,219,165,52,218,162,52,216,158,52,215,155,52,214,151,52,213,148,52,211,145,51,210,141,51,209,138,51,207,135,50,206,131,50,205,128,49,204,124,49,202,121,48,201,118,48,200,114,47,199,111,46,197,108,45,196,104,44,195,101,43,194,97,42,192,94,41,191,90,40,190,87,39,189,83,37,187,80,36,186,76,34,185,72,33,184,69,31,183,65,30,181,61,28,180,57,27,179,53,26,178,49,26,177,45,27,177,41,28,176,37,30,175,33,32,175,28,35,175,24,39,175,20,43,175,16,47,175,12,51,176,8,55,177,5,59,177,2,63,178,0,68,179,0,72,180,0,76,181,0,79,182,0,83,183,0,87,184,0,90,185,0,94,186,0,97,187,0,101,188,0,104,189,0,107,190,0,110,191,0,114,192,0,117,193,0,120,194,0,123,195,0,126,196,0,129,197,0,132,198,0,135,199,0,138,200,0,141,201,0,144,202,0,147,203,0,149,204,0,152,205,0,155,206,0,158,207,0,161,208,0,164,209,0,166,210,0,169,211,0,172,212,0,175,213,0,178,214,0,180,215,0,183,216,0,186,217,0,189,218,0,191,219,0,194,220,0,197,221,0,199,222,0,202,222,0,205,223,0,208,224,0,210,225,0,213,226,0,215,227,0,218,228,0,220,228,0,223,229,0,225,229,0,227,229,3,229,229,11,231,229,18] );\nexport const CET_C1 = /*@__PURE__*/newColorTableEntry( 'cet-C1', RGB8UI, GL.LINEAR, CET_C1_RGB8UI );\nexport const CET_C2 = /*@__PURE__*/newColorTableEntry( 'cet-C2', RGB8UI, GL.LINEAR, CET_C2_RGB8UI );\nexport const CET_C3 = /*@__PURE__*/newColorTableEntry( 'cet-C3', RGB8UI, GL.LINEAR, CET_C3_RGB8UI );\nexport const CET_C4 = /*@__PURE__*/newColorTableEntry( 'cet-C4', RGB8UI, GL.LINEAR, CET_C4_RGB8UI );\nexport const CET_C5 = /*@__PURE__*/newColorTableEntry( 'cet-C5', RGB8UI, GL.LINEAR, CET_C5_RGB8UI );\nexport const CET_C6 = /*@__PURE__*/newColorTableEntry( 'cet-C6', RGB8UI, GL.LINEAR, CET_C6_RGB8UI );\nexport const CET_C7 = /*@__PURE__*/newColorTableEntry( 'cet-C7', RGB8UI, GL.LINEAR, CET_C7_RGB8UI );\n\n// Color blind\nexport const CET_CBC1_RGB8UI = new Uint8Array( [62,135,234,65,136,235,68,138,237,71,139,237,75,140,238,79,142,239,83,143,239,87,145,240,90,147,240,94,148,240,98,150,240,102,151,240,105,153,240,109,154,241,112,156,241,116,158,241,119,159,241,122,161,241,125,162,241,128,164,241,131,166,241,134,167,241,137,169,241,140,171,242,143,172,242,146,174,242,149,176,242,151,177,242,154,179,242,157,181,242,159,182,242,162,184,242,165,186,242,167,187,242,170,189,242,172,191,243,175,193,243,178,194,243,180,196,243,183,198,243,185,199,243,187,201,243,190,203,243,192,205,243,195,206,243,197,208,243,200,210,243,202,211,243,204,213,243,207,215,243,209,217,243,211,218,243,214,220,243,216,222,243,218,224,243,221,225,243,223,227,243,225,228,242,227,230,242,229,231,241,230,232,240,232,233,239,233,234,237,234,234,235,235,234,233,236,234,231,236,233,228,236,232,225,236,231,222,235,230,219,235,229,216,234,227,213,233,226,209,232,224,206,231,222,202,230,221,199,229,219,195,227,217,192,226,216,188,225,214,185,224,212,182,223,210,178,222,208,175,220,207,171,219,205,168,218,203,164,217,202,161,215,200,158,214,198,154,213,196,151,211,195,147,210,193,144,209,191,141,207,190,137,206,188,134,205,186,131,203,184,127,202,183,124,201,181,120,199,179,117,198,178,114,197,176,110,195,174,107,194,173,104,192,171,100,191,169,97,189,168,93,188,166,90,186,164,87,185,163,83,183,161,80,182,159,76,180,158,73,179,156,69,177,155,66,176,153,62,174,151,59,173,150,55,171,148,51,169,146,48,168,145,44,166,143,40,165,142,36,163,140,33,161,139,29,160,137,26,158,135,23,156,134,20,154,132,18,153,131,16,151,129,15,149,128,15,147,126,15,145,124,15,144,123,16,142,121,16,140,120,17,138,118,19,136,117,20,134,115,21,133,114,22,131,112,23,129,111,24,127,109,24,125,108,25,124,106,26,122,105,27,120,103,28,118,101,28,116,100,29,115,99,29,113,97,30,111,96,31,109,94,31,107,93,32,106,91,32,104,90,33,102,88,33,100,87,33,99,85,34,97,84,34,95,82,35,93,81,35,92,79,35,90,78,36,88,77,36,86,75,36,84,74,36,83,72,37,81,71,37,79,70,37,78,68,37,76,67,38,74,65,38,72,64,38,71,63,38,69,61,38,67,60,39,65,59,39,64,57,39,62,56,39,60,55,39,58,53,39,57,52,40,55,51,40,54,50,40,52,49,41,51,48,42,50,47,43,49,47,44,48,46,45,47,46,46,47,46,48,46,47,50,46,47,52,46,48,54,46,49,56,47,50,59,47,51,61,48,52,64,48,53,67,49,54,69,50,55,72,50,57,75,51,58,78,52,60,81,52,61,83,53,62,86,53,64,89,54,65,92,55,66,95,55,68,98,56,69,101,56,71,104,57,72,107,57,73,110,57,75,113,58,76,116,58,78,119,58,79,122,59,81,125,59,82,128,59,84,131,60,85,134,60,86,137,60,88,140,60,89,143,60,91,147,60,92,150,60,94,153,60,95,156,60,97,159,60,98,163,60,100,166,60,101,169,60,103,172,60,104,175,60,106,179,60,107,182,59,109,185,59,111,188,59,112,192,58,114,195,58,115,198,57,117,202,57,118,205,56,120,208,56,121,211,56,123,215,55,124,218,55,126,221,55,127,223,56,129,226,57,130,228,58,132,230,60,133,232] );\nexport const CET_CBC2_RGB8UI = new Uint8Array( [238,237,236,238,237,234,238,236,232,238,235,229,238,234,226,237,233,223,237,232,220,236,230,217,235,229,213,234,227,210,233,225,206,232,223,202,231,222,199,230,220,195,229,218,191,228,216,188,226,214,184,225,213,180,224,211,177,223,209,173,222,207,169,220,206,166,219,204,162,218,202,158,217,200,155,215,199,151,214,197,148,213,195,144,212,193,140,210,192,137,209,190,133,208,188,130,206,186,126,205,185,123,203,183,119,202,181,115,201,180,112,199,178,108,198,176,105,196,174,101,195,173,97,193,171,94,192,169,90,190,168,86,189,166,83,187,164,79,186,163,75,184,161,72,183,159,68,181,158,64,180,156,60,178,154,56,176,153,52,175,151,48,173,150,44,172,148,39,170,147,35,169,145,30,167,144,25,166,142,20,165,141,15,164,141,10,163,140,6,163,139,3,163,139,2,163,139,2,163,139,4,164,140,7,164,141,12,165,142,17,166,143,22,168,144,27,169,145,31,171,147,36,172,148,40,174,150,45,175,152,49,177,153,53,178,155,57,180,156,61,182,158,65,183,160,69,185,161,73,186,163,76,188,165,80,189,166,84,191,168,87,192,170,91,194,171,95,195,173,98,197,175,102,198,177,106,200,178,109,201,180,113,202,182,116,204,183,120,205,185,124,207,187,127,208,189,131,209,190,134,211,192,138,212,194,141,213,195,145,214,197,149,216,199,152,217,201,156,218,203,159,220,204,163,221,206,167,222,208,170,223,210,174,224,211,178,226,213,181,227,215,185,228,217,189,229,218,192,230,220,196,231,222,200,232,224,203,233,225,207,234,227,211,235,229,214,236,230,218,236,231,221,236,232,224,236,233,227,236,234,230,236,234,233,235,234,235,234,234,237,233,234,239,231,233,240,230,232,242,228,231,243,226,229,243,224,228,244,221,226,244,219,225,245,217,223,245,214,221,245,212,219,245,210,218,245,207,216,246,205,214,246,202,212,246,200,211,246,197,209,246,195,207,246,192,205,246,190,204,246,187,202,246,184,200,247,182,198,247,179,197,247,177,195,247,174,193,247,171,191,247,168,190,247,166,188,247,163,186,247,160,185,247,157,183,247,154,181,247,151,179,247,148,178,248,145,176,248,142,174,248,139,173,248,136,171,248,133,169,248,130,168,248,126,166,248,123,164,248,120,163,248,116,161,248,112,159,248,109,158,248,105,156,248,101,155,248,97,153,248,93,151,248,88,150,248,84,148,248,79,147,248,75,146,248,70,144,248,66,143,248,62,142,248,59,141,248,56,141,248,55,140,248,54,140,248,55,140,248,57,141,248,59,141,248,63,142,248,67,143,248,71,145,248,76,146,248,80,147,248,85,149,248,89,150,248,94,152,248,98,153,248,102,155,248,106,157,248,110,158,248,113,160,248,117,161,248,120,163,248,124,165,248,127,166,248,130,168,248,134,170,248,137,171,248,140,173,248,143,175,248,146,176,248,149,178,248,152,180,247,155,181,247,158,183,247,161,185,247,163,187,247,166,188,247,169,190,247,172,192,247,174,193,247,177,195,247,180,197,247,182,199,247,185,200,247,188,202,246,190,204,246,193,206,246,195,207,246,198,209,246,200,211,246,203,213,246,205,215,246,208,216,246,210,218,245,213,220,245,215,222,245,217,223,245,220,225,245,222,227,245,224,229,244,227,230,244,229,232,244,231,233,243,232,234,243,234,235,242,235,236,241,237,237,240,237,237,238] );\nexport const CET_CBD1_RGB8UI = new Uint8Array( [58,144,254,62,145,254,65,146,254,68,146,254,70,147,254,73,148,254,76,148,254,78,149,254,80,150,254,83,151,253,85,151,253,87,152,253,89,153,253,91,153,253,94,154,253,96,155,253,97,155,253,99,156,253,101,157,253,103,158,253,105,158,253,107,159,253,109,160,252,110,160,252,112,161,252,114,162,252,115,163,252,117,163,252,119,164,252,120,165,252,122,165,252,124,166,252,125,167,252,127,168,251,128,168,251,130,169,251,131,170,251,133,171,251,134,171,251,136,172,251,137,173,251,139,173,251,140,174,251,141,175,251,143,176,250,144,176,250,146,177,250,147,178,250,148,179,250,150,179,250,151,180,250,152,181,250,154,182,250,155,182,250,156,183,250,158,184,249,159,185,249,160,185,249,161,186,249,163,187,249,164,187,249,165,188,249,166,189,249,168,190,249,169,190,249,170,191,248,171,192,248,173,193,248,174,194,248,175,194,248,176,195,248,177,196,248,179,197,248,180,197,248,181,198,247,182,199,247,183,200,247,185,200,247,186,201,247,187,202,247,188,203,247,189,203,247,190,204,247,192,205,246,193,206,246,194,206,246,195,207,246,196,208,246,197,209,246,198,210,246,199,210,246,201,211,246,202,212,245,203,213,245,204,213,245,205,214,245,206,215,245,207,216,245,208,217,245,209,217,245,211,218,244,212,219,244,213,220,244,214,220,244,215,221,244,216,222,244,217,223,244,218,224,244,219,224,243,220,225,243,221,226,243,222,227,243,223,228,243,224,228,243,226,229,243,227,230,242,228,231,242,229,231,242,230,232,242,231,233,242,232,234,241,233,234,241,234,235,241,234,236,240,235,236,240,236,236,239,236,237,238,237,237,237,237,237,236,238,237,235,238,236,234,238,236,232,238,236,231,238,235,229,237,234,228,237,234,226,237,233,224,236,232,223,236,231,221,236,231,219,235,230,218,235,229,216,234,228,214,234,228,213,233,227,211,233,226,209,233,225,208,232,224,206,232,224,204,231,223,202,231,222,201,230,221,199,230,220,197,229,220,196,229,219,194,228,218,192,228,217,191,227,216,189,227,216,187,226,215,186,226,214,184,226,213,182,225,213,181,225,212,179,224,211,177,224,210,176,223,209,174,223,209,172,222,208,171,222,207,169,221,206,167,220,206,166,220,205,164,219,204,162,219,203,161,218,203,159,218,202,157,217,201,156,217,200,154,216,199,152,216,199,151,215,198,149,215,197,148,214,196,146,214,196,144,213,195,143,212,194,141,212,193,139,211,193,138,211,192,136,210,191,134,210,190,133,209,190,131,208,189,129,208,188,128,207,187,126,207,187,125,206,186,123,206,185,121,205,184,120,204,184,118,204,183,116,203,182,115,203,181,113,202,181,111,201,180,110,201,179,108,200,178,106,199,178,105,199,177,103,198,176,102,198,175,100,197,175,98,196,174,97,196,173,95,195,172,93,194,172,92,194,171,90,193,170,88,193,169,87,192,169,85,191,168,83,191,167,81,190,166,80,189,166,78,189,165,76,188,164,75,187,164,73,187,163,71,186,162,69,185,161,68,185,161,66,184,160,64,183,159,62,183,159,60,182,158,59,181,157,57,180,156,55,180,156,53,179,155,51,178,154,49,178,153,47,177,153,45,176,152,43,176,151,41,175,151,39,174,150,36,173,149,34,173,149,32,172,148,29,171,147,26,171,146,23,170,146,20,169,145,17,168,144,13,168,144,8] );\nexport const CET_CBL1_RGB8UI = new Uint8Array( [17,17,17,17,18,19,18,19,21,18,19,23,19,20,25,19,21,27,19,22,29,20,22,31,20,23,32,20,24,34,20,24,36,20,25,38,20,26,40,20,26,42,20,27,44,20,28,46,20,29,47,20,29,49,19,30,51,19,31,53,19,31,55,19,32,57,18,33,58,18,34,60,18,34,62,17,35,64,17,36,66,17,37,68,16,37,69,16,38,71,15,39,73,14,40,75,14,40,77,13,41,78,12,42,80,12,43,82,11,43,84,10,44,85,9,45,87,8,46,89,7,46,90,6,47,92,6,48,94,5,49,95,4,49,97,3,50,99,2,51,100,2,52,102,1,53,103,0,53,105,0,54,107,0,55,108,0,56,110,0,56,111,0,57,113,0,58,114,0,59,115,0,60,117,0,60,118,0,61,119,0,62,121,0,63,122,0,64,123,0,64,125,1,65,126,3,66,127,4,67,128,5,68,129,7,68,130,9,69,131,11,70,132,13,71,133,15,72,134,17,72,135,19,73,136,21,74,137,24,75,138,26,76,138,28,76,139,30,77,140,32,78,140,34,79,141,36,80,141,38,80,142,40,81,142,42,82,142,45,83,142,47,84,143,49,84,143,51,85,143,53,86,143,55,87,143,58,88,142,60,89,142,62,89,142,64,90,141,67,91,141,69,92,140,71,93,139,73,94,139,75,94,138,77,95,137,79,96,137,81,97,136,83,98,135,85,99,135,87,100,134,89,100,133,90,101,133,92,102,132,94,103,131,95,104,131,97,105,130,99,106,129,100,106,128,102,107,128,104,108,127,105,109,126,107,110,126,108,111,125,110,112,124,111,113,123,113,113,123,114,114,122,116,115,121,117,116,121,119,117,120,120,118,119,122,119,118,123,120,118,124,121,117,126,121,116,127,122,115,129,123,115,130,124,114,131,125,113,133,126,112,134,127,111,136,128,111,137,129,110,138,129,109,140,130,108,141,131,107,142,132,107,144,133,106,145,134,105,146,135,104,148,136,103,149,137,103,150,138,102,152,138,101,153,139,100,154,140,99,156,141,98,157,142,97,158,143,96,160,144,96,161,145,95,162,146,94,164,147,93,165,148,92,166,148,91,167,149,91,169,150,90,170,151,90,171,152,89,172,153,89,173,154,89,175,155,89,176,156,89,177,157,89,178,158,89,179,159,89,180,159,89,181,160,90,182,161,90,183,162,90,184,163,91,185,164,91,186,165,92,187,166,93,188,167,94,189,168,94,191,169,95,192,170,96,193,171,97,193,172,98,194,173,99,195,174,100,196,175,101,197,176,103,198,176,104,199,177,105,200,178,106,201,179,108,202,180,109,203,181,110,204,182,112,205,183,113,206,184,115,207,185,117,207,186,118,208,187,120,209,188,121,210,189,123,211,190,125,212,191,127,213,192,128,213,193,130,214,194,132,215,195,134,216,196,136,217,197,138,217,198,140,218,199,141,219,200,143,220,201,145,221,202,148,221,203,150,222,204,152,223,205,154,223,206,156,224,207,158,225,208,160,226,209,162,226,210,165,227,211,167,228,212,169,228,213,171,229,214,174,229,215,176,230,216,178,231,217,181,231,218,183,232,219,186,232,220,188,233,221,191,233,222,193,234,223,195,234,224,198,235,225,201,235,226,203,236,227,206,236,228,208,237,229,211,237,230,213,238,231,216,238,232,219,238,233,221,239,234,224,239,235,227,239,236,230,240,237,232,240,238,235,240,240,238,241,241,241] );\nexport const CET_CBL2_RGB8UI = new Uint8Array( [17,17,17,17,18,19,18,19,21,19,19,23,19,20,24,20,21,26,20,22,28,20,23,29,21,23,31,21,24,33,21,25,34,22,25,36,22,26,38,22,27,39,22,27,41,22,28,43,22,29,45,22,30,46,23,30,48,23,31,50,23,32,52,23,33,54,23,33,55,23,34,57,23,35,59,22,36,61,22,36,63,22,37,64,22,38,66,22,39,68,22,39,70,21,40,72,21,41,74,21,42,75,20,43,77,20,43,79,20,44,81,19,45,83,19,46,84,19,46,86,18,47,88,18,48,90,18,49,91,17,50,93,17,50,95,17,51,96,16,52,98,16,53,99,16,54,101,16,54,103,16,55,104,16,56,106,16,57,107,15,58,109,15,59,110,15,59,112,15,60,113,15,61,115,15,62,116,15,63,118,15,63,119,15,64,121,15,65,122,15,66,124,15,67,126,15,68,127,15,68,129,15,69,130,15,70,132,15,71,133,15,72,135,15,73,136,15,73,138,15,74,139,15,75,141,15,76,142,15,77,144,15,78,146,15,79,147,15,79,149,14,80,150,14,81,152,14,82,153,14,83,155,14,84,157,14,85,158,14,86,160,14,86,161,13,87,163,13,88,165,13,89,166,13,90,168,13,91,169,13,92,171,12,92,173,12,93,174,12,94,176,12,95,178,11,96,179,11,97,181,11,98,182,10,99,184,10,100,186,10,100,187,9,101,189,9,102,191,9,103,192,8,104,194,8,105,196,7,106,197,7,107,199,7,108,201,6,109,202,6,109,204,5,110,206,5,111,207,4,112,209,4,113,211,3,114,212,3,115,214,2,116,216,2,117,217,1,118,219,1,119,221,0,120,222,0,120,224,0,121,226,1,122,227,1,123,229,2,124,230,3,125,232,5,126,233,7,127,235,11,128,236,14,129,237,18,130,238,22,131,239,26,132,240,31,132,241,35,133,242,40,134,242,45,135,242,49,136,242,54,137,242,59,138,242,64,139,241,69,140,240,74,141,239,79,141,238,84,142,236,89,143,234,93,144,232,98,145,230,103,146,228,107,147,226,111,148,223,115,149,220,119,150,217,123,151,214,127,152,212,131,153,208,134,154,205,137,155,202,141,155,199,144,156,196,147,157,193,150,158,189,152,159,186,155,160,183,158,161,180,160,162,177,163,163,174,165,164,170,168,165,167,170,166,164,172,167,161,175,168,158,177,169,155,179,170,152,181,171,149,183,172,146,185,173,143,187,174,140,189,175,137,191,176,134,193,177,131,195,178,128,197,179,125,199,180,122,201,181,119,202,182,116,204,183,113,206,184,109,208,184,106,209,185,103,211,186,100,213,187,96,214,188,93,216,189,90,218,190,86,219,191,82,221,192,79,222,193,75,224,194,72,225,195,68,227,196,64,228,197,60,229,198,57,231,199,53,232,200,49,233,201,46,235,202,42,236,203,39,237,204,37,239,205,35,240,206,34,241,207,34,242,208,35,243,209,37,244,210,39,245,211,43,246,212,47,247,214,52,248,215,57,249,216,62,250,217,68,251,218,74,251,219,80,252,220,86,253,221,93,253,222,99,254,223,106,254,224,112,255,225,119,255,226,126,255,227,132,255,228,139,255,229,146,255,230,152,255,231,159,255,232,165,255,233,171,255,235,177,255,236,183,254,237,189,254,238,195,254,239,201,253,240,206,253,241,211,253,242,216,253,243,221,252,245,226,252,246,231,252,247,235,252,248,239,252,249,243] );\nexport const CET_CBC1 = /*@__PURE__*/newColorTableEntry( 'cet-CBC1', RGB8UI, GL.LINEAR, CET_CBC1_RGB8UI );\nexport const CET_CBC2 = /*@__PURE__*/newColorTableEntry( 'cet-CBC2', RGB8UI, GL.LINEAR, CET_CBC2_RGB8UI );\nexport const CET_CBD1 = /*@__PURE__*/newColorTableEntry( 'cet-CBD1', RGB8UI, GL.LINEAR, CET_CBD1_RGB8UI );\nexport const CET_CBL1 = /*@__PURE__*/newColorTableEntry( 'cet-CBL1', RGB8UI, GL.LINEAR, CET_CBL1_RGB8UI );\nexport const CET_CBL2 = /*@__PURE__*/newColorTableEntry( 'cet-CBL2', RGB8UI, GL.LINEAR, CET_CBL2_RGB8UI );\n\n// Rainbow\nexport const CET_R1_RGB8UI = new Uint8Array( [0,48,245,0,52,242,0,55,238,0,59,235,3,62,231,9,66,228,14,69,225,18,72,221,20,74,218,22,77,214,23,80,211,24,82,207,25,85,204,25,87,200,25,90,197,25,92,193,25,94,190,25,96,187,24,99,183,24,101,180,24,103,177,23,105,173,23,106,170,24,108,167,24,110,164,25,112,160,27,113,157,28,115,154,30,117,151,32,118,148,34,120,145,36,121,142,39,122,139,41,124,136,43,125,133,45,126,130,47,128,127,49,129,124,51,130,121,53,132,118,54,133,115,56,134,112,57,136,109,58,137,106,59,138,103,60,139,99,61,141,96,62,142,93,62,143,90,63,145,87,63,146,83,64,147,80,64,149,77,64,150,74,65,151,70,65,153,67,65,154,63,65,155,60,66,156,56,66,158,53,67,159,50,68,160,46,69,161,43,70,162,40,71,163,37,73,164,34,75,165,31,77,166,28,79,167,26,82,168,24,84,169,22,87,170,20,90,171,19,93,172,18,96,173,17,99,173,17,102,174,16,105,175,16,108,176,16,111,176,16,114,177,17,117,178,17,121,179,17,124,179,18,127,180,18,130,181,19,132,182,19,135,182,20,138,183,20,141,184,20,144,184,21,147,185,21,150,186,22,153,186,22,155,187,23,158,188,23,161,188,24,164,189,24,166,190,25,169,190,25,172,191,25,175,192,26,177,192,26,180,193,27,183,194,27,186,194,28,188,195,28,191,195,29,194,196,29,196,197,30,199,197,30,202,198,30,204,199,31,207,199,31,210,200,32,212,200,32,215,201,33,217,201,33,220,202,34,223,202,34,225,202,34,227,203,35,230,203,35,232,203,35,234,203,36,236,203,36,238,203,36,240,203,36,241,202,36,243,202,36,244,201,36,245,200,36,246,200,36,247,199,36,248,197,36,248,196,36,249,195,36,249,194,35,249,192,35,250,191,35,250,190,35,250,188,34,250,187,34,250,185,34,250,184,33,250,182,33,250,180,33,250,179,32,249,177,32,249,176,32,249,174,31,249,173,31,249,171,31,249,169,30,249,168,30,249,166,30,248,165,29,248,163,29,248,161,29,248,160,29,248,158,28,248,157,28,248,155,28,247,153,27,247,152,27,247,150,27,247,148,26,247,147,26,246,145,26,246,143,26,246,142,25,246,140,25,246,138,25,245,137,24,245,135,24,245,133,24,245,132,24,244,130,23,244,128,23,244,127,23,244,125,23,244,123,22,243,121,22,243,119,22,243,118,22,243,116,21,242,114,21,242,112,21,242,110,21,241,109,21,241,107,21,241,105,21,241,103,21,240,101,21,240,100,22,240,98,22,240,96,23,240,95,24,240,93,26,240,92,27,240,90,29,240,89,31,240,88,33,240,87,36,240,87,38,241,86,41,241,86,44,242,86,47,242,86,51,243,86,54,243,87,58,244,88,62,245,88,65,245,89,69,246,90,73,247,91,77,247,92,82,248,94,86,249,95,90,249,96,94,250,97,98,251,99,102,251,100,106,252,101,111,252,103,115,253,104,119,253,105,123,254,107,128,254,108,132,255,109,136,255,111,140,255,112,145,255,114,149,255,115,153,255,116,157,255,118,162,255,119,166,255,120,170,255,122,175,255,123,179,255,125,183,255,126,188,255,127,192,255,129,196,255,130,201,255,132,205,255,133,210,255,134,214,255,136,219,255,137,223,255,139,227,255,140,232,255,141,236,254,143,241,254,144,245,253,146,250] );\nexport const CET_R2_RGB8UI = new Uint8Array( [0,52,245,0,55,243,0,58,240,0,60,237,0,63,234,0,65,231,0,68,229,0,70,226,0,72,223,0,74,220,0,77,217,0,79,214,0,81,212,0,83,209,0,85,206,0,87,203,0,89,201,0,90,198,0,92,195,0,94,192,0,96,189,0,98,187,0,99,184,0,101,181,0,103,178,0,104,176,0,106,173,0,108,170,0,109,167,0,111,165,0,112,162,0,113,160,0,115,157,0,116,154,0,117,152,1,118,149,8,119,147,14,120,145,20,122,142,24,123,140,28,124,137,32,125,135,35,126,133,38,127,130,41,128,128,43,129,126,45,130,123,47,131,121,49,132,118,51,133,116,52,134,114,53,135,111,55,136,109,56,137,106,57,138,104,58,139,101,59,140,99,59,141,96,60,142,94,61,143,91,61,144,88,62,145,86,62,146,83,62,147,80,63,148,78,63,149,75,63,150,72,63,152,69,63,153,66,63,154,63,63,155,60,63,156,57,63,157,53,63,158,50,63,159,47,63,160,43,63,161,40,64,162,36,64,163,33,65,164,30,66,165,27,68,166,24,70,166,22,72,167,20,74,168,18,77,169,16,79,169,16,82,170,15,85,171,15,87,171,15,90,172,15,93,172,15,96,173,16,98,174,16,101,174,17,104,175,17,106,175,18,109,176,18,111,177,18,114,177,19,116,178,19,119,178,20,121,179,20,124,180,21,126,180,21,129,181,22,131,181,22,133,182,23,136,182,23,138,183,24,140,183,24,143,184,25,145,185,25,147,185,26,150,186,26,152,186,26,154,187,27,156,187,27,159,188,28,161,188,28,163,189,29,165,190,29,168,190,30,170,191,30,172,191,31,174,192,31,176,192,31,179,193,32,181,193,32,183,194,33,185,194,33,187,195,34,190,195,34,192,196,35,194,196,35,196,197,35,198,197,36,200,198,36,203,198,37,205,199,37,207,199,38,209,200,38,211,200,39,213,201,39,215,201,39,218,202,40,220,202,40,222,203,41,224,203,41,226,203,42,228,204,42,230,204,43,232,205,43,234,205,43,236,205,44,238,205,44,240,205,44,242,205,44,244,205,44,245,205,44,246,204,44,248,204,44,249,203,44,249,202,44,250,201,43,251,200,43,251,199,42,252,197,42,252,196,41,252,195,41,252,194,40,253,192,40,253,191,39,253,190,39,253,188,38,253,187,38,253,186,37,254,184,37,254,183,36,254,181,35,254,180,35,254,179,34,254,177,34,254,176,33,254,175,33,255,173,32,255,172,31,255,170,31,255,169,30,255,168,30,255,166,29,255,165,29,255,163,28,255,162,28,255,161,27,255,159,26,255,158,26,255,156,25,255,155,25,255,153,24,255,152,24,255,150,23,255,149,22,255,147,22,255,146,21,255,145,21,255,143,20,255,142,20,255,140,19,255,139,18,255,137,18,255,136,17,255,134,17,255,132,16,255,131,16,255,129,15,255,128,14,255,126,14,255,125,13,255,123,13,255,121,12,255,120,11,255,118,11,255,116,10,255,115,10,255,113,9,255,111,8,255,110,8,255,108,7,255,106,7,255,105,6,255,103,6,255,101,5,255,99,5,255,97,4,255,95,4,255,94,3,255,92,3,255,90,3,255,88,2,254,86,2,254,84,2,254,82,1,254,79,1,254,77,1,254,75,0,254,73,0,254,70,0,254,68,0,253,65,0,253,63,0,253,60,0,253,57,0,253,54,0,253,51,0,253,48,0] );\nexport const CET_R3_RGB8UI = new Uint8Array( [8,92,248,15,95,244,19,97,241,23,99,237,25,101,233,27,103,229,28,106,225,29,108,222,29,110,218,30,112,214,29,114,210,29,116,206,28,117,203,27,119,199,25,121,195,24,123,191,22,125,187,20,126,184,19,128,180,18,130,176,18,131,172,19,133,168,20,134,164,23,136,160,26,137,156,29,138,152,32,140,147,35,141,143,39,142,139,42,143,134,45,144,130,47,146,126,49,147,121,52,148,117,53,149,112,55,150,108,56,151,103,57,152,98,58,154,94,59,155,89,59,156,84,59,157,80,60,158,75,60,159,70,60,160,66,61,161,61,61,162,57,62,163,53,63,164,49,65,165,46,66,166,43,68,167,40,71,168,38,73,168,36,76,169,34,78,170,33,81,170,32,84,171,32,87,172,31,90,172,31,92,173,30,95,174,30,98,174,30,101,175,30,103,175,29,106,176,29,108,177,29,111,177,29,114,178,29,116,178,29,119,179,28,121,180,28,123,180,28,126,181,28,128,181,27,131,182,27,133,182,27,135,183,27,138,184,27,140,184,26,142,185,26,145,185,26,147,186,26,149,186,25,151,187,25,154,187,25,156,188,25,158,189,24,160,189,24,163,190,24,165,190,24,167,191,23,169,191,23,171,192,23,174,192,22,176,193,22,178,193,22,180,194,21,182,194,21,184,195,21,187,195,20,189,196,20,191,197,20,193,197,19,195,198,19,197,198,19,199,199,18,202,199,18,204,200,18,206,200,17,208,201,17,210,201,16,212,202,16,214,202,15,216,203,15,219,203,14,221,203,14,223,204,14,225,204,14,227,205,14,229,205,14,231,205,15,233,206,16,235,206,18,237,206,20,239,205,22,241,205,25,243,205,28,244,204,31,246,203,35,247,202,38,248,201,41,249,200,45,249,199,48,250,198,51,250,197,54,251,195,57,251,194,60,252,192,63,252,191,65,252,190,68,252,188,70,252,187,72,253,185,75,253,184,77,253,182,79,253,181,81,253,179,83,253,178,85,254,176,87,254,175,89,254,173,91,254,172,93,254,170,95,254,169,97,254,167,99,254,166,101,254,164,102,254,163,104,254,161,106,254,160,108,255,158,109,255,157,111,255,155,113,255,154,114,255,152,116,255,151,117,255,149,119,255,147,121,255,146,122,255,144,124,255,143,125,255,141,127,254,139,128,254,138,130,254,136,132,254,134,133,254,133,135,254,131,136,254,129,138,254,128,139,254,126,140,254,124,142,254,122,143,253,121,145,253,119,146,253,117,148,253,115,149,253,113,151,253,112,152,253,110,153,252,108,155,252,106,156,252,104,158,252,102,159,252,100,160,251,98,162,251,96,163,251,94,164,251,92,165,250,90,166,250,88,167,250,86,168,250,84,168,249,82,168,249,80,168,249,78,167,248,76,166,248,74,165,248,73,163,247,71,161,247,70,158,247,68,156,246,67,153,246,66,150,246,64,146,245,63,143,245,62,140,244,61,136,244,60,133,243,58,130,243,57,126,242,56,123,241,55,120,241,54,116,240,52,113,240,51,109,239,50,106,238,49,103,238,47,99,237,46,96,236,45,93,235,44,89,235,42,86,234,41,83,233,40,79,232,38,76,232,37,73,231,36,69,230,34,66,229,33,63,228,32,59,227,30,56,226,29,53,226,27,49,225,26,46,224,24,42,223,22,38,222,20,35,221,19,31,220,17,27,219,15,23,218,12,18,217,10,12,216,7,6,215,5,0] );\nexport const CET_R4_RGB8UI = new Uint8Array( [4,0,108,4,0,111,4,0,114,4,0,117,4,0,120,4,0,123,4,0,126,4,0,129,4,0,132,5,0,135,5,0,138,5,0,141,5,0,145,5,0,148,5,0,151,5,1,154,5,1,156,5,1,159,5,2,162,6,2,165,6,3,167,6,4,170,6,6,172,7,7,175,7,9,177,8,11,179,8,13,181,9,15,183,9,17,185,10,19,187,10,21,189,11,23,191,11,24,193,12,26,195,12,28,197,12,29,199,13,31,201,13,32,203,14,34,205,14,36,207,14,37,209,15,39,210,15,40,212,15,42,214,16,43,216,16,44,218,16,46,220,16,47,222,17,49,224,17,50,226,17,52,228,17,53,230,18,55,232,18,56,233,18,58,235,19,59,237,20,61,238,20,63,239,21,65,240,23,67,240,24,69,240,25,71,239,27,74,238,28,77,237,29,80,235,30,83,232,31,86,229,31,89,226,32,92,222,31,95,218,31,98,214,29,101,210,28,104,206,26,106,202,23,109,197,20,112,193,17,115,188,13,117,184,9,120,179,7,122,174,5,125,170,6,127,165,8,129,160,12,131,155,16,133,150,21,135,144,25,137,139,29,139,133,33,141,128,36,142,122,39,144,116,42,146,110,43,148,104,45,149,98,46,151,92,47,153,86,48,155,80,48,156,74,48,158,68,49,160,62,49,161,56,50,163,50,51,164,44,53,166,39,55,167,34,57,169,29,60,170,25,63,171,21,67,173,17,70,174,14,74,175,12,78,176,10,82,177,8,86,178,8,90,179,7,93,180,6,97,181,6,101,182,6,104,183,6,108,184,6,111,186,5,115,187,5,118,188,5,122,189,5,125,190,5,128,191,5,131,192,5,135,193,5,138,194,4,141,195,4,144,196,4,147,197,4,150,198,4,154,199,4,157,200,4,160,201,4,163,202,4,166,203,3,169,204,3,172,205,3,175,206,3,178,207,3,181,208,3,184,209,3,187,210,3,190,211,2,193,212,2,196,213,2,199,214,2,202,215,2,205,216,2,208,217,2,211,217,2,214,218,2,217,219,2,220,220,2,223,221,2,225,222,2,228,222,2,231,223,2,234,223,2,236,223,2,238,223,2,240,222,3,242,222,3,244,221,4,245,220,5,247,218,5,248,217,6,248,215,7,249,214,7,250,212,8,250,210,9,250,208,10,250,206,11,251,204,11,251,202,12,251,200,13,251,198,13,251,196,14,251,194,14,251,192,15,251,190,15,251,188,16,252,186,16,252,184,17,252,182,17,252,180,18,252,178,18,252,176,19,252,174,19,252,172,19,252,169,20,252,167,20,252,165,20,252,163,21,252,161,21,252,159,21,252,157,21,252,154,21,252,152,22,252,150,22,252,148,22,252,145,22,252,143,21,252,141,21,252,138,21,252,136,21,252,134,20,252,131,20,253,128,20,253,126,19,253,123,19,253,121,19,253,118,18,254,115,18,254,112,17,254,110,17,254,107,17,254,104,16,254,101,16,254,98,16,254,95,15,254,91,15,254,88,15,254,85,14,254,81,14,254,78,14,254,74,14,254,71,14,254,67,13,253,63,13,253,60,13,252,56,13,251,53,13,250,50,13,249,47,13,248,44,13,246,41,13,245,39,13,243,36,13,241,34,13,240,32,13,238,31,13,236,29,13,234,27,13,232,25,13,230,23,13,228,22,13,226,20,13,224,18,13,222,16,13,220,13,13,219,11,13,217,8,13,215,5,13] );\nexport const CET_R1 = /*@__PURE__*/newColorTableEntry( 'cet-R1', RGB8UI, GL.LINEAR, CET_R1_RGB8UI );\nexport const CET_R2 = /*@__PURE__*/newColorTableEntry( 'cet-R2', RGB8UI, GL.LINEAR, CET_R2_RGB8UI );\nexport const CET_R3 = /*@__PURE__*/newColorTableEntry( 'cet-R3', RGB8UI, GL.LINEAR, CET_R3_RGB8UI );\nexport const CET_R4 = /*@__PURE__*/newColorTableEntry( 'cet-R4', RGB8UI, GL.LINEAR, CET_R4_RGB8UI );\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { newColorTableEntry, RGB8UI } from './colorTable';\nimport { GL } from './misc';\n\n// New matplotlib colormaps by Nathaniel J. Smith, Stefan van der Walt, and (in\n// the case of viridis) Eric Firing.\n//\n// These colormaps are distributed under the CC0 license (i.e. public domain\n// dedication: https://creativecommons.org/publicdomain/zero/1.0/legalcode).\n// The persons who associated CC0 with mpl-colormaps have waived all copyright\n// and related or neighboring rights to mpl-colormaps, to the extent possible\n// under law.\n//\n// The authors would appreciate credit if you use or redistribute these colormaps,\n// but do not impose any legal restrictions.\n\nexport const MAGMA_RGB8UI = new Uint8Array( [0,0,4,1,0,5,1,1,6,1,1,8,2,1,9,2,2,11,2,2,13,3,3,15,3,3,18,4,4,20,5,4,22,6,5,24,6,5,26,7,6,28,8,7,30,9,7,32,10,8,34,11,9,36,12,9,38,13,10,41,14,11,43,16,11,45,17,12,47,18,13,49,19,13,52,20,14,54,21,14,56,22,15,59,24,15,61,25,16,63,26,16,66,28,16,68,29,17,71,30,17,73,32,17,75,33,17,78,34,17,80,36,18,83,37,18,85,39,18,88,41,17,90,42,17,92,44,17,95,45,17,97,47,17,99,49,17,101,51,16,103,52,16,105,54,16,107,56,16,108,57,15,110,59,15,112,61,15,113,63,15,114,64,15,116,66,15,117,68,15,118,69,16,119,71,16,120,73,16,120,74,16,121,76,17,122,78,17,123,79,18,123,81,18,124,82,19,124,84,19,125,86,20,125,87,21,126,89,21,126,90,22,126,92,22,127,93,23,127,95,24,127,96,24,128,98,25,128,100,26,128,101,26,128,103,27,128,104,28,129,106,28,129,107,29,129,109,29,129,110,30,129,112,31,129,114,31,129,115,32,129,117,33,129,118,33,129,120,34,129,121,34,130,123,35,130,124,35,130,126,36,130,128,37,130,129,37,129,131,38,129,132,38,129,134,39,129,136,39,129,137,40,129,139,41,129,140,41,129,142,42,129,144,42,129,145,43,129,147,43,128,148,44,128,150,44,128,152,45,128,153,45,128,155,46,127,156,46,127,158,47,127,160,47,127,161,48,126,163,48,126,165,49,126,166,49,125,168,50,125,170,51,125,171,51,124,173,52,124,174,52,123,176,53,123,178,53,123,179,54,122,181,54,122,183,55,121,184,55,121,186,56,120,188,57,120,189,57,119,191,58,119,192,58,118,194,59,117,196,60,117,197,60,116,199,61,115,200,62,115,202,62,114,204,63,113,205,64,113,207,64,112,208,65,111,210,66,111,211,67,110,213,68,109,214,69,108,216,69,108,217,70,107,219,71,106,220,72,105,222,73,104,223,74,104,224,76,103,226,77,102,227,78,101,228,79,100,229,80,100,231,82,99,232,83,98,233,84,98,234,86,97,235,87,96,236,88,96,237,90,95,238,91,94,239,93,94,240,95,94,241,96,93,242,98,93,242,100,92,243,101,92,244,103,92,244,105,92,245,107,92,246,108,92,246,110,92,247,112,92,247,114,92,248,116,92,248,118,92,249,120,93,249,121,93,249,123,93,250,125,94,250,127,94,250,129,95,251,131,95,251,133,96,251,135,97,252,137,97,252,138,98,252,140,99,252,142,100,252,144,101,253,146,102,253,148,103,253,150,104,253,152,105,253,154,106,253,155,107,254,157,108,254,159,109,254,161,110,254,163,111,254,165,113,254,167,114,254,169,115,254,170,116,254,172,118,254,174,119,254,176,120,254,178,122,254,180,123,254,182,124,254,183,126,254,185,127,254,187,129,254,189,130,254,191,132,254,193,133,254,194,135,254,196,136,254,198,138,254,200,140,254,202,141,254,204,143,254,205,144,254,207,146,254,209,148,254,211,149,254,213,151,254,215,153,254,216,154,253,218,156,253,220,158,253,222,160,253,224,161,253,226,163,253,227,165,253,229,167,253,231,169,253,233,170,253,235,172,252,236,174,252,238,176,252,240,178,252,242,180,252,244,182,252,246,184,252,247,185,252,249,187,252,251,189,252,253,191] );\nexport const PLASMA_RGB8UI = new Uint8Array( [13,8,135,16,7,136,19,7,137,22,7,138,25,6,140,27,6,141,29,6,142,32,6,143,34,6,144,36,6,145,38,5,145,40,5,146,42,5,147,44,5,148,46,5,149,47,5,150,49,5,151,51,5,151,53,4,152,55,4,153,56,4,154,58,4,154,60,4,155,62,4,156,63,4,156,65,4,157,67,3,158,68,3,158,70,3,159,72,3,159,73,3,160,75,3,161,76,2,161,78,2,162,80,2,162,81,2,163,83,2,163,85,2,164,86,1,164,88,1,164,89,1,165,91,1,165,92,1,166,94,1,166,96,1,166,97,0,167,99,0,167,100,0,167,102,0,167,103,0,168,105,0,168,106,0,168,108,0,168,110,0,168,111,0,168,113,0,168,114,1,168,116,1,168,117,1,168,119,1,168,120,1,168,122,2,168,123,2,168,125,3,168,126,3,168,128,4,168,129,4,167,131,5,167,132,5,167,134,6,166,135,7,166,136,8,166,138,9,165,139,10,165,141,11,165,142,12,164,143,13,164,145,14,163,146,15,163,148,16,162,149,17,161,150,19,161,152,20,160,153,21,159,154,22,159,156,23,158,157,24,157,158,25,157,160,26,156,161,27,155,162,29,154,163,30,154,165,31,153,166,32,152,167,33,151,168,34,150,170,35,149,171,36,148,172,38,148,173,39,147,174,40,146,176,41,145,177,42,144,178,43,143,179,44,142,180,46,141,181,47,140,182,48,139,183,49,138,184,50,137,186,51,136,187,52,136,188,53,135,189,55,134,190,56,133,191,57,132,192,58,131,193,59,130,194,60,129,195,61,128,196,62,127,197,64,126,198,65,125,199,66,124,200,67,123,201,68,122,202,69,122,203,70,121,204,71,120,204,73,119,205,74,118,206,75,117,207,76,116,208,77,115,209,78,114,210,79,113,211,81,113,212,82,112,213,83,111,213,84,110,214,85,109,215,86,108,216,87,107,217,88,106,218,90,106,218,91,105,219,92,104,220,93,103,221,94,102,222,95,101,222,97,100,223,98,99,224,99,99,225,100,98,226,101,97,226,102,96,227,104,95,228,105,94,229,106,93,229,107,93,230,108,92,231,110,91,231,111,90,232,112,89,233,113,88,233,114,87,234,116,87,235,117,86,235,118,85,236,119,84,237,121,83,237,122,82,238,123,81,239,124,81,239,126,80,240,127,79,240,128,78,241,129,77,241,131,76,242,132,75,243,133,75,243,135,74,244,136,73,244,137,72,245,139,71,245,140,70,246,141,69,246,143,68,247,144,68,247,145,67,247,147,66,248,148,65,248,149,64,249,151,63,249,152,62,249,154,62,250,155,61,250,156,60,250,158,59,251,159,58,251,161,57,251,162,56,252,163,56,252,165,55,252,166,54,252,168,53,252,169,52,253,171,51,253,172,51,253,174,50,253,175,49,253,177,48,253,178,47,253,180,47,253,181,46,254,183,45,254,184,44,254,186,44,254,187,43,254,189,42,254,190,42,254,192,41,253,194,41,253,195,40,253,197,39,253,198,39,253,200,39,253,202,38,253,203,38,252,205,37,252,206,37,252,208,37,252,210,37,251,211,36,251,213,36,251,215,36,250,216,36,250,218,36,249,220,36,249,221,37,248,223,37,248,225,37,247,226,37,247,228,37,246,230,38,246,232,38,245,233,38,245,235,39,244,237,39,243,238,39,243,240,39,242,242,39,241,244,38,241,245,37,240,247,36,240,249,33] );\nexport const INFERNO_RGB8UI = new Uint8Array( [0,0,4,1,0,5,1,1,6,1,1,8,2,1,10,2,2,12,2,2,14,3,2,16,4,3,18,4,3,20,5,4,23,6,4,25,7,5,27,8,5,29,9,6,31,10,7,34,11,7,36,12,8,38,13,8,41,14,9,43,16,9,45,17,10,48,18,10,50,20,11,52,21,11,55,22,11,57,24,12,60,25,12,62,27,12,65,28,12,67,30,12,69,31,12,72,33,12,74,35,12,76,36,12,79,38,12,81,40,11,83,41,11,85,43,11,87,45,11,89,47,10,91,49,10,92,50,10,94,52,10,95,54,9,97,56,9,98,57,9,99,59,9,100,61,9,101,62,9,102,64,10,103,66,10,104,68,10,104,69,10,105,71,11,106,73,11,106,74,12,107,76,12,107,77,13,108,79,13,108,81,14,108,82,14,109,84,15,109,85,15,109,87,16,110,89,16,110,90,17,110,92,18,110,93,18,110,95,19,110,97,19,110,98,20,110,100,21,110,101,21,110,103,22,110,105,22,110,106,23,110,108,24,110,109,24,110,111,25,110,113,25,110,114,26,110,116,26,110,117,27,110,119,28,109,120,28,109,122,29,109,124,29,109,125,30,109,127,30,108,128,31,108,130,32,108,132,32,107,133,33,107,135,33,107,136,34,106,138,34,106,140,35,105,141,35,105,143,36,105,144,37,104,146,37,104,147,38,103,149,38,103,151,39,102,152,39,102,154,40,101,155,41,100,157,41,100,159,42,99,160,42,99,162,43,98,163,44,97,165,44,96,166,45,96,168,46,95,169,46,94,171,47,94,173,48,93,174,48,92,176,49,91,177,50,90,179,50,90,180,51,89,182,52,88,183,53,87,185,53,86,186,54,85,188,55,84,189,56,83,191,57,82,192,58,81,193,58,80,195,59,79,196,60,78,198,61,77,199,62,76,200,63,75,202,64,74,203,65,73,204,66,72,206,67,71,207,68,70,208,69,69,210,70,68,211,71,67,212,72,66,213,74,65,215,75,63,216,76,62,217,77,61,218,78,60,219,80,59,221,81,58,222,82,56,223,83,55,224,85,54,225,86,53,226,87,52,227,89,51,228,90,49,229,92,48,230,93,47,231,94,46,232,96,45,233,97,43,234,99,42,235,100,41,235,102,40,236,103,38,237,105,37,238,106,36,239,108,35,239,110,33,240,111,32,241,113,31,241,115,29,242,116,28,243,118,27,243,120,25,244,121,24,245,123,23,245,125,21,246,126,20,246,128,19,247,130,18,247,132,16,248,133,15,248,135,14,248,137,12,249,139,11,249,140,10,249,142,9,250,144,8,250,146,7,250,148,7,251,150,6,251,151,6,251,153,6,251,155,6,251,157,7,252,159,7,252,161,8,252,163,9,252,165,10,252,166,12,252,168,13,252,170,15,252,172,17,252,174,18,252,176,20,252,178,22,252,180,24,251,182,26,251,184,29,251,186,31,251,188,33,251,190,35,250,192,38,250,194,40,250,196,42,250,198,45,249,199,47,249,201,50,249,203,53,248,205,55,248,207,58,247,209,61,247,211,64,246,213,67,246,215,70,245,217,73,245,219,76,244,221,79,244,223,83,244,225,86,243,227,90,243,229,93,242,230,97,242,232,101,242,234,105,241,236,109,241,237,113,241,239,117,241,241,121,242,242,125,242,244,130,243,245,134,243,246,138,244,248,142,245,249,146,246,250,150,248,251,154,249,252,157,250,253,161,252,255,164] );\nexport const VIRIDIS_RGB8UI = new Uint8Array( [68,1,84,68,2,86,69,4,87,69,5,89,70,7,90,70,8,92,70,10,93,70,11,94,71,13,96,71,14,97,71,16,99,71,17,100,71,19,101,72,20,103,72,22,104,72,23,105,72,24,106,72,26,108,72,27,109,72,28,110,72,29,111,72,31,112,72,32,113,72,33,115,72,35,116,72,36,117,72,37,118,72,38,119,72,40,120,72,41,121,71,42,122,71,44,122,71,45,123,71,46,124,71,47,125,70,48,126,70,50,126,70,51,127,70,52,128,69,53,129,69,55,129,69,56,130,68,57,131,68,58,131,68,59,132,67,61,132,67,62,133,66,63,133,66,64,134,66,65,134,65,66,135,65,68,135,64,69,136,64,70,136,63,71,136,63,72,137,62,73,137,62,74,137,62,76,138,61,77,138,61,78,138,60,79,138,60,80,139,59,81,139,59,82,139,58,83,139,58,84,140,57,85,140,57,86,140,56,88,140,56,89,140,55,90,140,55,91,141,54,92,141,54,93,141,53,94,141,53,95,141,52,96,141,52,97,141,51,98,141,51,99,141,50,100,142,50,101,142,49,102,142,49,103,142,49,104,142,48,105,142,48,106,142,47,107,142,47,108,142,46,109,142,46,110,142,46,111,142,45,112,142,45,113,142,44,113,142,44,114,142,44,115,142,43,116,142,43,117,142,42,118,142,42,119,142,42,120,142,41,121,142,41,122,142,41,123,142,40,124,142,40,125,142,39,126,142,39,127,142,39,128,142,38,129,142,38,130,142,38,130,142,37,131,142,37,132,142,37,133,142,36,134,142,36,135,142,35,136,142,35,137,142,35,138,141,34,139,141,34,140,141,34,141,141,33,142,141,33,143,141,33,144,141,33,145,140,32,146,140,32,146,140,32,147,140,31,148,140,31,149,139,31,150,139,31,151,139,31,152,139,31,153,138,31,154,138,30,155,138,30,156,137,30,157,137,31,158,137,31,159,136,31,160,136,31,161,136,31,161,135,31,162,135,32,163,134,32,164,134,33,165,133,33,166,133,34,167,133,34,168,132,35,169,131,36,170,131,37,171,130,37,172,130,38,173,129,39,173,129,40,174,128,41,175,127,42,176,127,44,177,126,45,178,125,46,179,124,47,180,124,49,181,123,50,182,122,52,182,121,53,183,121,55,184,120,56,185,119,58,186,118,59,187,117,61,188,116,63,188,115,64,189,114,66,190,113,68,191,112,70,192,111,72,193,110,74,193,109,76,194,108,78,195,107,80,196,106,82,197,105,84,197,104,86,198,103,88,199,101,90,200,100,92,200,99,94,201,98,96,202,96,99,203,95,101,203,94,103,204,92,105,205,91,108,205,90,110,206,88,112,207,87,115,208,86,117,208,84,119,209,83,122,209,81,124,210,80,127,211,78,129,211,77,132,212,75,134,213,73,137,213,72,139,214,70,142,214,69,144,215,67,147,215,65,149,216,64,152,216,62,155,217,60,157,217,59,160,218,57,162,218,55,165,219,54,168,219,52,170,220,50,173,220,48,176,221,47,178,221,45,181,222,43,184,222,41,186,222,40,189,223,38,192,223,37,194,223,35,197,224,33,200,224,32,202,225,31,205,225,29,208,225,28,210,226,27,213,226,26,216,226,25,218,227,25,221,227,24,223,227,24,226,228,24,229,228,25,231,228,25,234,229,26,236,229,27,239,229,28,241,229,29,244,230,30,246,230,32,248,230,33,251,231,35,253,231,37] );\nexport const MAGMA = /*@__PURE__*/newColorTableEntry( 'magma', RGB8UI, GL.LINEAR, MAGMA_RGB8UI );\nexport const PLASMA = /*@__PURE__*/newColorTableEntry( 'plasma', RGB8UI, GL.LINEAR, PLASMA_RGB8UI );\nexport const INFERNO = /*@__PURE__*/newColorTableEntry( 'inferno', RGB8UI, GL.LINEAR, INFERNO_RGB8UI );\nexport const VIRIDIS = /*@__PURE__*/newColorTableEntry( 'viridis', RGB8UI, GL.LINEAR, VIRIDIS_RGB8UI );\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { appendCssLink, arrayAllEqual, arrayClear, createCssLink, Disposer, DisposerGroup, DisposerGroupMap, get, isNonNullish, multiIterable, onCssLoaded, requireNonNull, Runnable } from '@metsci/gleam-util';\n\nexport function attachDprListener( wnd: Window, listener: Runnable ): Disposer {\n    const queries = [] as MediaQueryList[];\n\n    const queryListener = ( ) => {\n        for ( const query of queries ) {\n            query.removeListener( queryListener );\n        }\n        arrayClear( queries );\n\n        listener( );\n\n        const dpr = wnd.devicePixelRatio;\n        if ( dpr ) {\n            // Not sure what matchMedia's precision limit is -- but presumably it's\n            // at least .01, and that should be good enough for what we care about\n            const dprAbove = 1e-2 * Math.ceil( dpr * 1e2 );\n            const dprBelow = 1e-2 * Math.floor( dpr * 1e2 );\n            queries.push( wnd.matchMedia( `screen and (max-resolution: ${dprAbove}dppx)` ) );\n            queries.push( wnd.matchMedia( `screen and (min-resolution: ${dprBelow}dppx)` ) );\n            for ( const query of queries ) {\n                query.addListener( queryListener );\n            }\n        }\n    };\n    queryListener( );\n\n    return ( ) => {\n        for ( const query of queries ) {\n            query.removeListener( queryListener );\n        }\n        arrayClear( queries );\n    };\n}\n\nexport interface CanvasResizeListener {\n    ( width_PX: number, height_PX: number, isApprox: boolean | undefined ): unknown;\n}\n\nexport function attachCanvasResizeListener( wnd: Window & typeof globalThis, parent: HTMLElement, canvas: HTMLCanvasElement, listener: CanvasResizeListener ): Disposer {\n    try {\n        return attachDefaultCanvasResizeListener( wnd, canvas, listener );\n    }\n    catch ( e ) {\n        return attachFallbackCanvasResizeListener( wnd, parent, canvas, listener );\n    }\n}\n\nfunction attachDefaultCanvasResizeListener( wnd: Window & typeof globalThis, canvas: HTMLCanvasElement, listener: CanvasResizeListener ): Disposer {\n    // ResizeObserver doesn't fire immediately, so do something approximate\n    // to tide us over. This is helpful during app initialization, when e.g.\n    // common-scale axes need to know their pixel sizes to be initialized\n    // to specified bounds\n\n    const { width_PX, height_PX } = approxElementSize_PX( wnd, canvas );\n    listener( width_PX, height_PX, undefined );\n\n    // We need to observe both 'content-box' and 'device-pixel-content-box'\n    // changes -- that way we get notified when devicePixelRatio changes,\n    // even if the canvas stays the same number of device pixels in size.\n    //\n    // At first glance this looks possible with a single observer instance,\n    // but in at least some cases only the last box actually ends up being\n    // observed. So we create multiple observer instances, and use each one\n    // to watch a different box.\n\n    const style = wnd.getComputedStyle( canvas );\n    const resizeCallback = ( entries: ReadonlyArray<ResizeObserverEntry> ) => {\n        for ( const en of entries ) {\n            if ( en.target === canvas ) {\n                const sizes = en.devicePixelContentBoxSize;\n                if ( isNonNullish( sizes ) && sizes.length === 1 ) {\n                    const size = sizes[ 0 ];\n                    const writingMode = style.writingMode;\n                    const isWritingModeVertical = ( isNonNullish( writingMode ) && writingMode.toLowerCase( ).startsWith( 'vertical' ) );\n                    const width_PX = ( isWritingModeVertical ? size.blockSize : size.inlineSize );\n                    const height_PX = ( isWritingModeVertical ? size.inlineSize : size.blockSize );\n                    listener( width_PX, height_PX, false );\n                }\n                else {\n                    const { width_PX, height_PX } = approxElementSize_PX( wnd, canvas );\n                    listener( width_PX, height_PX, true );\n                }\n            }\n        }\n    };\n\n    const disposers = new DisposerGroup( );\n    const boxes: ReadonlyArray<ResizeObserverBoxOptions> = [ 'content-box', 'device-pixel-content-box' ];\n    for ( const box of boxes ) {\n        // To receive resize events from a window `wnd` which may not be same as the global\n        // `window`, we call `new wnd.ResizeObserver()` instead of just `new ResizeObserver()`\n        const observer = new wnd.ResizeObserver( resizeCallback );\n        observer.observe( canvas, { box } );\n        disposers.add( ( ) => {\n            observer.disconnect( );\n        } );\n    }\n    return disposers;\n}\n\nfunction attachFallbackCanvasResizeListener( wnd: Window, parent: HTMLElement, canvas: HTMLCanvasElement, listener: CanvasResizeListener ): Disposer {\n    const disposers = new DisposerGroup( );\n\n    function wrappedListener( ) {\n        const { width_PX, height_PX } = approxElementSize_PX( wnd, canvas );\n        listener( width_PX, height_PX, true );\n    }\n    disposers.add( attachDprListener( wnd, wrappedListener ) );\n    disposers.add( attachLegacyElementResizeListener( wnd, parent, wrappedListener ) );\n\n    return disposers;\n}\n\nfunction attachLegacyElementResizeListener( wnd: Window, element: HTMLElement, listener: Runnable ): Disposer {\n    const document = requireNonNull( element.ownerDocument );\n\n    // The scroll trick doesn't work on elements with \"static\" positioning, but\n    // fortunately \"relative\" positioning is almost identical to \"static\" -- the\n    // differences are minor, and not even noticeable in the vast majority of cases\n    if ( wnd.getComputedStyle( element ).getPropertyValue( 'position' ) === 'static' ) {\n        throw new Error( 'Element has \"static\" positioning, which does not support resize detection -- change its positioning to \"relative\", or wrap it in a div with \"relative\" positioning' );\n    }\n\n    const template = document.createElement( 'x-resize-canary' );\n    template.style.position = 'absolute';\n    template.style.top = '0';\n    template.style.left = '0';\n    template.style.zIndex = '-16777215';\n    template.style.visibility = 'hidden';\n    template.style.overflow = 'hidden';\n\n    const expandSizer = template.cloneNode( false ) as HTMLElement;\n    expandSizer.style.width = '999999px';\n    expandSizer.style.height = '999999px';\n\n    const expandCanary = template.cloneNode( false ) as HTMLElement;\n    expandCanary.style.width = '100%';\n    expandCanary.style.height = '100%';\n    expandCanary.appendChild( expandSizer );\n\n    const shrinkSizer = template.cloneNode( false ) as HTMLElement;\n    shrinkSizer.style.width = '200%';\n    shrinkSizer.style.height = '200%';\n\n    const shrinkCanary = template.cloneNode( false ) as HTMLElement;\n    shrinkCanary.style.width = '100%';\n    shrinkCanary.style.height = '100%';\n    shrinkCanary.appendChild( shrinkSizer );\n\n    const rootCanary = template.cloneNode( false ) as HTMLElement;\n    rootCanary.style.width = '100%';\n    rootCanary.style.height = '100%';\n    rootCanary.appendChild( expandCanary );\n    rootCanary.appendChild( shrinkCanary );\n\n    element.appendChild( rootCanary );\n\n    const scrollFn = ( ) => {\n        expandCanary.scrollLeft = 999999;\n        expandCanary.scrollTop = 999999;\n        shrinkCanary.scrollLeft = 999999;\n        shrinkCanary.scrollTop = 999999;\n        listener( );\n    }\n    expandCanary.onscroll = scrollFn;\n    shrinkCanary.onscroll = scrollFn;\n    scrollFn( );\n\n    return ( ) => {\n        expandCanary.onscroll = null;\n        shrinkCanary.onscroll = null;\n        element.removeChild( rootCanary );\n    };\n}\n\nfunction approxElementSize_PX( wnd: Window, element: HTMLElement ): { width_PX: number, height_PX: number } {\n    // The only reliable way to get a pixel-perfect size is to use ResizeObserver with\n    // 'device-pixel-content-box' ... but for platforms where that's not supported, fall\n    // back to this estimate, which is sometimes off by 1 device pixel\n    const dpr = ( wnd.devicePixelRatio || 1 );\n    const bounds_LPX = element.getBoundingClientRect( );\n    const width_PX = Math.round( bounds_LPX.right*dpr ) - Math.round( bounds_LPX.left*dpr );\n    const height_PX = Math.round( bounds_LPX.bottom*dpr ) - Math.round( bounds_LPX.top*dpr );\n    return { width_PX, height_PX };\n}\n\n/**\n * Returns true if this call modified the element's classList.\n */\nexport function setCssClassPresent( element: Element, className: string, wantPresent: boolean ): boolean {\n    const alreadyPresent = element.classList.contains( className );\n    if ( wantPresent && !alreadyPresent ) {\n        element.classList.add( className );\n        return true;\n    }\n    else if ( !wantPresent && alreadyPresent ) {\n        element.classList.remove( className );\n        return true;\n    }\n    return false;\n}\n\nexport function addCssLink( url: URL ): Promise<HTMLLinkElement> {\n    return appendCssLink( document.head, createCssLink( url ) ).loading;\n}\n\n/**\n * Fires the listener when a style in the specified subtree MIGHT have\n * changed. Spurious firings are not frequent, but do happen.\n *\n * Some style changes made in browser devtools are detectable, but not\n * all. In Chrome's devtools for example, edits to `element.style` are\n * detected, but edits to a stylesheet are not.\n */\nexport function attachSubtreeRestyleListener( element: HTMLElement, listener: Runnable ): Disposer {\n    const disposersByChild = new DisposerGroupMap<Node>( );\n\n    const firingObserveOptions = {\n        attributes: true,\n        attributeFilter: [ 'id', 'class', 'style' ],\n        childList: true,\n        subtree: true\n    };\n    const firingObserver = get( ( ) => {\n        let ancestors = getAncestors( element );\n        return new MutationObserver( evs => {\n            let shouldFire = false;\n            let shouldCheckAncestors = false;\n            for ( const ev of evs ) {\n                switch ( ev.type ) {\n                    case 'attributes': {\n                        // Fire when a relevant attr changes on an ancestor or descendant\n                        shouldFire = shouldFire || ev.target.contains( element );\n                        shouldFire = shouldFire || element.contains( ev.target );\n                    }\n                    break;\n\n                    case 'childList': {\n                        // Ancestors may have changed\n                        shouldCheckAncestors = true;\n\n                        // Clean up when a stylesheet <link> gets removed\n                        for ( const node of ev.removedNodes ) {\n                            if ( isStylesheetLink( node ) ) {\n                                disposersByChild.disposeFor( node );\n                            }\n                        }\n\n                        // Fire when a stylesheet <link> gets loaded\n                        for ( const node of ev.addedNodes ) {\n                            if ( isStylesheetLink( node ) ) {\n                                disposersByChild.get( node ).add(\n                                    onCssLoaded( node as HTMLLinkElement, listener )\n                                );\n                            }\n                        }\n\n                        // Fire when a <style> element or stylesheet <link> gets added or removed\n                        shouldFire = shouldFire || get( ( ) => {\n                            for ( const node of multiIterable( ev.addedNodes, ev.removedNodes ) ) {\n                                if ( isStyle( node ) || isStylesheetLink( node ) ) {\n                                    return true;\n                                }\n                            }\n                            return false;\n                        } );\n\n                        // Fire when descendants change\n                        shouldFire = shouldFire || element.contains( ev.target );\n                    }\n                    break;\n                }\n            }\n\n            // Fire when ancestors change\n            if ( shouldCheckAncestors ) {\n                const newAncestors = getAncestors( element );\n                shouldFire = shouldFire || !arrayAllEqual( newAncestors, ancestors );\n                ancestors = newAncestors;\n            }\n\n            if ( shouldFire ) {\n                listener( );\n            }\n        } );\n    } );\n\n    const hierarchyObserveOptions = {\n        childList: true,\n        subtree: true\n    };\n    let hierarchyObserver: MutationObserver;\n    const hierarchyInit = get( ( ) => {\n        let ancestors = new Array<Node>( );\n        return ( ) => {\n            let newAncestors = getAncestors( element );\n            if ( !arrayAllEqual( newAncestors, ancestors ) ) {\n                hierarchyObserver.disconnect( );\n                firingObserver.disconnect( );\n                disposersByChild.dispose( );\n\n                ancestors = newAncestors;\n\n                // Add CSS-loading listeners to relevant DOM subtree\n                for ( const link of ( element.getRootNode( ) as ParentNode ).querySelectorAll( 'link' ) ) {\n                    if ( isStylesheetLink( link ) ) {\n                        disposersByChild.get( link ).add(\n                            onCssLoaded( link, listener )\n                        );\n                    }\n                }\n\n                // Fire listener on changes in the relevant DOM subtree\n                firingObserver.observe( element.getRootNode( ), firingObserveOptions );\n\n                // On changes in ANY containing root, check whether to reinitialize\n                for ( const r of getRoots( element ) ) {\n                    hierarchyObserver.observe( r, hierarchyObserveOptions );\n                }\n            }\n        };\n    } );\n    // Init immediately, and reinit when ancestors change\n    hierarchyObserver = new MutationObserver( hierarchyInit );\n    hierarchyInit( );\n\n    return ( ) => {\n        hierarchyObserver.disconnect( );\n        firingObserver.disconnect( );\n        disposersByChild.dispose( );\n    };\n}\n\nfunction isStylesheetLink( node: Node ): boolean {\n    const link = node as HTMLLinkElement;\n    return ( link.tagName === 'LINK' && link.rel === 'stylesheet' );\n}\n\nfunction isStyle( node: Node ): boolean {\n    const element = node as Element;\n    return ( element.tagName === 'STYLE' );\n}\n\nfunction getRoots( node: Node ) {\n    const roots = new Array<Document | ShadowRoot>( );\n    let root = node.getRootNode( ) as Document | ShadowRoot;\n    while ( true ) {\n        roots.push( root );\n        root = ( root as any )?.host?.getRootNode( ) as Document | ShadowRoot;\n        if ( !root ) {\n            return roots;\n        }\n    }\n}\n\nfunction getAncestors( node: Node ): Node[] {\n    const ancestors = new Array<Node>( );\n    let ancestor = node;\n    while ( true ) {\n        ancestors.push( ancestor );\n        const next = ancestor.parentNode ?? ( ancestor as ShadowRoot ).host;\n        if ( next ) {\n            ancestor = next;\n        }\n        else {\n            return ancestors;\n        }\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { isNullish } from '@metsci/gleam-util';\n\nexport interface Inset {\n    readonly top: number;\n    readonly right: number;\n    readonly bottom: number;\n    readonly left: number;\n}\n\nexport function createInset( all: number ): Inset;\nexport function createInset( topAndBottom: number, rightAndLeft: number ): Inset;\nexport function createInset( top: number, rightAndLeft: number, bottom: number ): Inset;\nexport function createInset( top: number, right: number, bottom: number, left: number ): Inset;\nexport function createInset( a: number, b?: number, c?: number, d?: number ): Inset {\n    if ( b === undefined ) {\n        return { top: a, right: a, bottom: a, left: a };\n    }\n    else if ( c === undefined ) {\n        return { top: a, right: b, bottom: a, left: b };\n    }\n    else if ( d === undefined ) {\n        return { top: a, right: b, bottom: c, left: b };\n    }\n    else {\n        return { top: a, right: b, bottom: c, left: d };\n    }\n}\n\nexport function scaleInset( inset: Inset, scaleFactor: number ): Inset {\n    return {\n        top: inset.top * scaleFactor,\n        right: inset.right * scaleFactor,\n        bottom: inset.bottom * scaleFactor,\n        left: inset.left * scaleFactor\n    };\n}\n\nexport function roundInset( inset: Inset ): Inset {\n    return {\n        top: Math.round( inset.top ),\n        right: Math.round( inset.right ),\n        bottom: Math.round( inset.bottom ),\n        left: Math.round( inset.left )\n    };\n}\n\nexport const ZERO_INSET = Object.freeze( createInset( 0 ) );\n\nexport function formatInset( inset: Inset ): string {\n    const { top, right, bottom, left } = inset;\n\n    if ( right !== left ) {\n        return `${top} ${right} ${bottom} ${left}`;\n    }\n\n    const rightAndLeft = right;\n    if ( top !== bottom ) {\n        return `${top} ${rightAndLeft} ${bottom}`;\n    }\n\n    const topAndBottom = top;\n    if ( topAndBottom !== rightAndLeft ) {\n        return `${topAndBottom} ${rightAndLeft}`;\n    }\n\n    const all = topAndBottom;\n    return `${all}`;\n}\n\nexport function insetsEqual( a: Inset | undefined | null, b: Inset | undefined | null ): boolean {\n    if ( a === b ) {\n        return true;\n    }\n    else if ( isNullish( a ) || isNullish( b ) ) {\n        return false;\n    }\n    else {\n        return ( Object.is( a.left, b.left )\n              && Object.is( a.right, b.right )\n              && Object.is( a.bottom, b.bottom )\n              && Object.is( a.top, b.top ) );\n    }\n\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Interval1D, Interval2D, Nullable, OneOf, requireNonNullish, Size2D, StringTuple } from '@metsci/gleam-util';\nimport { Color } from './color';\nimport { EAST, Edge, NORTH, SOUTH, WEST } from './edge';\nimport { GL } from './misc';\n\nexport function glGetUniformLocation( gl: WebGLRenderingContext, program: Nullable<WebGLProgram>, name: string ): Nullable<WebGLUniformLocation> {\n    return ( program ? gl.getUniformLocation( program, name ) : null );\n}\n\nexport function glGetAttribLocation( gl: WebGLRenderingContext, program: Nullable<WebGLProgram>, name: string ): GLint {\n    return ( program ? gl.getAttribLocation( program, name ) : -1 );\n}\n\nexport function glUniformBool( gl: WebGLRenderingContext, location: Nullable<WebGLUniformLocation>, b: boolean ): void {\n    gl.uniform1i( location, ( b ? 1 : 0 ) );\n}\n\nexport function glUniformEdge( gl: WebGLRenderingContext, location: Nullable<WebGLUniformLocation>, edge: Edge ): void {\n    switch ( edge ) {\n        case NORTH: gl.uniform1i( location, 0 ); break;\n        case SOUTH: gl.uniform1i( location, 1 ); break;\n        case EAST: gl.uniform1i( location, 2 ); break;\n        case WEST: gl.uniform1i( location, 3 ); break;\n        default: throw new Error( 'Unrecognized edge: ' + edge );\n    }\n}\n\nexport function glUniformRgba( gl: WebGLRenderingContext, location: Nullable<WebGLUniformLocation>, color: Color ): void {\n    gl.uniform4f( location, color.r, color.g, color.b, color.a );\n}\n\nexport function glUniformInterval1D( gl: WebGLRenderingContext, location: Nullable<WebGLUniformLocation>, interval: Interval1D ): void {\n    gl.uniform2f( location, interval.min, interval.span );\n}\n\nexport function glUniformInterval2D( gl: WebGLRenderingContext, location: Nullable<WebGLUniformLocation>, interval: Interval2D ): void {\n    gl.uniform4f( location, interval.xMin, interval.yMin, interval.w, interval.h );\n}\n\nexport function glUniformSize2D( gl: WebGLRenderingContext, location: Nullable<WebGLUniformLocation>, size: Size2D ): void {\n    gl.uniform2f( location, size.w, size.h );\n}\n\nexport function doInitProgram( gl: WebGLRenderingContext, program: Nullable<WebGLProgram>, vertShader_GLSL: string, fragShader_GLSL: string ): void {\n    const vertShader = gl.createShader( GL.VERTEX_SHADER );\n    const fragShader = gl.createShader( GL.FRAGMENT_SHADER );\n    try {\n        compileShader( gl, vertShader, vertShader_GLSL );\n        compileShader( gl, fragShader, fragShader_GLSL );\n        linkProgram( gl, program, vertShader, fragShader );\n    }\n    finally {\n        gl.deleteShader( vertShader );\n        gl.deleteShader( fragShader );\n    }\n}\n\nexport function compileShader( gl: WebGLRenderingContext, shader: Nullable<WebGLShader>, glsl: string ): void {\n    if ( shader != null ) {\n        gl.shaderSource( shader, glsl );\n        gl.compileShader( shader );\n        if ( !gl.getShaderParameter( shader, GL.COMPILE_STATUS ) && !gl.isContextLost( ) ) {\n            throw new Error( gl.getShaderInfoLog( shader ) ?? undefined );\n        }\n    }\n}\n\nexport function linkProgram( gl: WebGLRenderingContext, program: Nullable<WebGLProgram>, ...shaders: Nullable<WebGLShader>[] ): void {\n    if ( program != null ) {\n        for ( const shader of shaders ) {\n            if ( shader != null ) {\n                gl.attachShader( program, shader );\n            }\n        }\n        try {\n            gl.linkProgram( program );\n            if ( !gl.getProgramParameter( program, GL.LINK_STATUS ) && !gl.isContextLost( ) ) {\n                throw new Error( gl.getProgramInfoLog( program ) ?? undefined );\n            }\n        }\n        finally {\n            for ( const shader of shaders ) {\n                if ( shader != null ) {\n                    gl.detachShader( program, shader );\n                }\n            }\n        }\n    }\n}\n\nexport interface ShaderSource<UNIFORMS extends StringTuple, ATTRIBS extends StringTuple> {\n    vertShader_GLSL: string;\n    fragShader_GLSL: string;\n    uniformNames?: UNIFORMS;\n    attribNames: ATTRIBS;\n}\n\nexport class ShaderProgram<UNIFORMS extends StringTuple, ATTRIBS extends StringTuple> {\n    protected readonly vertShader_GLSL: string;\n    protected readonly fragShader_GLSL: string;\n    protected readonly uniformNames: Iterable<OneOf<UNIFORMS>>;\n    protected readonly attribNames: Iterable<OneOf<ATTRIBS>>;\n\n    protected glIncarnation: unknown;\n    protected dProgram: Nullable<WebGLProgram>;\n    protected dUniforms: Nullable<Record<OneOf<UNIFORMS>,Nullable<WebGLUniformLocation>>>;\n    protected dAttribs: Nullable<Record<OneOf<ATTRIBS>,number>>;\n\n    constructor( source: ShaderSource<UNIFORMS,ATTRIBS> ) {\n        this.vertShader_GLSL = source.vertShader_GLSL;\n        this.fragShader_GLSL = source.fragShader_GLSL;\n        this.uniformNames = [ ...source.uniformNames ?? [] ];\n        this.attribNames = [ ...source.attribNames ];\n\n        this.glIncarnation = null;\n        this.dProgram = null;\n        this.dUniforms = null;\n        this.dAttribs = null;\n    }\n\n    prepare( gl: WebGLRenderingContext, glIncarnation: object ): void {\n        if ( glIncarnation !== this.glIncarnation ) {\n            this.glIncarnation = glIncarnation;\n            this.dProgram = gl.createProgram( );\n\n            doInitProgram( gl, this.dProgram, this.vertShader_GLSL, this.fragShader_GLSL );\n\n            const dUniforms = {} as Record<OneOf<UNIFORMS>,Nullable<WebGLUniformLocation>>;\n            for ( const uniformName of this.uniformNames ) {\n                dUniforms[ uniformName ] = glGetUniformLocation( gl, this.dProgram, uniformName );\n            }\n            this.dUniforms = dUniforms;\n\n            const dAttribs = {} as Record<OneOf<ATTRIBS>,number>;\n            for ( const attribName of this.attribNames ) {\n                dAttribs[ attribName ] = glGetAttribLocation( gl, this.dProgram, attribName );\n            }\n            this.dAttribs = dAttribs;\n        }\n    }\n\n    get uniforms( ): Record<OneOf<UNIFORMS>,Nullable<WebGLUniformLocation>> {\n        return requireNonNullish( this.dUniforms );\n    }\n\n    get attribs( ): Record<OneOf<ATTRIBS>,number> {\n        return requireNonNullish( this.dAttribs );\n    }\n\n    get program( ): Nullable<WebGLProgram> {\n        return this.dProgram;\n    }\n\n    dispose( gl: WebGLRenderingContext, glIncarnation: object ): void {\n        if ( glIncarnation === this.glIncarnation ) {\n            gl.deleteProgram( this.dProgram );\n        }\n        this.glIncarnation = null;\n        this.dProgram = null;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { basicDelims, basicEscapes, basicQuotePair, Consumer, isDefined, LinkedMap, LinkedSet, numberOr, Predicate, QuotePair, requireDefined, splitString, Supplier } from '@metsci/gleam-util';\nimport { frozenSupplier, isstr } from '../util';\nimport { Color, parseColor } from './color';\nimport { createInset, Inset } from './inset';\n\nexport interface Styleable {\n    readonly peer: HTMLElement;\n    readonly style: CSSStyleDeclaration;\n}\n\nexport enum PeerType {\n    PANE,\n    LAYOUT,\n    PAINTER,\n    CONTRAPTION,\n    SITE,\n    OTHER,\n}\n\nconst DOM_PEER_SYMBOL = Symbol( '@@__GLEAM_DOM_PEER__@@' );\nexport function isDomPeer( obj: unknown ): obj is DomPeer {\n    return !!( obj && typeof obj === 'object' && ( obj as any )[ DOM_PEER_SYMBOL ] );\n}\n\nexport interface DomPeer extends HTMLElement {\n    readonly [DOM_PEER_SYMBOL]: true;\n    readonly gleamPeer: unknown;\n    readonly gleamType: PeerType;\n}\n\nexport function createDomPeer( tagName: string, gleamPeer: unknown, gleamType: PeerType ): DomPeer {\n    return Object.assign( document.createElement( tagName ), {\n        [DOM_PEER_SYMBOL]: true as const,\n        gleamPeer,\n        gleamType,\n    } );\n}\n\nfunction createValueSupplier<V>( parser: CssParser<V>, v: V | string | StyleProp<V> ): Supplier<V> {\n    if ( isstr( v ) ) {\n        return frozenSupplier( parseOrThrow( parser, v ) );\n    }\n    else if ( isStyleProp( v ) ) {\n        return ( ) => v.get( );\n    }\n    else {\n        return frozenSupplier( v );\n    }\n}\n\nconst STYLE_PROP_SYMBOL = Symbol( '@@__GLEAM_STYLE_PROP__@@' );\nexport function isStyleProp( obj: any ): obj is StyleProp<unknown> {\n    return !!( obj && typeof obj === 'object' && obj[ STYLE_PROP_SYMBOL ] );\n}\n\nexport class StyleProp<T> {\n    readonly [ STYLE_PROP_SYMBOL ] = true;\n\n    readonly style: CSSStyleDeclaration;\n    readonly name: string;\n    readonly parser: CssParser<T>;\n    getFallback: Supplier<T>;\n    getOverride: Supplier<T | undefined> | undefined;\n    readonly transforms: LinkedMap<string, ( value: T ) => T>;\n\n    protected readonly cache: CssParseCache<T> | undefined;\n\n    /**\n     * If you need to pass a `getFallback` supplier instead of a `fallback`\n     * value, use `create2()` instead of this fn. The two fns are separate\n     * because if `T` is a function type, runtime dispatch can't distinguish\n     * `T` from `Supplier<T>`.\n     */\n    static create<T>( style: CSSStyleDeclaration, name: string, parser: CssParser<T>, fallback: T | string | StyleProp<T>, cacheSize: number = 1 ) {\n        return new StyleProp( style, name, parser, createValueSupplier( parser, fallback ), cacheSize );\n    }\n\n    static create2<T>( style: CSSStyleDeclaration, name: string, parser: CssParser<T>, getFallback: Supplier<T>, cacheSize: number = 1 ) {\n        return new StyleProp( style, name, parser, getFallback, cacheSize );\n    }\n\n    protected constructor( style: CSSStyleDeclaration, name: string, parser: CssParser<T>, getFallback: Supplier<T>, cacheSize: number ) {\n        this.style = style;\n        this.name = name;\n        this.parser = parser;\n        this.getFallback = getFallback;\n        this.getOverride = undefined;\n        this.transforms = new LinkedMap( );\n        this.cache = ( cacheSize > 0 ? new CssParseCache<T>( cacheSize ) : undefined );\n    }\n\n    get( ): T {\n        let value = cssParsed( this.parser, this.getOverride, this.style, this.name, this.getFallback, this.cache );\n        for ( const [ _, transform ] of this.transforms ) {\n            value = transform( value );\n        }\n        return value;\n    }\n\n    get override( ): T | undefined {\n        return this.getOverride?.( );\n    }\n\n    set override( value: T | undefined ) {\n        this.getOverride = ( ) => value;\n    }\n}\n\nconst UNBOUND_STYLE_PROP_SYMBOL = Symbol( '@@__GLEAM_UNBOUND_STYLE_PROP__@@' );\nexport function isUnboundStyleProp( obj: any ): obj is UnboundStyleProp<unknown> {\n    return !!( obj && typeof obj === 'object' && obj[ UNBOUND_STYLE_PROP_SYMBOL ] );\n}\n\nexport class UnboundStyleProp<T> {\n    readonly [ UNBOUND_STYLE_PROP_SYMBOL ] = true;\n\n    readonly name: string;\n    readonly parser: CssParser<T>;\n    getFallback: Supplier<T>;\n    readonly transforms: LinkedMap<string, ( value: T ) => T>;\n\n    protected readonly cache: CssParseCache<T> | undefined;\n\n    /**\n     * If you need to pass a `getFallback` supplier instead of a `fallback`\n     * value, use `create2()` instead of this fn. The two fns are separate\n     * because if `T` is a function type, runtime dispatch can't distinguish\n     * `T` from `Supplier<T>`.\n     */\n    static create<T>( name: string, parser: CssParser<T>, fallback: T | string | StyleProp<T>, cacheSize: number = 10 ) {\n        return new UnboundStyleProp( name, parser, createValueSupplier( parser, fallback ), cacheSize );\n    }\n\n    static create2<T>( name: string, parser: CssParser<T>, getFallback: Supplier<T>, cacheSize: number = 10 ) {\n        return new UnboundStyleProp( name, parser, getFallback, cacheSize );\n    }\n\n    protected constructor( name: string, parser: CssParser<T>, getFallback: Supplier<T>, cacheSize: number ) {\n        this.name = name;\n        this.parser = parser;\n        this.getFallback = getFallback;\n        this.transforms = new LinkedMap( );\n        this.cache = ( cacheSize > 0 ? new CssParseCache<T>( cacheSize ) : undefined );\n    }\n\n    get( style: CSSStyleDeclaration, getOverride?: Supplier<T | undefined> | undefined ): T {\n        let value = cssParsed( this.parser, getOverride, style, this.name, this.getFallback, this.cache );\n        for ( const [ _, transform ] of this.transforms ) {\n            value = transform( value );\n        }\n        return value;\n    }\n}\n\nfunction parseOrThrow<V>( parser: CssParser<V>, s: string ): V {\n    const v = parser.parse( s );\n    if ( v === UNPARSEABLE ) {\n        throw new Error( `CSS parsing failed: required = ${parser.descriptionOfValidValues}, found = ${s}` );\n    }\n    else {\n        return v;\n    }\n}\n\nexport const UNPARSEABLE = Symbol( 'UNPARSEABLE' );\nexport type UNPARSEABLE = typeof UNPARSEABLE;\n\ninterface CssParseFn<V> {\n    ( s: string ): V | UNPARSEABLE;\n}\n\n// TODO: Add a format fn, for debugging purposes\nexport class CssParser<V> {\n    constructor(\n        readonly descriptionOfValidValues: string,\n        readonly parse: CssParseFn<V>,\n    ) {\n    }\n}\n\nexport class CssParseCache<V> {\n    protected readonly map: LinkedMap<string, V | UNPARSEABLE>;\n    protected readonly maxSize: number;\n\n    constructor( maxSize: number ) {\n        this.map = new LinkedMap( );\n        this.maxSize = maxSize;\n    }\n\n    get( unparsed: string, parseFn: CssParseFn<V> ): V | UNPARSEABLE {\n        const cached = this.map.get( unparsed );\n        if ( cached !== undefined ) {\n            return cached;\n        }\n        else {\n            const parsed = parseFn( unparsed );\n            this.map.putLast( unparsed, parsed );\n            if ( this.maxSize > 0 ) {\n                while ( this.map.size > this.maxSize ) {\n                    this.map.removeFirst( );\n                }\n            }\n            return parsed;\n        }\n    }\n}\n\nexport function cssParsed<V>( parser: CssParser<V>, getOverride: Supplier<V | undefined> | undefined, style: CSSStyleDeclaration, propName: string, getFallback: Supplier<V>, cache?: CssParseCache<V> ): V {\n    try {\n        const override = getOverride?.( );\n        if ( isDefined( override ) ) {\n            return override;\n        }\n    }\n    catch ( e ) {\n        console.warn( `CSS override supplier failed: \"${propName}\"`, e, e.stack );\n    }\n\n    const sRaw = style.getPropertyValue( propName );\n\n    // It's VERY easy for parsers to get tripped up by leading/trailing whitespace,\n    // so trim it immediately -- makes it awkward when a parser needs the whitespace,\n    // but that's rare in practice\n    let s = sRaw.trim( );\n\n    // Allow whitespace if the value is quoted\n    // TODO: Make quote parsing more robust\n    if ( ( s.startsWith( '\"' ) && s.endsWith( '\"' ) ) || ( s.startsWith( \"'\" ) && s.endsWith( \"'\" ) ) ) {\n        s = s.substring( 1, s.length-1 );\n    }\n\n    if ( s.length > 0 ) {\n        const parseFn = wrapParseFn( parser.parse, ( ) => {\n            console.warn( `CSS parsing failed: \"${propName}:${sRaw}\"` );\n        } );\n\n        const result = cache?.get( s, parseFn ) ?? parseFn( s );\n        if ( result !== UNPARSEABLE ) {\n            return result;\n        }\n    }\n\n    return getFallback( );\n}\n\nfunction wrapParseFn<V>( parseFn: CssParseFn<V>, handleParseFailure: Consumer<string> ): CssParseFn<V> {\n    return s => {\n        let result;\n        try {\n            result = parseFn( s );\n        }\n        catch ( e ) {\n            result = UNPARSEABLE;\n        }\n        if ( result === UNPARSEABLE ) {\n            handleParseFailure( s );\n        }\n        return result;\n    };\n}\n\nexport const cssString = new CssParser<string>( '<string>', s => s );\nexport const cssLowercase = new CssParser<string>( '<string>', s => s.toLowerCase( ) );\nexport const cssUppercase = new CssParser<string>( '<string>', s => s.toUpperCase( ) );\n\nexport const cssInteger = new CssParser<number>( '<integer>', parseInt );\n\nexport const cssColor = new CssParser<Color>( '<color>', parseColor );\n\nconst truthyStrings = new Set( [ 'true', 'yes', 't', 'y', '1' ] );\nexport const cssBoolean = new CssParser<boolean>( '<boolean>', s => {\n    return truthyStrings.has( s.trim( ).toLowerCase( ) );\n} );\n\nconst posInfStrings = new Set( [ '+inf', '+infinity', 'inf', 'infinity' ] );\nconst negInfStrings = new Set( [ '-inf', '-infinity' ] );\nexport const cssFloat = new CssParser<number>( '<number>', s => {\n    if ( posInfStrings.has( s ) ) {\n        return Number.POSITIVE_INFINITY;\n    }\n    if ( negInfStrings.has( s ) ) {\n        return Number.NEGATIVE_INFINITY;\n    }\n    return parseFloat( s );\n} );\n\nexport function cssEnum<T extends object>( enumType: T ): CssParser<T[keyof T]> {\n    const validValues = Object.keys( enumType )\n                              .map( s => s.toLowerCase( ).replace( /_/g, '-' ) )\n                              .join( ' | ' );\n    return new CssParser( validValues, s => {\n        const enumKey = s.toUpperCase( ).replace( /-/g, '_' );\n        return requireDefined( ( enumType as any )[ enumKey ] );\n    } );\n}\n\nexport const cssInset = new CssParser<Inset>( 'omni | vertical horizontal | top horizontal bottom | top right bottom left', s => {\n    const numbers = new Array<number>( );\n    for ( const token of s.trim( ).split( /\\s+/, 4 ) ) {\n        numbers.push( numberOr( parseFloat( token ), 0 ) );\n    }\n    return createInset( numbers[ 0 ], numbers[ 1 ], numbers[ 2 ], numbers[ 3 ] );\n} );\n\nexport const STD_ESCAPES = Object.freeze( basicEscapes( '\\\\' ) );\nexport const STD_DELIMS = Object.freeze( basicDelims( ',' ) );\nexport const STD_QUOTES = Object.freeze( [\n    basicQuotePair( '\"', '\"' ),\n    basicQuotePair( \"'\", \"'\" ),\n    basicQuotePair( \"`\", \"`\" ),\n    basicQuotePair( '(', ')' ),\n    basicQuotePair( '[', ']' ),\n    basicQuotePair( '{', '}' ),\n] );\n\nexport function cssArray<T>( itemParser: CssParser<T>, delims?: Predicate<string>, quotes?: Iterable<QuotePair>, escapes?: Predicate<string> ): CssParser<Array<T>> {\n    return new CssParser<Array<T>>( `list of ${itemParser.descriptionOfValidValues}`, s => {\n        return [ ...parseIterable( s, itemParser, delims, quotes, escapes ) ];\n    } );\n}\n\nexport function cssSet<T>( itemParser: CssParser<T>, delims?: Predicate<string>, quotes?: Iterable<QuotePair>, escapes?: Predicate<string> ): CssParser<Set<T>> {\n    return new CssParser<Set<T>>( `list of ${itemParser.descriptionOfValidValues}`, s => {\n        return new Set( parseIterable( s, itemParser, delims, quotes, escapes ) );\n    } );\n}\n\nexport function cssLinkedSet<T>( itemParser: CssParser<T>, delims?: Predicate<string>, quotes?: Iterable<QuotePair>, escapes?: Predicate<string> ): CssParser<LinkedSet<T>> {\n    return new CssParser<LinkedSet<T>>( `list of ${itemParser.descriptionOfValidValues}`, s => {\n        return new LinkedSet( parseIterable( s, itemParser, delims, quotes, escapes ) );\n    } );\n}\n\nfunction* parseIterable<T>( s: string, itemParser: CssParser<T>, delims?: Predicate<string>, quotes?: Iterable<QuotePair>, escapes?: Predicate<string> ): Iterable<T> {\n    for ( const sItem of splitString( s, escapes ?? STD_ESCAPES, delims ?? STD_DELIMS, quotes ?? STD_QUOTES ) ) {\n        const item = itemParser.parse( sItem.trim( ) );\n        if ( item === UNPARSEABLE ) {\n            throw new Error( );\n        }\n        else {\n            yield item;\n        }\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { equal, Interval2D, isDefined, mapSetIfAbsent, requireDefined, requireNonNull, run } from '@metsci/gleam-util';\nimport { AnchoredImage, Atlas } from './atlas';\nimport { BLACK, parseColor, WHITE } from './color';\nimport { put4f, xPixelToNdc, yUpwardPixelToNdc } from './misc';\nimport { ValueBase } from './valueBase';\n\nexport const DEFAULT_CHARS = 'AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz0123456789!@#$%^&*()`~-_=+[]{}\\\\|;:\\'\",.<>/? \\t';\n\nexport const DEFAULT_MISSING_CHAR_FALLBACK = '?';\n\ninterface TextAtlasCacheEntry {\n    dpr: number | undefined;\n    atlas: Atlas<string>;\n    lastAccessFrameNum: number | undefined;\n}\n\nexport class TextAtlasCache {\n    protected readonly alphabet: Iterable<string>;\n    protected readonly alphabetForMetrics: Iterable<string>;\n    protected readonly maxDim: number;\n    protected readonly entriesByFont: Map<string,TextAtlasCacheEntry>;\n\n    constructor( options?: {\n        alphabet?: Iterable<string>,\n        alphabetForMetrics?: Iterable<string>,\n        maxDim?: number }\n    ) {\n        this.alphabet = options?.alphabet ?? DEFAULT_CHARS;\n        this.alphabetForMetrics = options?.alphabetForMetrics ?? this.alphabet;\n        this.maxDim = options?.maxDim ?? 4096;\n        this.entriesByFont = new Map( );\n    }\n\n    /**\n     * Returned values are good for the duration of the current frame. Don't\n     * use them beyond that. If you need them again on a future frame, call\n     * this method again.\n     *\n     * This method is designed to be called at least some of the time with a\n     * valid `currFrameNum`, e.g. from `Context.frameNum`. If it is only ever\n     * called with a `currFrameNum` of `undefined`, unused cache entries will\n     * never be pruned. If it is called with `currFrameNum` values that aren't\n     * real frame nums, its pruning behavior is undefined.\n     */\n    get( font: string, dpr: number, currFrameNum: number | undefined ): Atlas<string> {\n        const en = mapSetIfAbsent( this.entriesByFont, font, ( ) => ( {\n            dpr: undefined,\n            atlas: new Atlas<string>( this.maxDim ),\n            lastAccessFrameNum: undefined,\n        } ) );\n        if ( dpr !== en.dpr ) {\n            en.dpr = dpr;\n            en.atlas.clear( );\n            en.atlas.putAll( createTextImages( dpr, font, this.alphabetForMetrics, 1, this.alphabet ) );\n        }\n        if ( isDefined( currFrameNum ) ) {\n            en.lastAccessFrameNum = currFrameNum;\n\n            // The logic here handles situations where, on each frame, one or more painters\n            // access an entry to compute their pref sizes (outside their paint methods, so\n            // frameNum is undefined), and then access the same atlas again during painting\n            for ( const [ font, en ] of this.entriesByFont ) {\n                if ( en.lastAccessFrameNum === undefined ) {\n                    en.lastAccessFrameNum = currFrameNum;\n                }\n                else if ( en.lastAccessFrameNum < currFrameNum - 1 ) {\n                    this.entriesByFont.delete( font );\n                }\n            }\n        }\n        return en.atlas;\n    }\n}\n\nexport function createTextAtlas( dpr: number, font: string, maxDim: number, chars: string = DEFAULT_CHARS ): Atlas<string> {\n    const atlas = new Atlas( maxDim ) as Atlas<string>;\n    const images = createTextImages( dpr, font, chars, 1, chars );\n    atlas.putAll( images );\n    return atlas;\n}\n\nexport function getGlyphCount( atlas: Atlas<string>, text: string, missingCharFallback: string = DEFAULT_MISSING_CHAR_FALLBACK ): number {\n    const fallback = requireDefined( atlas.get( missingCharFallback ) );\n\n    let count = 0;\n    for ( const c of text ) {\n        const [ , box ] = ( atlas.get( c ) ?? fallback );\n        if ( box !== undefined ) {\n            count++;\n        }\n    }\n    return count;\n}\n\nexport function getTextWidth( atlas: Atlas<string>, text: string, missingCharFallback: string = DEFAULT_MISSING_CHAR_FALLBACK ): number {\n    const fallback = requireDefined( atlas.get( missingCharFallback ) );\n\n    let w_PX = 0;\n    for ( const c of text ) {\n        const [ image ] = ( atlas.get( c ) ?? fallback );\n        w_PX += image.imageData.width - 2*image.border;\n    }\n    return w_PX;\n}\n\nexport function putTextCoords( atlas: Atlas<string>, coords: Float32Array, i: number, viewport_PX: Interval2D, x_PX: number, y_PX: number, angle_MATHRAD: number, text: string, missingCharFallback: string = DEFAULT_MISSING_CHAR_FALLBACK ): number {\n    const fallback = requireDefined( atlas.get( missingCharFallback ) );\n\n    const y_UPX = viewport_PX.h - y_PX;\n\n    const wTexel_FRAC = 1 / atlas.getUsedArea( ).w;\n    const hTexel_FRAC = 1 / atlas.getUsedArea( ).h;\n\n    const sinAdvance = Math.sin( angle_MATHRAD );\n    const cosAdvance = Math.cos( angle_MATHRAD );\n    const sinAscent = cosAdvance;\n    const cosAscent = -sinAdvance;\n\n    let cumuAdvance_PX = 0;\n\n    for ( const c of text ) {\n        const [ image, box ] = ( atlas.get( c ) ?? fallback );\n\n        const advance_PX = image.imageData.width - 2*image.border;\n        const ascent_PX = image.yAnchor - image.border;\n        const descent_PX = image.imageData.height - image.border - image.yAnchor;\n\n        const xBaseLeft_PX = x_PX + cosAdvance*cumuAdvance_PX;\n        const yBaseLeft_UPX = y_UPX + sinAdvance*cumuAdvance_PX;\n\n        const xTopLeft_PX = xBaseLeft_PX + cosAscent*ascent_PX;\n        const yTopLeft_UPX = yBaseLeft_UPX + sinAscent*ascent_PX;\n        const xBottomLeft_PX = xBaseLeft_PX - cosAscent*descent_PX;\n        const yBottomLeft_UPX = yBaseLeft_UPX - sinAscent*descent_PX;\n\n        const xTopRight_PX = xTopLeft_PX + cosAdvance*advance_PX;\n        const yTopRight_UPX = yTopLeft_UPX + sinAdvance*advance_PX;\n        const xBottomRight_PX = xBottomLeft_PX + cosAdvance*advance_PX;\n        const yBottomRight_UPX = yBottomLeft_UPX + sinAdvance*advance_PX;\n\n        const xTopLeft = xPixelToNdc( viewport_PX.x, xTopLeft_PX );\n        const yTopLeft = yUpwardPixelToNdc( viewport_PX.y, yTopLeft_UPX );\n        const xBottomLeft = xPixelToNdc( viewport_PX.x, xBottomLeft_PX );\n        const yBottomLeft = yUpwardPixelToNdc( viewport_PX.y, yBottomLeft_UPX );\n\n        const xTopRight = xPixelToNdc( viewport_PX.x, xTopRight_PX );\n        const yTopRight = yUpwardPixelToNdc( viewport_PX.y, yTopRight_UPX );\n        const xBottomRight = xPixelToNdc( viewport_PX.x, xBottomRight_PX );\n        const yBottomRight = yUpwardPixelToNdc( viewport_PX.y, yBottomRight_UPX );\n\n        const sLeft = ( box.xMin + image.border )*wTexel_FRAC;\n        const sRight = ( box.xMax - image.border )*wTexel_FRAC;\n        const tTop = ( box.yMin + image.border )*hTexel_FRAC;\n        const tBottom = ( box.yMax - image.border )*hTexel_FRAC;\n\n        i = put4f( coords, i, xTopLeft,    yTopLeft,    sLeft,  tTop    );\n        i = put4f( coords, i, xBottomLeft, yBottomLeft, sLeft,  tBottom );\n        i = put4f( coords, i, xTopRight,   yTopRight,   sRight, tTop    );\n\n        i = put4f( coords, i, xTopRight,    yTopRight,    sRight, tTop    );\n        i = put4f( coords, i, xBottomLeft,  yBottomLeft,  sLeft,  tBottom );\n        i = put4f( coords, i, xBottomRight, yBottomRight, sRight, tBottom );\n\n        cumuAdvance_PX += advance_PX;\n    }\n\n    return i;\n}\n\n/**\n * Returned images are grayscale and fully opaque, with black\n * foreground and white background. In some browsers the quality\n * of canvas text rendering varies based on the colors used --\n * e.g. in Edge, white-on-black canvas text looks particularly\n * awful, but black-on-white canvas text looks nice.\n *\n * Alpha can be inferred from the grayscale value (e.g. in a frag\n * shader). This avoids introducing rounding error when converting\n * colors from the Canvas's buffer (which most browsers store with\n * premultiplied alpha) to ImageData (which is required to have\n * non-premultiplied alpha).\n *\n * Returned images will have a transparent border of specified\n * thickness, to avoid interp problems at texture edges.\n */\nexport function createTextImages( dpr: number, font: string, alphabetForMetrics: Iterable<string>, border: number, strings: Iterable<string> ): Map<string,AnchoredImage> {\n    const metrics = estimateFontMetrics( dpr, font, alphabetForMetrics );\n    const images = new Map( ) as Map<string,AnchoredImage>;\n    for ( const s of strings ) {\n        images.set( s, createTextImage( dpr, font, metrics, border, 'black', 'white', s ) );\n    }\n    return images;\n}\n\n// For use in createTextImage()\nconst canvas = document.createElement( 'canvas' );\ncanvas.width = 1;\ncanvas.height = 1;\nconst g = requireNonNull( canvas.getContext( '2d', { willReadFrequently: true } ) );\n\nexport class FontMetrics extends ValueBase {\n    readonly ascent_PX: number;\n    readonly descent_PX: number;\n\n    constructor( args: {\n        readonly ascent_PX: number,\n        readonly descent_PX: number,\n    } ) {\n        super( args.ascent_PX, args.descent_PX );\n        this.ascent_PX = args.ascent_PX;\n        this.descent_PX = args.descent_PX;\n    }\n}\n\nexport function estimateFontMetrics( dpr: number, font: string, alphabetForMetrics: Iterable<string> ): FontMetrics {\n    // Make sure the canvas is large enough\n    g.font = font;\n    g.textAlign = 'left';\n    g.textBaseline = 'alphabetic';\n    const emWidth_PX = Math.ceil( dpr * g.measureText( 'M' ).width );\n    const wGuess_PX = 2 * emWidth_PX;\n    const hGuess_PX = 3 * emWidth_PX;\n    const padding_PX = Math.ceil( dpr );\n    const wScratch_PX = wGuess_PX + 2*padding_PX;\n    const hScratch_PX = hGuess_PX + 2*padding_PX;\n    canvas.width = Math.max( canvas.width, wScratch_PX );\n    canvas.height = Math.max( canvas.height, hScratch_PX );\n\n    // Context forgets its settings when canvas size changes\n    g.font = font;\n    g.textAlign = 'left';\n    g.textBaseline = 'alphabetic';\n\n    // Pick a baseline about 2/3 of the way down\n    const yBaseline_PX = Math.round( 0.667 * hGuess_PX ) + padding_PX;\n\n    g.fillStyle = 'white';\n    g.fillRect( 0, 0, canvas.width, canvas.height );\n    const bgBytes = g.getImageData( 0, 0, 1, 1 ).data;\n\n    g.save( );\n    g.translate( padding_PX, yBaseline_PX );\n    g.scale( dpr, dpr );\n    try {\n        g.fillStyle = 'black';\n        for ( const ch of alphabetForMetrics ) {\n            g.fillText( ch, 0, 0 );\n        }\n    }\n    finally {\n        g.restore( );\n    }\n\n    const imageData = g.getImageData( 0, 0, wScratch_PX, hScratch_PX );\n    const { contentTop_PX, contentBottom_PX } = findContentTopAndBottom_PX( imageData, bgBytes, 0 );\n    if ( contentTop_PX < contentBottom_PX ) {\n        return new FontMetrics( {\n            ascent_PX: yBaseline_PX - contentTop_PX,\n            descent_PX: contentBottom_PX - yBaseline_PX,\n        } );\n    }\n    else {\n        return new FontMetrics( {\n            ascent_PX: 0,\n            descent_PX: 0,\n        } );\n    }\n}\n\n/**\n * Returned value's `imageData` will be non-null as long as the\n * rasterized string has at least one non-transparent pixel. That\n * will generally be the case when the specified string contains\n * at least one non-whitespace character ... but in theory there\n * could be strange fonts out there for which non-whitespace chars\n * look like whitespace.\n */\nexport function createTextImage( dpr: number, font: string, metrics: FontMetrics, border_PX: number, fgColor: string, bgColor: string, s: string ): AnchoredImage {\n    border_PX = Math.ceil( border_PX );\n\n    // Avoid chopping off edges\n    const leftPadding_PX = Math.ceil( 2*dpr );\n    const rightPadding_PX = Math.ceil( 2*dpr );\n\n    // Make sure the canvas is large enough\n    g.font = font;\n    g.textAlign = 'left';\n    g.textBaseline = 'alphabetic';\n    const wEstimate_PX = Math.ceil( dpr * g.measureText( s ).width );\n    const hEstimate_PX = Math.ceil( metrics.ascent_PX + metrics.descent_PX );\n    const wScratch_PX = border_PX + leftPadding_PX + wEstimate_PX + rightPadding_PX + border_PX;\n    const hScratch_PX = border_PX + hEstimate_PX + border_PX;\n    canvas.width = Math.max( canvas.width, wScratch_PX );\n    canvas.height = Math.max( canvas.height, hScratch_PX );\n\n    // Context forgets its settings when canvas size changes\n    g.font = font;\n    g.textAlign = 'left';\n    g.textBaseline = 'alphabetic';\n    const yBaseline_PX = border_PX + metrics.ascent_PX;\n\n    // Render black text on white bg to find content bounds\n    //\n    // Doing a separate render with known black foreground and white\n    // background allows the bounds-finding logic to distinguish not\n    // just between background and foreground pixels, but also between\n    // light-foreground and heavy-foreground pixels. Columns with only\n    // light-foreground pixels are included in spacing logic.\n    //\n    const { contentLeft_PX, contentRight_PX } = run( ( ) => {\n        g.fillStyle = 'white';\n        g.fillRect( 0, 0, canvas.width, canvas.height );\n\n        g.save( );\n        g.translate( border_PX + leftPadding_PX, yBaseline_PX );\n        g.scale( dpr, dpr );\n        try {\n            g.fillStyle = 'black';\n            g.fillText( s, 0, 0 );\n        }\n        finally {\n            g.restore( );\n        }\n\n        const bwData = g.getImageData( 0, 0, wScratch_PX, hScratch_PX );\n        return findContentLeftAndRight_PX( bwData, border_PX, Math.ceil( 0.5*dpr ) );\n    } );\n\n    // Re-render in specified colors\n    if ( !equal( parseColor( fgColor ), BLACK ) || !equal( parseColor( bgColor ), WHITE ) ) {\n        g.clearRect( 0, 0, canvas.width, canvas.height );\n\n        g.fillStyle = bgColor;\n        g.fillRect( 0, 0, canvas.width, canvas.height );\n\n        g.save( );\n        g.translate( border_PX + leftPadding_PX, yBaseline_PX );\n        g.scale( dpr, dpr );\n        try {\n            g.fillStyle = fgColor;\n            g.fillText( s, 0, 0 );\n        }\n        finally {\n            g.restore( );\n        }\n    }\n\n    const whitespace = ( contentLeft_PX > contentRight_PX );\n    const top_PX = 0;\n    const left_PX = ( whitespace ? 0 : contentLeft_PX - border_PX );\n    const width_PX = ( whitespace ? wEstimate_PX + 2*border_PX : ( contentRight_PX + border_PX ) - ( contentLeft_PX - border_PX ) );\n    const height_PX = hScratch_PX;\n\n    return {\n        xAnchor: border_PX,\n        yAnchor: yBaseline_PX,\n        border: border_PX,\n        imageData: g.getImageData( left_PX, top_PX, width_PX, height_PX ),\n    };\n}\n\nfunction isRowAllBackground( bgBytes: Uint8ClampedArray, rowBytes: Uint8ClampedArray ): boolean {\n    for ( let i = 0; i < rowBytes.length; i++ ) {\n        if ( rowBytes[ i ] !== bgBytes[ i % bgBytes.length ] ) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction findContentTopAndBottom_PX( imageData: ImageData, bgBytes: Uint8ClampedArray, border: number ): { contentTop_PX: number, contentBottom_PX: number } {\n    const imageBytes = imageData.data;\n    const numBytesPerPixel = bgBytes.length;\n    const numBytesPerRow = numBytesPerPixel * imageData.width;\n    const numBytesPerBorder = numBytesPerPixel * border;\n\n    // Find the top row that isn't all background\n    const contentTop_PX = run( ( ) => {\n        for ( let y = border; y < imageData.height - border; y++ ) {\n            const rowBytes = imageBytes.subarray( ( y )*numBytesPerRow + numBytesPerBorder, ( y + 1 )*numBytesPerRow - numBytesPerBorder );\n            if ( !isRowAllBackground( bgBytes, rowBytes ) ) {\n                return y;\n            }\n        }\n        return imageData.height;\n    } );\n\n    // Find the bottom row that isn't all background\n    const contentBottom_PX = run( ( ) => {\n        for ( let y = imageData.height - 1 - border; y >= contentTop_PX; y-- ) {\n            const rowBytes = imageBytes.subarray( ( y )*numBytesPerRow + numBytesPerBorder, ( y + 1 )*numBytesPerRow - numBytesPerBorder );\n            if ( !isRowAllBackground( bgBytes, rowBytes ) ) {\n                return ( y + 1 );\n            }\n        }\n        return contentTop_PX;\n    } );\n\n    return { contentTop_PX, contentBottom_PX };\n}\n\nfunction findContentLeftAndRight_PX( bwData: ImageData, border_PX: number, desiredPadding_PX: number ): { contentLeft_PX: number, contentRight_PX: number } {\n    const bwBytes = bwData.data;\n    const numBytesPerPixel = 4;\n    const numBytesPerRow = numBytesPerPixel * bwData.width;\n\n    let outerLeft_PX = bwData.width;\n    let innerLeft_PX = bwData.width;\n    leftLoop: {\n        for ( let x = 0; x < bwData.width; x++ ) {\n            for ( let y = border_PX; y < bwData.height - border_PX; y++ ) {\n                const green = bwBytes[ y*numBytesPerRow + x*numBytesPerPixel + 1 ];\n                if ( green < 255 ) {\n                    outerLeft_PX = Math.min( outerLeft_PX, x );\n                    if ( green < 204 ) {\n                        innerLeft_PX = x;\n                        break leftLoop;\n                    }\n                }\n            }\n        }\n    }\n\n    let outerRight_PX = 0;\n    let innerRight_PX = 0;\n    rightLoop: {\n        for ( let x = bwData.width - 1; x >= 0; x-- ) {\n            for ( let y = border_PX; y < bwData.height - border_PX; y++ ) {\n                const green = bwBytes[ y*numBytesPerRow + x*numBytesPerPixel + 1 ];\n                if ( green < 255 ) {\n                    outerRight_PX = Math.max( outerRight_PX, x+1 );\n                    if ( green < 204 ) {\n                        innerRight_PX = x+1;\n                        break rightLoop;\n                    }\n                }\n            }\n        }\n    }\n\n    return {\n        contentLeft_PX: Math.min( outerLeft_PX, innerLeft_PX - desiredPadding_PX ),\n        contentRight_PX: Math.max( outerRight_PX, innerRight_PX + desiredPadding_PX ),\n    };\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { ActivityListenableBasic, addToActiveTxn, Disposer, DisposerGroup, equal, Interval1D, isDefined, isNonNullish, newImmutableList, Nullable, Ref, Runnable, Supplier, trunc, X, Y } from '@metsci/gleam-util';\nimport { currentDpr } from '../support';\nimport { frozenSupplier } from '../util';\nimport { AxisGroup1D, AxisState1D } from './axisGroup';\nimport { DragHandler, HoverHandler, InputHandler, Pane, PaneMouseEvent, WheelHandler } from './pane';\n\nconst { abs, pow, round } = Math;\n\n/**\n * **NOTE:** This interface is defined *partly* in terms of *logical* pixels -- unlike\n * the bulk of the rest of the library, which uses physical pixels. Implementations of\n * this interface are responsible for conversion between logical and physical pixels.\n */\nexport class Axis1D {\n    readonly changes: ActivityListenableBasic;\n\n    /**\n     * If you modify this field, you should typically update `viewport_PX` as well.\n     * Call reconstrain() after modifying this field.\n     */\n    dpr: number;\n\n    /**\n     * If you modify this field, you should typically update `dpr` as well.\n     * Call reconstrain() after modifying this field.\n     */\n    viewport_PX: Interval1D;\n\n    /**\n     * Call reconstrain() after modifying this field.\n     */\n    minConstraint: Interval1D;\n\n    /**\n     * Call reconstrain() after modifying this field.\n     */\n    maxConstraint: Interval1D;\n\n    /**\n     * Call reconstrain() after modifying this field.\n     */\n    spanConstraint: Interval1D;\n\n    /**\n     * *Logical* pixels per axis unit.\n     *\n     * Call reconstrain() after modifying this field.\n     */\n    scaleConstraint: Interval1D;\n\n    protected cacheState: Nullable<AxisState1D>;\n    protected group: AxisGroup1D;\n    protected groupMembership: DisposerGroup;\n\n    constructor( group: AxisGroup1D ) {\n        this.changes = new ActivityListenableBasic( );\n\n        this.dpr = 1;\n        this.viewport_PX = Interval1D.fromEdges( 0, 1000 );\n        this.minConstraint = Interval1D.fromEdges( Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY );\n        this.maxConstraint = Interval1D.fromEdges( Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY );\n        this.spanConstraint = Interval1D.fromEdges( 0, Number.POSITIVE_INFINITY );\n        this.scaleConstraint = Interval1D.fromEdges( 0, Number.POSITIVE_INFINITY );\n\n        this.cacheState = null;\n        this.group = group.clone( );\n        this.groupMembership = new DisposerGroup( );\n        this.link( group );\n    }\n\n    get span_LPX( ): number {\n        return ( this.viewport_PX.span / this.dpr );\n    }\n\n    get bounds( ): Interval1D {\n        return this.getState( ).bounds;\n    }\n\n    /**\n     * *Logical* pixels per axis unit.\n     */\n    get scale( ): number {\n        return this.getState( ).scale;\n    }\n\n    pxToCoord( px: number ): number {\n        const frac = this.viewport_PX.valueToFrac( px );\n        return this.getState( ).bounds.fracToValue( frac );\n    }\n\n    coordToPx( coord: number ): number {\n        const frac = this.getState( ).bounds.valueToFrac( coord );\n        return this.viewport_PX.fracToValue( frac );\n    }\n\n    protected getState( ): AxisState1D {\n        const span_LPX = this.span_LPX;\n        const groupMarker = this.group.getStateMarker( );\n        if ( !this.cacheState || this.cacheState.marker !== groupMarker || this.cacheState.span_LPX !== span_LPX ) {\n            this.cacheState = this.group.computeAxisState( span_LPX );\n        }\n        return this.cacheState;\n    }\n\n    /**\n     * Call this to recompute bounds after changing constraints.\n     */\n    reconstrain( ongoing: boolean ): void {\n        this.group.reconstrain( ongoing );\n    }\n\n    set( ongoing: boolean, bounds: Interval1D ): void;\n    set( ongoing: boolean, min: number, max: number ): void;\n    set( ongoing: boolean, frac: number, coord: number, scale: number ): void;\n    set( ongoing: boolean, a: any, b?: any, c?: any ): void {\n        this.group.set( ongoing, this.span_LPX, a, b, c );\n    }\n\n    /**\n     * Shift bounds so that the span stays the same, and the given coord falls\n     * at the given fraction between min and max.\n     */\n    pan( ongoing: boolean, frac: number, coord: number ): void {\n        this.group.pan( ongoing, this.span_LPX, frac, coord );\n    }\n\n    getGroup( ): AxisGroup1D {\n        return this.group;\n    }\n\n    link( group: AxisGroup1D ): Disposer {\n        this.groupMembership.dispose( );\n\n        this.group = group;\n        this.groupMembership.add( this.group._addMember( this ) );\n        this.groupMembership.add( this.group.changes.addListener( ongoing => {\n            this.changes.fire( ongoing );\n        } ) );\n\n        this.group.reconstrain( false );\n\n        return ( ) => {\n            this.unlink( );\n        };\n    }\n\n    unlink( ): void {\n        this.link( this.group.clone( ) );\n    }\n}\n\n/**\n * How far an axis should get zoomed in or out in response to a single wheel step.\n */\nexport const ZOOM_STEP_FACTOR = 1.12;\n\n/**\n * How many pixels the mouse has to move vertically during a middle-click-drag (or CTRL+drag)\n * to count as a single wheel step.\n */\nexport const PSEUDOWHEEL_STEP_LPX = 4;\n\nconst deferredAxisReconstrains = new Array<Runnable>( );\n\n/**\n * Keep an axis viewport set according to the given pane.\n *\n * The pane arg is called `centerPane` because you usually want to pass the pane in which\n * the *plot contents* (not the axis labels) are drawn. If you have a reason to pass a pane\n * other than the plot-center pane, that is fine -- the arg name is chosen to make\n * misunderstandings less likely in the common case.\n *\n * When attaching viewport-updaters to multiple (possibly linked) axes, the attach calls\n * can be wrapped in a `doTxn()`. This allows the axes to be updated immediately, while\n * deferring the ensuing `axis.reconstrain()` calls.\n */\nexport function attachAxisViewportUpdater1D( centerPane: Pane, axis: Axis1D, axisType: X | Y, getInset_LPX?: Supplier<number> ): Disposer {\n    // A single viewport change may update more than one axis. Because\n    // those axes may be linked to each other, we apply those updates to\n    // all axes before calling reconstrain on any of them.\n\n    function updateAxisFields( ): Disposer | undefined {\n        const dpr = currentDpr( centerPane );\n        let viewport_PX = centerPane.getViewport_PX( )[ axisType ];\n        if ( getInset_LPX ) {\n            const inset_PX = round( getInset_LPX( ) * dpr );\n            viewport_PX = Interval1D.fromEdges( viewport_PX.min + inset_PX, viewport_PX.max - inset_PX );\n        }\n        if ( viewport_PX.span > 0 && ( dpr !== axis.dpr || !equal( viewport_PX, axis.viewport_PX ) ) ) {\n            // Save original axis state, for possible rollback\n            const oldDpr = axis.dpr;\n            const oldViewport_PX = axis.viewport_PX;\n\n            // Update axis state\n            axis.dpr = dpr;\n            axis.viewport_PX = viewport_PX;\n\n            // On rollback, restore original axis state (unless somebody else has modified it)\n            return ( ) => {\n                if ( axis.dpr === dpr && axis.viewport_PX === viewport_PX ) {\n                    axis.dpr = oldDpr;\n                    axis.viewport_PX = oldViewport_PX;\n                }\n            };\n        }\n        else {\n            // We didn't make any changes that would need to be rolled back\n            return undefined;\n        }\n    }\n\n    // Update when centerPane's viewport changes, using an ad-hoc mechanism to defer the reconstrain\n    const disposers = new DisposerGroup( );\n    disposers.add( centerPane.layoutReady.addListener( { order: -0.1 }, ( ) => {\n        if ( updateAxisFields( ) ) {\n            deferredAxisReconstrains.push( ( ) => {\n                // TODO: Detect ongoing viewport changes\n                axis.reconstrain( false );\n            } );\n        }\n    } ) );\n    disposers.add( centerPane.layoutReady.addListener( { order: 0 }, ( ) => {\n        for ( const reconstrainAxis of deferredAxisReconstrains ) {\n            reconstrainAxis( );\n        }\n        deferredAxisReconstrains.length = 0;\n    } ) );\n\n    // Update immediately, using the txn mechanism to defer the reconstrain\n    const immediateDisposers = updateAxisFields( );\n    if ( immediateDisposers ) {\n        disposers.add( immediateDisposers );\n        addToActiveTxn( {\n            rollback( ) {\n                disposers.dispose( );\n            },\n            postCommit( ) {\n                axis.reconstrain( false );\n            }\n        } );\n    }\n\n    return disposers;\n}\n\nexport function attachAxisInputHandlers1D( mousePane: Pane, axis: Axis1D, axisType: X | Y ): Disposer {\n    return mousePane.addInputHandler( createAxisZoomersAndPanners1D( axis, axisType ) );\n}\n\nexport function attachAxisWheelZoomer1D( mousePane: Pane, axis: Axis1D, axisType: X | Y ): Disposer {\n    return mousePane.addInputHandler( createAxisWheelZoomer1D( axis, axisType ) );\n}\n\n// TODO: Support side-scrolling to pan a horizontal axis\n\nexport function createAxisZoomersAndPanners1D( axis: Axis1D, axisType: X | Y ): InputHandler {\n    return {\n        getHoverHandler( evMove: PaneMouseEvent ): Nullable<HoverHandler> {\n            if ( evMove.modifiers.ctrl ) {\n                return createHoverZoomer( axis, axisType );\n            }\n            else {\n                return createHoverPanner( axis, axisType );\n            }\n        },\n        getDragHandler( evGrab: PaneMouseEvent ): Nullable<DragHandler> {\n            if ( evGrab.button === 1 || ( evGrab.button === 0 && evGrab.modifiers.ctrl ) ) {\n                return createDragZoomer( axis, axisType, evGrab );\n            }\n            else if ( evGrab.button === 0 ) {\n                return createDragPanner( axis, axisType, evGrab );\n            }\n            else {\n                return null;\n            }\n        },\n        getWheelHandler( evGrabOrWheel: PaneMouseEvent ): Nullable<WheelHandler> {\n            // Wheel with modifiers may do other things (e.g. browser zoom)\n            if ( evGrabOrWheel.modifiers.isEmpty( ) ) {\n                return createWheelZoomer( axis, axisType );\n            }\n            else {\n                return null;\n            }\n        },\n    };\n}\n\nexport function createAxisWheelZoomer1D( axis: Axis1D, axisType: X | Y ): InputHandler {\n    return {\n        getWheelHandler( evGrabOrWheel: PaneMouseEvent ): Nullable<WheelHandler> {\n            // Wheel with modifiers may do other things (e.g. browser zoom)\n            if ( evGrabOrWheel.modifiers.isEmpty( ) ) {\n                return createWheelZoomer( axis, axisType );\n            }\n            else {\n                return null;\n            }\n        },\n    };\n}\n\nexport function createHoverPanner( axis: Axis1D, axisType: X | Y ): HoverHandler {\n    return {\n        target: newImmutableList( [ 'Pan1D', axis ] ),\n        getMouseCursorClasses: frozenSupplier( axisType === X ? [ 'x-axis-panner' ] : [ 'y-axis-panner' ] ),\n    };\n}\n\nexport function createHoverZoomer( axis: Axis1D, axisType: X | Y ): HoverHandler {\n    return {\n        target: newImmutableList( [ 'Zoom1D', axis ] ),\n        getMouseCursorClasses: frozenSupplier( axisType === X ? [ 'x-axis-zoomer' ] : [ 'y-axis-zoomer' ] ),\n    };\n}\n\nexport function createDragPanner( axis: Axis1D, axisType: X | Y, evGrab: PaneMouseEvent ): DragHandler {\n    const grabFrac = getMouseAxisFrac1D( axis, axisType, evGrab );\n    const grabCoord = axis.bounds.fracToValue( grabFrac );\n    return {\n        target: newImmutableList( [ 'Pan1D', axis ] ),\n        getMouseCursorClasses: frozenSupplier( axisType === X ? [ 'x-axis-panner' ] : [ 'y-axis-panner' ] ),\n        handleDrag( evDrag: PaneMouseEvent ): void {\n            const mouseFrac = getMouseAxisFrac1D( axis, axisType, evDrag );\n            axis.pan( true, mouseFrac, grabCoord );\n        },\n        handleUngrab( evUngrab: PaneMouseEvent ): void {\n            const mouseFrac = getMouseAxisFrac1D( axis, axisType, evUngrab );\n            axis.pan( false, mouseFrac, grabCoord );\n        },\n    };\n}\n\nexport function createDragZoomer( axis: Axis1D, axisType: X | Y, evGrab: PaneMouseEvent ): DragHandler {\n    const grabFrac = getMouseAxisFrac1D( axis, axisType, evGrab );\n    const grabCoord = axis.bounds.fracToValue( grabFrac );\n    const grabScale = axis.scale;\n    return {\n        target: newImmutableList( [ 'Zoom1D', axis ] ),\n        getMouseCursorClasses: frozenSupplier( axisType === X ? [ 'x-axis-zoomer' ] : [ 'y-axis-zoomer' ] ),\n        handleDrag( evDrag: PaneMouseEvent ): void {\n            const wheelSteps = -1 * trunc( ( evDrag.loc_PX.y - evGrab.loc_PX.y ) / ( PSEUDOWHEEL_STEP_LPX * evGrab.dpr ) );\n            const scale = grabScale / pow( ZOOM_STEP_FACTOR, wheelSteps );\n            axis.set( true, grabFrac, grabCoord, scale );\n        },\n        handleUngrab( evUngrab: PaneMouseEvent ): void {\n            const wheelSteps = -1 * trunc( ( evUngrab.loc_PX.y - evGrab.loc_PX.y ) / ( PSEUDOWHEEL_STEP_LPX * evGrab.dpr ) );\n            const scale = grabScale / pow( ZOOM_STEP_FACTOR, wheelSteps );\n            axis.set( false, grabFrac, grabCoord, scale );\n        },\n    };\n}\n\nexport function createWheelZoomer( axis: Axis1D, axisType: X | Y ): WheelHandler {\n    return {\n        target: newImmutableList( [ 'Zoom1D', axis ] ),\n        handleWheel( evWheel: PaneMouseEvent ): void {\n            const frac = getMouseAxisFrac1D( axis, axisType, evWheel );\n            const coord = axis.bounds.fracToValue( frac );\n            const scale = axis.scale / pow( ZOOM_STEP_FACTOR, evWheel.wheelSteps );\n            axis.set( false, frac, coord, scale );\n        },\n    };\n}\n\nexport const cursorGrabDistance_LPX = 7;\n\nexport function createAxisCursorInputHandler1D( axis: Axis1D, axisType: X | Y, cursorCoord: Ref<number | undefined | null>, hoveredRef?: Ref<boolean>, grabDistance_LPX: number = cursorGrabDistance_LPX ): InputHandler {\n    const target = cursorCoord;\n    const getMouseCursorClasses = frozenSupplier( axisType === X ? [ 'x-tag-dragger' ] : [ 'y-tag-dragger' ] );\n    function getMouseCoord( ev: PaneMouseEvent ): number {\n        return getMouseAxisCoord1D( axis, axisType, ev );\n    }\n    return {\n        getHoverHandler( evMove: PaneMouseEvent ): Nullable<HoverHandler> {\n            const cursorValue = cursorCoord.v;\n            const moveCoord = getMouseCoord( evMove );\n            const moveOffset = ( isNonNullish( cursorValue ) ? moveCoord - cursorValue : undefined );\n            if ( axis.bounds.containsPoint( moveCoord ) && isDefined( moveOffset ) && abs( moveOffset ) <= grabDistance_LPX / axis.scale ) {\n                return {\n                    target,\n                    getMouseCursorClasses,\n                    handleHover: ( ) => hoveredRef?.set( true, true ),\n                    handleUnhover: ( ) => hoveredRef?.set( true, false ),\n                };\n            }\n            return null;\n        },\n        getDragHandler( evGrab: PaneMouseEvent ): Nullable<DragHandler> {\n            if ( evGrab.button === 0 ) {\n                const cursorValue = cursorCoord.v;\n                const grabCoord = getMouseCoord( evGrab );\n                const grabOffset = ( evGrab.pressCount > 1 ? 0 : isNonNullish( cursorValue ) ? grabCoord - cursorValue : undefined );\n                if ( axis.bounds.containsPoint( grabCoord ) && isDefined( grabOffset ) && abs( grabOffset ) <= grabDistance_LPX / axis.scale ) {\n                    return {\n                        target,\n                        getMouseCursorClasses,\n                        handleHover: ( ) => hoveredRef?.set( true, true ),\n                        handleUnhover: ( ) => hoveredRef?.set( true, false ),\n                        handleGrab: ( ) => cursorCoord.set( true, getMouseCoord( evGrab ) - grabOffset ),\n                        handleDrag: evDrag => cursorCoord.set( true, getMouseCoord( evDrag ) - grabOffset ),\n                        handleUngrab: evUngrab => cursorCoord.set( false, getMouseCoord( evUngrab ) - grabOffset )\n                    };\n                }\n            }\n            return null;\n        },\n    };\n}\n\nexport function getMouseAxisFrac1D( axis: Axis1D, axisType: X | Y, ev: PaneMouseEvent ): number {\n    return axis.viewport_PX.valueToFrac( ev.loc_PX[ axisType ] );\n}\n\nexport function getMouseAxisCoord1D( axis: Axis1D, axisType: X | Y, ev: PaneMouseEvent ): number {\n    const frac = getMouseAxisFrac1D( axis, axisType, ev );\n    return axis.bounds.fracToValue( frac );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { ActivityListenable, ActivityListenableSet, Disposer, DisposerGroup, doTxn, Interval1D, Interval2D, newImmutableList, Nullable, Point2D, trunc, X, x, Y, y } from '@metsci/gleam-util';\nimport { frozenSupplier } from '../util';\nimport { attachAxisViewportUpdater1D, Axis1D, PSEUDOWHEEL_STEP_LPX, ZOOM_STEP_FACTOR } from './axis1d';\nimport { DragHandler, HoverHandler, InputHandler, Pane, PaneMouseEvent, WheelHandler } from './pane';\n\n/**\n * **NOTE:** This interface is defined *partly* in terms of *logical* pixels -- unlike\n * the bulk of the rest of the library, which uses physical pixels. Implementations of\n * this interface are responsible for conversion between logical and physical pixels.\n */\nexport class Axis2D {\n    readonly x: Axis1D;\n    readonly y: Axis1D;\n    readonly changes: ActivityListenable;\n\n    constructor( x: Axis1D, y: Axis1D ) {\n        this.x = x;\n        this.y = y;\n        this.changes = new ActivityListenableSet( this.x.changes, this.y.changes );\n    }\n\n    get [X]( ): Axis1D {\n        return this.x;\n    }\n\n    get [Y]( ): Axis1D {\n        return this.y;\n    }\n\n    get bounds( ): Interval2D {\n        return Interval2D.fromXy( this.x.bounds, this.y.bounds );\n    }\n\n    /**\n     * *Logical* pixels per axis unit.\n     */\n    get scale( ): Point2D {\n        return new Point2D( this.x.scale, this.y.scale );\n    }\n\n    reconstrain( ongoing: boolean ): void {\n        doTxn( ( ) => {\n            this.x.reconstrain( ongoing );\n            this.y.reconstrain( ongoing );\n        } );\n    }\n\n    set( ongoing: boolean, bounds: Interval2D ): void;\n    set( ongoing: boolean, xBounds: Interval1D, yBounds: Interval1D ): void;\n    set( ongoing: boolean, frac: Point2D | [number,number], coord: Point2D | [number,number], scale: Point2D | [number,number] ): void;\n    set( ongoing: boolean, xMin: number, xMax: number, yMin: number, yMax: number ): void;\n    set( ongoing: boolean, a: any, b?: any, c?: any, d?: any ): void {\n        if ( d !== undefined ) {\n            const xMin = a as number;\n            const xMax = b as number;\n            const yMin = c as number;\n            const yMax = d as number;\n            doTxn( ( ) => {\n                this.x.set( ongoing, xMin, xMax );\n                this.y.set( ongoing, yMin, yMax );\n\n                // In some cases the order of x.set and y.set calls matters (e.g. with a\n                // scale-ratio lock). If giving y.set the final word zoomed us in too far,\n                // give x.set the final word instead.\n                if ( this.x.bounds.span < 0.95*( xMax - xMin ) || this.y.bounds.span < 0.95*( yMax - yMin ) ) {\n                    this.x.set( ongoing, xMin, xMax );\n                }\n            } );\n        }\n        else if ( c !== undefined ) {\n            const frac = a as Point2D | [number,number];\n            const coord = b as Point2D | [number,number];\n            const scale = c as Point2D | [number,number];\n            doTxn( ( ) => {\n                this.x.set( ongoing, x( frac ), x( coord ), x( scale ) );\n                this.y.set( ongoing, y( frac ), y( coord ), y( scale ) );\n            } );\n        }\n        else if ( b !== undefined ) {\n            const xBounds = a as Interval1D;\n            const yBounds = b as Interval1D;\n            doTxn( ( ) => {\n                this.x.set( ongoing, xBounds );\n                this.y.set( ongoing, yBounds );\n\n                // In some cases the order of x.set and y.set calls matters (e.g. with a\n                // scale-ratio lock). If giving y.set the final word zoomed us in too far,\n                // give x.set the final word instead.\n                if ( this.x.bounds.span < 0.95*xBounds.span || this.y.bounds.span < 0.95*yBounds.span ) {\n                    this.x.set( ongoing, xBounds );\n                }\n            } );\n        }\n        else {\n            const bounds = a as Interval2D;\n            doTxn( ( ) => {\n                this.x.set( ongoing, bounds.x );\n                this.y.set( ongoing, bounds.y );\n\n                // In some cases the order of x.set and y.set calls matters (e.g. with a\n                // scale-ratio lock). If giving y.set the final word zoomed us in too far,\n                // give x.set the final word instead.\n                if ( this.x.bounds.span < 0.95*bounds.x.span || this.y.bounds.span < 0.95*bounds.y.span ) {\n                    this.x.set( ongoing, bounds.x );\n                }\n            } );\n        }\n    }\n\n    pan( ongoing: boolean, frac: Point2D | [number,number], coord: Point2D | [number,number] ): void {\n        doTxn( ( ) => {\n            this.x.pan( ongoing, x( frac ), x( coord ) );\n            this.y.pan( ongoing, y( frac ), y( coord ) );\n        } );\n    }\n\n    get viewport_PX( ): Interval2D {\n        return Interval2D.fromXy( this.x.viewport_PX, this.y.viewport_PX );\n    }\n}\n\n/**\n * Keep axis viewports set according to the given pane.\n *\n * The pane arg is called `centerPane` because you usually want to pass the pane in which\n * the *plot contents* (not the axis labels) are drawn. If you have a reason to pass a pane\n * other than the plot-center pane, that is fine -- the arg name is chosen to make\n * misunderstandings less likely in the common case.\n */\nexport function attachAxisViewportUpdater2D( centerPane: Pane, axis: Axis2D ): Disposer {\n    const disposers = new DisposerGroup( );\n    doTxn( ( ) => {\n        disposers.add( attachAxisViewportUpdater1D( centerPane, axis.x, X ) );\n        disposers.add( attachAxisViewportUpdater1D( centerPane, axis.y, Y ) );\n    } );\n    return disposers;\n}\n\nexport function attachAxisInputHandlers2D( mousePane: Pane, xyAxis: Axis2D ): Disposer;\nexport function attachAxisInputHandlers2D( mousePane: Pane, xAxis: Axis1D, yAxis: Axis1D ): Disposer;\nexport function attachAxisInputHandlers2D( mousePane: Pane, arg0: any, arg1?: any ): Disposer {\n    const axis = xyAxisArg( arg0, arg1 );\n    return mousePane.addInputHandler( createAxisZoomerAndPanner2D( axis ) );\n}\n\nexport function xyAxisArg( xyAxis: Axis2D ): Axis2D;\nexport function xyAxisArg( xAxis: Axis1D, yAxis: Axis1D ): Axis2D;\nexport function xyAxisArg( arg0: any, arg1?: any ): Axis2D {\n    if ( arg1 === undefined ) {\n        return ( arg0 as Axis2D );\n    }\n    else {\n        const x = arg0 as Axis1D;\n        const y = arg1 as Axis1D;\n        return new Axis2D( x, y );\n    }\n}\n\nexport function createAxisZoomerAndPanner2D( axis: Axis2D ): InputHandler {\n    return {\n        getHoverHandler( evMove: PaneMouseEvent ): Nullable<HoverHandler> {\n            if ( evMove.modifiers.ctrl ) {\n                return createHoverZoomer( axis );\n            }\n            else {\n                return createHoverPanner( axis );\n            }\n        },\n        getDragHandler( evGrab: PaneMouseEvent ): Nullable<DragHandler> {\n            if ( evGrab.button === 1 || ( evGrab.button === 0 && evGrab.modifiers.ctrl ) ) {\n                return createDragZoomer( axis, evGrab );\n            }\n            else if ( evGrab.button === 0 ) {\n                return createDragPanner( axis, evGrab );\n            }\n            else {\n                return null;\n            }\n        },\n        getWheelHandler( evGrabOrWheel: PaneMouseEvent ): Nullable<WheelHandler> {\n            // Wheel with modifiers may do other things (e.g. browser zoom)\n            if ( evGrabOrWheel.modifiers.isEmpty( ) ) {\n                return createWheelZoomer( axis );\n            }\n            else {\n                return null;\n            }\n        },\n    };\n}\n\nfunction createHoverPanner( axis: Axis2D ): HoverHandler {\n    return {\n        target: newImmutableList( [ 'Pan2D', axis ] ),\n        getMouseCursorClasses: frozenSupplier( [ 'xy-axis-panner' ] ),\n    };\n}\n\nfunction createHoverZoomer( axis: Axis2D ): HoverHandler {\n    return {\n        target: newImmutableList( [ 'Zoom2D', axis ] ),\n        getMouseCursorClasses: frozenSupplier( [ 'xy-axis-zoomer' ] ),\n    };\n}\n\nfunction createDragPanner( axis: Axis2D, evGrab: PaneMouseEvent ): DragHandler {\n    const grabFrac = getMouseAxisFrac2D( axis, evGrab );\n    const grabCoord = axis.bounds.fracToValue( grabFrac );\n    return {\n        target: newImmutableList( [ 'Pan2D', axis ] ),\n        getMouseCursorClasses: frozenSupplier( [ 'xy-axis-panner' ] ),\n        handleDrag( evDrag: PaneMouseEvent ): void {\n            const mouseFrac = getMouseAxisFrac2D( axis, evDrag );\n            axis.pan( true, mouseFrac, grabCoord );\n        },\n        handleUngrab( evUngrab: PaneMouseEvent ): void {\n            const mouseFrac = getMouseAxisFrac2D( axis, evUngrab );\n            axis.pan( false, mouseFrac, grabCoord );\n        }\n    };\n}\n\nfunction createDragZoomer( axis: Axis2D, evGrab: PaneMouseEvent ): DragHandler {\n    const grabFrac = getMouseAxisFrac2D( axis, evGrab );\n    const grabCoord = axis.bounds.fracToValue( grabFrac );\n    const grabScale = axis.scale;\n    return {\n        target: newImmutableList( [ 'Zoom2D', axis ] ),\n        getMouseCursorClasses: frozenSupplier( [ 'xy-axis-zoomer' ] ),\n        handleDrag( evDrag: PaneMouseEvent ): void {\n            const wheelSteps = -1 * trunc( ( evDrag.loc_PX.y - evGrab.loc_PX.y ) / ( PSEUDOWHEEL_STEP_LPX * evGrab.dpr ) );\n            const scale = grabScale.times( 1.0 / Math.pow( ZOOM_STEP_FACTOR, wheelSteps ) );\n            axis.set( true, grabFrac, grabCoord, scale );\n        },\n        handleUngrab( evUngrab: PaneMouseEvent ): void {\n            const wheelSteps = -1 * trunc( ( evUngrab.loc_PX.y - evGrab.loc_PX.y ) / ( PSEUDOWHEEL_STEP_LPX * evGrab.dpr ) );\n            const scale = grabScale.times( 1.0 / Math.pow( ZOOM_STEP_FACTOR, wheelSteps ) );\n            axis.set( false, grabFrac, grabCoord, scale );\n        }\n    };\n}\n\nfunction createWheelZoomer( axis: Axis2D ): WheelHandler {\n    return {\n        target: newImmutableList( [ 'Zoom2D', axis ] ),\n        handleWheel( evWheel: PaneMouseEvent ): void {\n            const frac = getMouseAxisFrac2D( axis, evWheel );\n            const coord = axis.bounds.fracToValue( frac );\n            const scale = axis.scale.times( 1.0 / Math.pow( ZOOM_STEP_FACTOR, evWheel.wheelSteps ) );\n            axis.set( false, frac, coord, scale );\n        },\n    };\n}\n\nexport function getMouseAxisFrac2D( axis: Axis2D, ev: PaneMouseEvent ): Point2D {\n    return new Point2D(\n        axis.x.viewport_PX.valueToFrac( ev.loc_PX.x ),\n        axis.y.viewport_PX.valueToFrac( ev.loc_PX.y ),\n    );\n}\n\nexport function getMouseAxisCoord2D( axis: Axis2D, ev: PaneMouseEvent ): Point2D {\n    const frac = getMouseAxisFrac2D( axis, ev );\n    return axis.bounds.fracToValue( frac );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { get, Nullable, StringTuple } from '@metsci/gleam-util';\nimport { ColorTablePopulator, GL, ShaderProgram, ShaderSource } from '../support';\n\nconst { floor } = Math;\n\nexport interface ProgramInit<H> {\n    initProgram( gl: WebGLRenderingContext, program: Nullable<WebGLProgram> ): H;\n}\n\nexport interface TextureMeta {\n    componentType: number;\n    componentsPerPixel: number;\n    pixelsWide: number;\n    pixelsHigh: number;\n}\n\nexport interface TextureInfo<M extends TextureMeta = TextureMeta> {\n    meta: M;\n    texture: Nullable<WebGLTexture>;\n}\n\nexport interface TextureInit<M extends TextureMeta = TextureMeta> {\n    ( gl: WebGLRenderingContext, target: number ): M;\n}\n\n/**\n * Convenience fn that calls `gl.texImage2D()` and then returns a `TextureMeta`\n * representation of the texture.\n *\n * Supports only the common case where `level` is zero and `format` is a WebGL1\n * format. For other cases, call `gl.texImage2D()` directly instead of calling\n * this fn.\n */\nexport function texImage2D( gl: WebGLRenderingContext, target: number, format: number, type: number, data: ImageData ): TextureMeta;\nexport function texImage2D<X extends object>( gl: WebGLRenderingContext, target: number, format: number, type: number, data: ImageData, metaExtra: X ): TextureMeta & X;\nexport function texImage2D( gl: WebGLRenderingContext, target: number, format: number, type: number, data: ImageData, metaExtra?: object ): TextureMeta {\n    const componentsPerPixel = get( ( ) => {\n        switch ( format ) {\n            case GL.ALPHA: return 1;\n            case GL.LUMINANCE: return 1;\n            case GL.LUMINANCE_ALPHA: return 2;\n            case GL.RGB: return 3;\n            case GL.RGBA: return 4;\n        }\n        throw new Error( `Unrecognized pixel format: ${format}` );\n    } );\n    gl.texImage2D( target, 0, format, format, type, data );\n    return {\n        componentType: type,\n        componentsPerPixel,\n        pixelsWide: data.width,\n        pixelsHigh: data.height,\n        ...( metaExtra ?? {} ),\n    };\n}\n\nexport interface BufferMeta {\n    componentType: number;\n    componentsPerUnit: number;\n    unitCount: number;\n}\n\nexport interface BufferInfo<M extends BufferMeta = BufferMeta> {\n    meta: M;\n    buffer: Nullable<WebGLBuffer>;\n}\n\nexport interface BufferInit<M extends BufferMeta = BufferMeta> {\n    ( gl: WebGLRenderingContext, target: number ): M;\n}\n\n/**\n * Convenience fn that calls `gl.bufferData()` and then returns a `BufferMeta`\n * representation of the buffer.\n */\nexport function bufferDataI8( gl: WebGLRenderingContext, target: number, data: Int8Array, componentsPerUnit: number, usage: number = GL.STATIC_DRAW ): BufferMeta {\n    return doBufferData( gl, target, data, GL.BYTE, componentsPerUnit, usage );\n}\n\n/**\n * Convenience fn that calls `gl.bufferData()` and then returns a `BufferMeta`\n * representation of the buffer.\n */\nexport function bufferDataU8( gl: WebGLRenderingContext, target: number, data: Uint8Array | Uint8ClampedArray, componentsPerUnit: number, usage: number = GL.STATIC_DRAW ): BufferMeta {\n    return doBufferData( gl, target, data, GL.UNSIGNED_BYTE, componentsPerUnit, usage );\n}\n\n/**\n * Convenience fn that calls `gl.bufferData()` and then returns a `BufferMeta`\n * representation of the buffer.\n */\nexport function bufferDataI16( gl: WebGLRenderingContext, target: number, data: Int16Array, componentsPerUnit: number, usage: number = GL.STATIC_DRAW ): BufferMeta {\n    return doBufferData( gl, target, data, GL.SHORT, componentsPerUnit, usage );\n}\n\n/**\n * Convenience fn that calls `gl.bufferData()` and then returns a `BufferMeta`\n * representation of the buffer.\n */\nexport function bufferDataU16( gl: WebGLRenderingContext, target: number, data: Uint16Array, componentsPerUnit: number, usage: number = GL.STATIC_DRAW ): BufferMeta {\n    return doBufferData( gl, target, data, GL.UNSIGNED_SHORT, componentsPerUnit, usage );\n}\n\n/**\n * Convenience fn that calls `gl.bufferData()` and then returns a `BufferMeta`\n * representation of the buffer.\n */\nexport function bufferDataF32( gl: WebGLRenderingContext, target: number, data: Float32Array, componentsPerUnit: number, usage: number = GL.STATIC_DRAW ): BufferMeta {\n    return doBufferData( gl, target, data, GL.FLOAT, componentsPerUnit, usage );\n}\n\nfunction doBufferData( gl: WebGLRenderingContext, target: number, data: BufferSource & { length: number }, componentType: number, componentsPerUnit: number, usage: number ): BufferMeta {\n    gl.bufferData( target, data, usage );\n    return { componentType, componentsPerUnit, unitCount: floor( data.length / componentsPerUnit ) };\n}\n\n/**\n * Convenience fn for `gl.bindBuffer()` and then `gl.vertexAttribPointer()`, using\n * the vertex attribute's buffer, component type, etc. from the given `BufferInfo`.\n */\nexport function vertexAttribPointer( gl: WebGLRenderingContext, attrib: number, buffer: BufferInfo, normalized: boolean = false, stride_BYTES: number = 0, offset_BYTES: number = 0 ) {\n    gl.bindBuffer( GL.ARRAY_BUFFER, buffer.buffer );\n    gl.vertexAttribPointer( attrib, buffer.meta.componentsPerUnit, buffer.meta.componentType, normalized, stride_BYTES, offset_BYTES );\n}\n\nexport interface Context {\n    readonly gl: WebGLRenderingContext;\n\n    /**\n     * The number of frames that have been painted since this Context was\n     * created. Does not reset on context loss/restore.\n     */\n    readonly frameNum: number;\n\n    /**\n     * On context-restore, the value of glIncarnation will change to a new\n     * value that is distinct (in a === sense) from its previous values. It\n     * can be used to determine when device resources need to be recreated.\n     *\n     * The value of glIncarnation can only change during event dispatch --\n     * it will not change while rendering code is being executed.\n     *\n     * Rendering code usually should NOT bother checking gl.isContextLost()\n     * -- there's no way to check often enough to catch everything, and the\n     * subsequent gl call wouldn't be atomic with the check anyway.\n     *\n     * However, rendering code that reuses device resources SHOULD check\n     * whether the value of glIncarnation has changed since the device\n     * resources were created -- and if it has changed, the old resources\n     * should be abandoned (no need to delete them) and new ones should be\n     * created.\n     */\n    readonly glIncarnation: object;\n\n    /**\n     * Returns a unique string associated with `obj`. Subsequent calls with\n     * the same `obj` will return the same string. The returned string is\n     * suitable for embedding in the `key` argument to `getTexture()` or\n     * `getBuffer()`.\n     *\n     * Intended for cases where a painter needs its own resource namespace.\n     * E.g. ``context.getBuffer( `${context.getObjectKey(this)}.coords` )``\n     *\n     * Passing an object to this method will not affect its eligibility for\n     * garbage collection.\n     */\n    getObjectKey( obj: object ): string;\n\n    /**\n     * Returned value is good for the duration of the current frame. Don't\n     * use it beyond that. If you need it again on a future frame, call\n     * this method again.\n     */\n    getProgram<U extends StringTuple, A extends StringTuple>( source: ShaderSource<U,A> ): ShaderProgram<U,A>;\n\n    /**\n     * Returned value is good for the duration of the current frame. Don't\n     * use it beyond that. If you need it again on a future frame, call\n     * this method again.\n     *\n     * If `key` has a cached value but the incoming `inputs` differs from\n     * the cached `inputs`, `init` will be called and the cached value will\n     * be overwritten. `ValueObject` equality is used to compare elements\n     * of the input arrays.\n     *\n     * Intended usage is for no two call sites to use the same `key`. That\n     * condition is not enforced -- but if it is violated, this method may\n     * return a `TextureInfo` whose `meta` field is not actually of type `M`.\n     */\n    getTexture<M extends TextureMeta>( key: string, inputs: ReadonlyArray<unknown>, init: TextureInit<M> ): TextureInfo<M>;\n\n    /**\n     * Returned value is good for the duration of the current frame. Don't\n     * use it beyond that. If you need it again on a future frame, call\n     * this method again.\n     *\n     * If `key` has a cached value but the incoming `inputs` differs from\n     * the cached `inputs`, `init` will be called and the cached value will\n     * be overwritten. `ValueObject` equality is used to compare elements\n     * of the input arrays.\n     *\n     * Intended usage is for no two call sites to use the same `key`. That\n     * condition is not enforced -- but if it is violated, this method may\n     * return a `BufferInfo` whose `meta` field is not actually of type `M`.\n     */\n    getBuffer<M extends BufferMeta>( key: string, inputs: ReadonlyArray<unknown>, init: BufferInit<M> ): BufferInfo<M>;\n\n    getColorTable( key: string ): ColorTablePopulator;\n    putColorTable( key: string, value: ColorTablePopulator ): void;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Interval2D, LinkedSet, Size2D } from '@metsci/gleam-util';\nimport { Layout, LayoutPrepFn, Pane } from '../core';\nimport { createDomPeer, cssFloat, currentDpr, PeerType, StyleProp } from '../support';\n\n/**\n * Simple layout for panes that have no child panes.\n */\n// Avoid a circular dependency with Pane, by not extending LayoutBase\nexport class ChildlessLayout implements Layout {\n    readonly peer = createDomPeer( 'childless-layout', this, PeerType.LAYOUT );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly prefWidth_LPX = StyleProp.create( this.style, '--pref-width-px', cssFloat, 0 );\n    readonly prefHeight_LPX = StyleProp.create( this.style, '--pref-height-px', cssFloat, 0 );\n\n    readonly prepFns = new LinkedSet<LayoutPrepFn>( );\n\n    computePrefSize_PX( ): Size2D {\n        const dpr = currentDpr( this );\n        const width_PX = this.prefWidth_LPX.get( ) * dpr;\n        const height_PX = this.prefHeight_LPX.get( ) * dpr;\n        return new Size2D( width_PX, height_PX );\n    }\n\n    computeChildViewports_PX( ): Map<Pane,Interval2D> {\n        return new Map( );\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { equal, Interval2D, Nullable, RefBasic, tripleEquals } from '@metsci/gleam-util';\nimport { createDomPeer, cssColor, cssFloat, currentDpr, disableBlending, enablePremultipliedAlphaBlending, ensureHostBufferCapacity, GL, glUniformRgba, PeerType, pushBufferToDevice_BYTES, putAlignedBox, StyleProp, ValueBase2 } from '../../support';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\n// Avoid circular dependency on ../../core/index\nimport { Context } from '../../core/context';\nimport { Painter } from '../../core/painter';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    uniformNames: [ 'RGBA' ] as const,\n    attribNames: [ 'inCoords' ] as const,\n} );\n\nexport class CoordsInputs extends ValueBase2 {\n    constructor(\n        readonly viewport_PX: Interval2D,\n        readonly width_PX: number,\n    ) {\n        super( );\n    }\n}\n\nexport class BorderPainter implements Painter {\n    readonly peer = createDomPeer( 'border-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly color = StyleProp.create( this.style, '--color', cssColor, 'rgb(0,0,0)' );\n    readonly width_LPX = StyleProp.create( this.style, '--width-px', cssFloat, 0 );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    /**\n     * Coords: x_NDC, y_NDC\n     */\n    protected hCoords: Float32Array;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsBytes: number;\n    protected dCoordsInputs: Nullable<CoordsInputs>;\n\n    constructor( ) {\n        this.hCoords = new Float32Array( 0 );\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const color = this.color.get( );\n        const width_LPX = this.width_LPX.get( );\n\n        const dpr = currentDpr( this );\n        const width_PX = Math.round( width_LPX * dpr );\n\n        if ( width_PX > 0 && color.a > 0 ) {\n            const gl = context.gl;\n\n            // Reset device resources on context reincarnation\n            if ( context.glIncarnation !== this.glIncarnation ) {\n                this.glIncarnation = context.glIncarnation;\n                this.dCoords = gl.createBuffer( );\n                this.dCoordsBytes = -1;\n                this.dCoordsInputs = null;\n            }\n\n            // Leave this binding in place for the whole method\n            gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n            // Gather coords inputs\n            const numVertices = 24;\n            const coordsInputs = new CoordsInputs( viewport_PX, width_PX );\n\n            // Repopulate device resources, if inputs have changed\n            if ( !equal( coordsInputs, this.dCoordsInputs ) ) {\n                const numCoords = 2 * numVertices;\n                this.hCoords = ensureHostBufferCapacity( this.hCoords, numCoords );\n\n                const w_NDC = 2*width_PX / viewport_PX.x.span;\n                const h_NDC = 2*width_PX / viewport_PX.y.span;\n\n                let i = 0;\n\n                i = putAlignedBox( this.hCoords, i, -1+w_NDC, +1, +1-h_NDC, +1 );\n                i = putAlignedBox( this.hCoords, i, +1-w_NDC, +1, -1, +1-h_NDC );\n                i = putAlignedBox( this.hCoords, i, -1, +1-w_NDC, -1, -1+h_NDC );\n                i = putAlignedBox( this.hCoords, i, -1, -1+w_NDC, -1+h_NDC, +1 );\n\n                //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                this.dCoordsBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dCoordsBytes, this.hCoords, numCoords );\n                this.dCoordsInputs = coordsInputs;\n            }\n\n            // Render from device resources\n            if ( numVertices >= 3 ) {\n                if ( color.a < 1 ) {\n                    enablePremultipliedAlphaBlending( gl );\n                }\n                else {\n                    disableBlending( gl );\n                }\n\n                const { program, attribs, uniforms } = context.getProgram( PROG_SOURCE );\n                gl.useProgram( program );\n                gl.enableVertexAttribArray( attribs.inCoords );\n                try {\n                    //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                    gl.vertexAttribPointer( attribs.inCoords, 2, GL.FLOAT, false, 0, 0 );\n\n                    glUniformRgba( gl, uniforms.RGBA, color );\n                    gl.drawArrays( GL.TRIANGLES, 0, numVertices );\n                }\n                finally {\n                    gl.disableVertexAttribArray( attribs.inCoords );\n                    gl.useProgram( null );\n                }\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Interval2D, Nullable, RefBasic, tripleEquals } from '@metsci/gleam-util';\nimport { createDomPeer, cssColor, disableBlending, enablePremultipliedAlphaBlending, GL, glUniformRgba, PeerType, putAlignedBox, StyleProp } from '../../support';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\n// Avoid circular dependency on ../../core/index\nimport { Context } from '../../core/context';\nimport { Painter } from '../../core/painter';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    uniformNames: [ 'RGBA' ] as const,\n    attribNames: [ 'inCoords' ] as const,\n} );\n\nexport class FillPainter implements Painter {\n    readonly peer = createDomPeer( 'fill-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly color = StyleProp.create( this.style, '--color', cssColor, 'rgba( 255,255,255, 0 )' );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    /**\n     * Coords: x_NDC, y_NDC\n     */\n    protected hCoords: Float32Array;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsValid: boolean;\n\n    constructor( ) {\n        this.hCoords = new Float32Array( 12 );\n        putAlignedBox( this.hCoords, 0, -1, +1, -1, +1 );\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsValid = false;\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const color = this.color.get( );\n        if ( color.a > 0 ) {\n            const gl = context.gl;\n\n            // Reset device resources on context reincarnation\n            if ( context.glIncarnation !== this.glIncarnation ) {\n                this.glIncarnation = context.glIncarnation;\n                this.dCoords = gl.createBuffer( );\n                this.dCoordsValid = false;\n            }\n\n            // Leave these bindings in place for the whole method\n            gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n            // Repopulate device coords, if necessary\n            if ( !this.dCoordsValid ) {\n                //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                gl.bufferData( GL.ARRAY_BUFFER, this.hCoords, GL.STATIC_DRAW );\n                this.dCoordsValid = true;\n            }\n\n            if ( color.a < 1 ) {\n                enablePremultipliedAlphaBlending( gl );\n            }\n            else {\n                disableBlending( gl );\n            }\n\n            const { program, attribs, uniforms } = context.getProgram( PROG_SOURCE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inCoords );\n            try {\n                //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                gl.vertexAttribPointer( attribs.inCoords, 2, GL.FLOAT, false, 0, 0 );\n\n                glUniformRgba( gl, uniforms.RGBA, color );\n\n                gl.drawArrays( GL.TRIANGLES, 0, 6 );\n            }\n            finally {\n                gl.disableVertexAttribArray( attribs.inCoords );\n                gl.useProgram( null );\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsValid = false;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { appendChild, arrayAllEqual, arrayRemoveFirst, arrayRemoveLast, arraySortStable, Consumer, Disposer, DisposerGroup, DisposerGroupMap, equal, FireableListenable, FireableNotifier, IMMEDIATE, ImmutableSet, Interval2D, isDefined, isNonNullish, isNullish, isNumber, LinkedSet, mapAdd, mapRequire, mapSetIfAbsent, newImmutableSet, NOOP, NotifierBasic, Nullable, Point2D, Predicate, ReadableRef, Ref, RefBasic, requireNonNullish, run, Runnable, Size2D, StringTuple, Supplier } from '@metsci/gleam-util';\nimport { ChildlessLayout } from '../layouts/childlessLayout';\nimport { BorderPainter } from '../painters/borderPainter';\nimport { FillPainter } from '../painters/fillPainter';\nimport { attachCanvasResizeListener, attachSubtreeRestyleListener, CET_L01, ColorTablePopulator, COLOR_TABLE_INVERTER, createDomPeer, currentDpr, DomPeer, drawingBufferBounds, getModifiers, getMouseLoc_PX, GL, glScissor, glViewport, isDomPeer, isStyleProp, isUnboundStyleProp, MAGMA, ModifierSet, PeerType, setCssClassPresent, ShaderProgram, ShaderSource } from '../support';\nimport { ArrayWithZIndices, attachEventListener, isfn, isobj } from '../util';\nimport { mergePreSortedLists, NotifierTree } from '../util/notifierTree';\nimport { BufferInfo, BufferInit, BufferMeta, Context, TextureInfo, TextureInit, TextureMeta } from './context';\nimport { Layout } from './layout';\nimport { Painter } from './painter';\n\nconst { max, min } = Math;\n\nexport class PaneMouseEvent {\n    constructor(\n        readonly dpr: number,\n        readonly loc_PX: Point2D,\n        readonly modifiers: ModifierSet,\n        readonly button: Nullable<number> = null,\n        readonly pressCount: number = 0,\n        readonly wheelSteps: number = 0,\n    ) {\n    }\n}\n\nexport class PaneKeyEvent {\n    constructor(\n        readonly dpr: number,\n        readonly key: string,\n        readonly keysDown: ImmutableSet<string>,\n    ) {\n    }\n}\n\nexport function findPaneById( id: string ): Nullable<Pane> {\n    return ( document.getElementById( id ) as any )?.pane ?? null;\n}\n\nexport function* findPanes( rootPane: Pane, selectors: string ): Iterable<Pane> {\n    for ( const element of rootPane.peer.querySelectorAll( selectors ) ) {\n        const pane = ( element as any ).pane;\n        if ( pane ) {\n            yield pane;\n        }\n    }\n}\n\nexport function findFirstPane( basePane: Pane, selectors: string ): Nullable<Pane> {\n    for ( const pane of findPanes( basePane, selectors ) ) {\n        return pane;\n    }\n    return null;\n}\n\nexport interface PaintFn {\n    ( context: Context ): void;\n}\n\nexport interface InputHandler {\n    getHoverHandler?( evMove: PaneMouseEvent ): Nullable<HoverHandler>;\n    getDragHandler?( evGrab: PaneMouseEvent ): Nullable<DragHandler>;\n    getWheelHandler?( evWheel: PaneMouseEvent ): Nullable<WheelHandler>;\n    getKeyHandler?( evGrab: PaneMouseEvent ): Nullable<KeyHandler>;\n}\n\nexport function maskedInputHandler( inputHandler: InputHandler, mask: Predicate<PaneMouseEvent> ): InputHandler {\n    return {\n        getHoverHandler( evMove: PaneMouseEvent ): Nullable<HoverHandler> {\n            if ( inputHandler.getHoverHandler && mask( evMove ) ) {\n                return inputHandler.getHoverHandler( evMove );\n            }\n            return null;\n        },\n        getDragHandler( evGrab: PaneMouseEvent ): Nullable<DragHandler> {\n            if ( inputHandler.getDragHandler && mask( evGrab ) ) {\n                return inputHandler.getDragHandler( evGrab );\n            }\n            return null;\n        },\n        getWheelHandler( evWheel: PaneMouseEvent ): Nullable<WheelHandler> {\n            if ( inputHandler.getWheelHandler && mask( evWheel ) ) {\n                return inputHandler.getWheelHandler( evWheel );\n            }\n            return null;\n        },\n        getKeyHandler( evGrab: PaneMouseEvent ): Nullable<KeyHandler> {\n            if ( inputHandler.getKeyHandler && mask( evGrab ) ) {\n                return inputHandler.getKeyHandler( evGrab );\n            }\n            return null;\n        },\n    };\n}\n\nexport interface HoverHandler {\n    /**\n     * A sequence of handlers with the same `target` are considered a single\n     * continuous hover. `handleHover` is called when such a sequence starts,\n     * and `handleUnhover` is called when the sequence ends. `target` objects\n     * are checked for equality according to `ValueObject` semantics.\n     */\n    readonly target: unknown;\n\n    getMouseCursorClasses?( ): ReadonlyArray<string>;\n    handleHover?( ): void;\n    handleMove?( evMove: PaneMouseEvent ): void;\n    handleUnhover?( ): void;\n}\n\nexport interface DragHandler extends HoverHandler {\n    handleGrab?( ): void;\n    handleDrag?( evDrag: PaneMouseEvent ): void;\n    handleUngrab?( evUngrab: PaneMouseEvent ): void;\n}\n\nexport interface WheelHandler {\n    /**\n     * Passed to input spectators. The wheel is treated as separate from\n     * hover/drag and focus, and there are no begin/end wheel notifications\n     * analogous to hover/unhover, grab/ungrab, and focus/unfocus.\n     */\n    readonly target: unknown;\n\n    handleWheel?( evWheel: PaneMouseEvent ): void;\n}\n\nexport interface KeyHandler {\n    /**\n     * A sequence of handlers with the same `target` are considered a single\n     * continuous focus. `handleFocus` is called when such a sequence starts,\n     * and `handleUnfocus` is called when the sequence ends. `target` objects\n     * are checked for equality according to `ValueObject` semantics.\n     */\n    readonly target: unknown;\n\n    handleFocus?( ): void;\n    handleKeyPress?( evPress: PaneKeyEvent ): void;\n    handleKeyRelease?( evRelease: PaneKeyEvent ): void;\n    handleUnfocus?( ): void;\n}\n\nconst NOOP_TARGET: unknown = Object.freeze( [ 'NOOP' ] );\nconst NOOP_HOVER_HANDLER: HoverHandler = Object.freeze( { target: NOOP_TARGET } );\nconst NOOP_DRAG_HANDLER: DragHandler = Object.freeze( { target: NOOP_TARGET } );\nconst NOOP_KEY_HANDLER: KeyHandler = Object.freeze( { target: NOOP_TARGET } );\nconst NOOP_WHEEL_HANDLER: WheelHandler = Object.freeze( { target: NOOP_TARGET } );\n\nexport interface InputSpectator {\n    handleHover?( target: unknown, evEnter: PaneMouseEvent ): void;\n    handleMove?( target: unknown, evHover: PaneMouseEvent ): void;\n    handleUnhover?( target: unknown, evExit: PaneMouseEvent ): void;\n\n    handleGrab?( target: unknown, evGrab: PaneMouseEvent ): void;\n    handleDrag?( target: unknown, evDrag: PaneMouseEvent ): void;\n    handleUngrab?( target: unknown, evUngrab: PaneMouseEvent ): void;\n\n    handleWheel?( target: unknown, evWheel: PaneMouseEvent ): void;\n\n    handleFocus?( target: unknown ): void;\n    handleKeyPress?( target: unknown, evPress: PaneKeyEvent ): void;\n    handleKeyRelease?( target: unknown, evRelease: PaneKeyEvent ): void;\n    handleUnfocus?( target: unknown ): void;\n}\n\nexport function createHoverAndFocusRefs( pane: Pane ): [ ReadableRef<unknown>, ReadableRef<unknown> ] {\n    const hoverTargetRef = new RefBasic<unknown>( undefined, equal );\n    const focusTargetRef = new RefBasic<unknown>( undefined, equal );\n    attachHoverAndFocusRefs( pane, hoverTargetRef, focusTargetRef );\n    return [ hoverTargetRef, focusTargetRef ];\n}\n\nexport function attachHoverAndFocusRefs( pane: Pane, hoverTargetRef: Ref<unknown>, focusTargetRef: Ref<unknown> ): Disposer {\n    const disposers = new DisposerGroup( );\n    disposers.add( attachHoverRef( pane, hoverTargetRef ) );\n    disposers.add( attachFocusRef( pane, focusTargetRef ) );\n    return disposers;\n}\n\nexport function attachHoverRef( pane: Pane, hoverTargetRef: Ref<unknown> ): Disposer {\n    return pane.inputSpectators.add( {\n        handleHover: target => hoverTargetRef.set( true, target ),\n        handleUnhover: ( ) => hoverTargetRef.set( true, undefined ),\n    } );\n}\n\nexport function attachFocusRef( pane: Pane, focusTargetRef: Ref<unknown> ): Disposer {\n    return pane.inputSpectators.add( {\n        handleFocus: target => focusTargetRef.set( false, target ),\n        handleUnfocus: ( ) => focusTargetRef.set( false, undefined ),\n    } );\n}\n\nexport const PANE_SYMBOL = Symbol( '@@__GLEAM_PANE__@@' );\nexport function isPane( obj: any ): obj is Pane {\n    return !!( obj && typeof obj === 'object' && obj[ PANE_SYMBOL ] );\n}\n\nexport class Pane {\n    readonly [ PANE_SYMBOL ] = true;\n\n    readonly peer = createDomPeer( 'gleam-pane', this, PeerType.PANE );\n\n    /**\n     * CSS props to be consulted by this pane's parent layout when deciding\n     * where to place this pane.\n     */\n    readonly siteInParentPeer = createDomPeer( 'site-in-parent', this, PeerType.SITE );\n    readonly siteInParentStyle = window.getComputedStyle( this.siteInParentPeer );\n    readonly siteInParentOverrides: { [ key: string ]: Supplier<unknown> | undefined } = {};\n\n    readonly layout: Layout;\n    consumesInputEvents: boolean;\n\n    protected parent: Pane | null;\n    protected readonly children: LinkedSet<Pane>;\n\n    /**\n     * Actions to be run the next time a `Context` is current.\n     */\n    protected readonly pendingContextActions: Array<Consumer<Context>>;\n\n    /**\n     * Includes `PaintFn` instances for both painters and child-panes.\n     */\n    protected readonly paintFns: ArrayWithZIndices<PaintFn>;\n    protected readonly paintFnsByPainter: Map<Painter,PaintFn>;\n    protected readonly paintFnsByPane: Map<Pane,PaintFn>;\n\n    /**\n     * Includes handlers added via `addInputHandler()` and child panes added\n     * via `addPane()`.\n     */\n    protected readonly inputHandlers: ArrayWithZIndices<InputHandler>;\n\n    protected readonly disposersByCssClass: DisposerGroupMap<string>;\n    protected readonly disposersByPainter: DisposerGroupMap<Painter>;\n    protected readonly disposersByInputHandler: DisposerGroupMap<InputHandler>;\n    protected readonly disposersByInputSpectator: DisposerGroupMap<InputSpectator>;\n    protected readonly disposersByChild: DisposerGroupMap<Pane>;\n\n    protected visible: boolean;\n    protected prefSize_PX: Size2D;\n    protected viewport_PX: Interval2D;\n    protected scissor_PX: Interval2D;\n\n    readonly prefSizeReady: FireableNotifier<void>;\n    readonly layoutReady: NotifierTree<void>;\n    readonly inputSpectators: InputSpectatorTree;\n\n    /**\n     * Defined iff this pane is a top-level pane that is currently attached\n     * to a canvas. See `Pane.getCanvas()`.\n     */\n    protected canvas: HTMLCanvasElement | undefined;\n\n    /**\n     * See also `Pane.getCanvas()`.\n     */\n    readonly canvasChanged: NotifierTree<void>;\n\n    readonly background: FillPainter;\n    readonly border: BorderPainter;\n\n    constructor( layout: Layout = new ChildlessLayout( ) ) {\n        this.disposersByCssClass = new DisposerGroupMap( );\n        this.disposersByPainter = new DisposerGroupMap( );\n        this.disposersByInputHandler = new DisposerGroupMap( );\n        this.disposersByInputSpectator = new DisposerGroupMap( );\n        this.disposersByChild = new DisposerGroupMap( );\n\n        // TODO: Make this.layout mutable\n        appendChild( this.peer, this.siteInParentPeer );\n        appendChild( this.peer, layout.peer );\n        this.layout = layout;\n\n        this.consumesInputEvents = false;\n\n        this.parent = null;\n        this.children = new LinkedSet( );\n\n        this.pendingContextActions = new Array( );\n\n        this.paintFns = new ArrayWithZIndices( );\n        this.paintFnsByPainter = new Map( );\n        this.paintFnsByPane = new Map( );\n\n        this.inputHandlers = new ArrayWithZIndices( );\n\n        this.visible = true;\n        this.prefSize_PX = Size2D.ZERO;\n        this.viewport_PX = Interval2D.ZERO;\n        this.scissor_PX = this.viewport_PX;\n\n        this.prefSizeReady = new NotifierBasic( undefined );\n        this.layoutReady = new NotifierTree( undefined );\n        this.inputSpectators = new InputSpectatorTree( );\n\n        this.canvas = undefined;\n        this.canvasChanged = new NotifierTree( undefined );\n\n        this.background = new FillPainter( );\n        this.background.peer.classList.add( 'background' );\n        this.addPainter( this.background, -1e6 );\n\n        this.border = new BorderPainter( );\n        this.addPainter( this.border, +1e6 );\n\n        const debugPickFill = new FillPainter( );\n        debugPickFill.peer.classList.add( 'inspect-highlight' );\n        this.addPainter( debugPickFill, Number.POSITIVE_INFINITY );\n\n        const debugPickBorder = new BorderPainter( );\n        debugPickBorder.peer.classList.add( 'inspect-highlight' );\n        this.addPainter( debugPickBorder, Number.POSITIVE_INFINITY );\n    }\n\n    addCssClass( className: string ): Disposer {\n        const disposers = this.disposersByCssClass.get( className );\n        if ( !this.peer.classList.contains( className ) ) {\n            this.peer.classList.add( className );\n            disposers.add( ( ) => {\n                this.peer.classList.remove( className );\n            } );\n        }\n        return disposers;\n    }\n\n    removeCssClass( className: string ): void {\n        this.disposersByCssClass.disposeFor( className );\n    }\n\n    getParent( ): Pane | null {\n        return this.parent;\n    }\n\n    addPainter( painter: Painter, zIndex: number = 0 ): Disposer {\n        const disposers = this.disposersByPainter.get( painter );\n\n        disposers.add( appendChild( this.peer, painter.peer ) );\n\n        const paintFn = ( context: Context ): void => {\n            if ( painter.visible.v ) {\n                const gl = context.gl;\n                gl.enable( GL.SCISSOR_TEST );\n                glScissor( gl, this.scissor_PX );\n                glViewport( gl, this.viewport_PX );\n                painter.paint( context, this.viewport_PX );\n            }\n        };\n        disposers.add( mapAdd( this.paintFnsByPainter, painter, paintFn ) );\n        disposers.add( this.paintFns.add( paintFn, zIndex ) );\n\n        return disposers;\n    }\n\n    getPainters( ): Iterable<Painter> {\n        return this.paintFnsByPainter.keys( );\n    }\n\n    removePainter( painter: Painter ): void {\n        this.disposersByPainter.disposeFor( painter );\n    }\n\n    removeAllPainters( ): void {\n        this.disposersByPainter.dispose( );\n    }\n\n    hasPainter( painter: Painter ): boolean {\n        return this.paintFnsByPainter.has( painter );\n    }\n\n    getPainterZIndex( painter: Painter ): number {\n        const paintFn = mapRequire( this.paintFnsByPainter, painter );\n        return this.paintFns.getZIndex( paintFn );\n    }\n\n    setPainterZIndex( painter: Painter, zIndex: number ): void {\n        this.appendPainterToZIndex( painter, zIndex );\n    }\n\n    prependPainterToZIndex( painter: Painter, zIndex: number ): void {\n        const paintFn = mapRequire( this.paintFnsByPainter, painter );\n        this.paintFns.prependToZIndex( paintFn, zIndex );\n    }\n\n    appendPainterToZIndex( painter: Painter, zIndex: number ): void {\n        const paintFn = mapRequire( this.paintFnsByPainter, painter );\n        this.paintFns.appendToZIndex( paintFn, zIndex );\n    }\n\n    addInputHandler( inputHandler: InputHandler, zIndex: number = 0 ): Disposer {\n        return this.inputHandlers.add( inputHandler, zIndex );\n    }\n\n    removeInputHandler( inputHandler: InputHandler ): void {\n        this.disposersByInputHandler.disposeFor( inputHandler );\n    }\n\n    removeAllInputHandlers( ): void {\n        this.disposersByInputHandler.dispose( );\n    }\n\n    hasInputHandler( inputHandler: InputHandler ): boolean {\n        return this.inputHandlers.has( inputHandler );\n    }\n\n    getInputHandlerZIndex( inputHandler: InputHandler ): number {\n        return this.inputHandlers.getZIndex( inputHandler );\n    }\n\n    setInputHandlerZIndex( inputHandler: InputHandler, zIndex: number ): void {\n        this.appendInputHandlerToZIndex( inputHandler, zIndex );\n    }\n\n    prependInputHandlerToZIndex( inputHandler: InputHandler, zIndex: number ): void {\n        this.inputHandlers.prependToZIndex( inputHandler, zIndex );\n    }\n\n    appendInputHandlerToZIndex( inputHandler: InputHandler, zIndex: number ): void {\n        this.inputHandlers.appendToZIndex( inputHandler, zIndex );\n    }\n\n    addPane( child: Pane, zIndex: number = 0 ): Disposer {\n        const disposers = this.disposersByChild.get( child );\n\n        child.parent = this;\n        disposers.add( ( ) => {\n            child.parent = null;\n        } );\n\n        this.children.addLast( child );\n        disposers.add( ( ) => {\n            this.children.delete( child );\n        } );\n\n        // Move context actions as high up the tree as possible, so they run\n        // even if child gets detached from the tree before the next render\n        this.getRootPane( ).pendingContextActions.push( ...child.pendingContextActions );\n        child.pendingContextActions.length = 0;\n\n        disposers.add( appendChild( this.peer, child.peer ) );\n\n        const paintFn = ( context: Context ): void => {\n            child.paint( context );\n        };\n        disposers.add( mapAdd( this.paintFnsByPane, child, paintFn ) );\n        disposers.add( this.paintFns.add( paintFn, zIndex ) );\n\n        disposers.add( this.inputHandlers.add( child, zIndex ) );\n\n        child.layoutReady.setParent( this.layoutReady );\n        disposers.add( ( ) => {\n            child.layoutReady.setParent( null );\n        } );\n\n        child.inputSpectators.setParent( this.inputSpectators );\n        disposers.add( ( ) => {\n            child.inputSpectators.setParent( null );\n        } );\n\n        child.canvasChanged.setParent( this.canvasChanged );\n        disposers.add( ( ) => {\n            child.canvasChanged.setParent( null );\n        } );\n\n        return disposers;\n    }\n\n    removePane( child: Pane ): void {\n        this.disposersByChild.disposeFor( child );\n    }\n\n    removeAllPanes( ): void {\n        this.disposersByChild.dispose( );\n    }\n\n    hasPane( pane: Pane ): boolean {\n        return this.paintFnsByPane.has( pane );\n    }\n\n    getPaneZIndex( pane: Pane ): number {\n        const paintFn = mapRequire( this.paintFnsByPane, pane );\n        return this.paintFns.getZIndex( paintFn );\n    }\n\n    setPaneZIndex( pane: Pane, zIndex: number ): void {\n        this.appendPaneToZIndex( pane, zIndex );\n    }\n\n    prependPaneToZIndex( pane: Pane, zIndex: number ): void {\n        const paintFn = mapRequire( this.paintFnsByPane, pane );\n        this.paintFns.prependToZIndex( paintFn, zIndex );\n        this.inputHandlers.prependToZIndex( pane, zIndex );\n    }\n\n    appendPaneToZIndex( pane: Pane, zIndex: number ): void {\n        const paintFn = mapRequire( this.paintFnsByPane, pane );\n        this.paintFns.appendToZIndex( paintFn, zIndex );\n        this.inputHandlers.appendToZIndex( pane, zIndex );\n    }\n\n    // TODO: Maybe replace with an enum like VISIBLE, BLANK, ABSENT\n    isVisible( ): boolean {\n        return this.visible;\n    }\n\n    setVisible( visible: boolean ): void {\n        this.visible = visible;\n    }\n\n    getPrefSize_PX( ): Size2D {\n        return this.prefSize_PX;\n    }\n\n    getViewport_PX( ): Interval2D {\n        return this.viewport_PX;\n    }\n\n    getScissor_PX( ): Interval2D {\n        return this.scissor_PX;\n    }\n\n    /**\n     * **WARNING:** This method updates the mutable state of this pane and\n     * its descendants, but doesn't render to the display. This may leave\n     * the pane states out of sync with what's visible on the screen.\n     *\n     * Recursively layout this pane and its descendants to fit the specified\n     * bounds.\n     *\n     * This method is rarely used. In most cases, it is sufficient to do the\n     * layout just before rendering. However, there are cases where you want\n     * to change a setting, then (without rendering) check how the layout\n     * has changed.\n     */\n    _doLayout( bounds?: Interval2D ): void {\n        bounds = bounds ?? this.getViewport_PX( );\n        this.prepForLayout( );\n        this.updatePrefSizes( );\n        this.updateBounds( bounds, bounds );\n    }\n\n    /**\n     * Recursively layout and paint this pane and its descendants to fill\n     * the supplied context. This method is only intended to be called on\n     * the top-level pane within a canvas.\n     */\n    render( context: Context ): void {\n        // Pending actions\n        while ( true ) {\n            const contextAction = this.pendingContextActions.shift( );\n            if ( contextAction === undefined ) {\n                break;\n            }\n            contextAction( context );\n        }\n\n        // Prep\n        this.prepForLayout( );\n\n        // Pref sizes\n        this.updatePrefSizes( );\n        this.prefSizeReady.fire( );\n\n        // Layout and paint\n        const bounds = drawingBufferBounds( context.gl );\n        if ( bounds !== null ) {\n            this.updateBounds( bounds, bounds );\n            this.layoutReady.fire( undefined );\n            this.paint( context );\n        }\n    }\n\n    /**\n     * Enqueues the given action to run the next time a context is current.\n     * Handy when non-rendering code needs to make sure a GL resource gets\n     * disposed.\n     */\n    doLaterWithContext( contextAction: Consumer<Context> ): void {\n        // Add it as high up the tree as possible, so the thing still runs even\n        // if this Pane gets detached from the tree before the next render\n        this.getRootPane( ).pendingContextActions.push( contextAction );\n    }\n\n    enableColorTables( colorTables: Iterable<Readonly<[string,ColorTablePopulator]>> ): void {\n        this.doLaterWithContext( context => {\n            for ( const [ key, value ] of colorTables ) {\n                context.putColorTable( key, value );\n            }\n        } );\n    }\n\n    getRootPane( ): Pane {\n        let pane: Pane = this;\n        while ( true ) {\n            if ( pane.parent === null ) {\n                return pane;\n            }\n            pane = pane.parent;\n        }\n    }\n\n    /**\n     * Convenience method for application code that needs to access the part\n     * of the DOM that contains a pane.\n     *\n     * See also `Pane.canvasChanged`.\n     */\n    getCanvas( ): HTMLCanvasElement | undefined {\n        return this.getRootPane( ).canvas;\n    }\n\n    /**\n     * Intended for internal use only.\n     */\n    _setCanvas( canvas: HTMLCanvasElement ): Disposer {\n        if ( this.canvas ) {\n            throw new Error( 'Canvas is already set' );\n        }\n        else {\n            this.canvas = canvas;\n            this.canvasChanged.fire( undefined );\n            return ( ) => {\n                if ( this.canvas === canvas ) {\n                    this.canvas = undefined;\n                    this.canvasChanged.fire( undefined );\n                }\n            };\n        }\n    }\n\n    protected prepForLayout( ): void {\n        // Child panes\n        for ( const child of this.children ) {\n            child.prepForLayout( );\n        }\n        // This pane\n        if ( this.visible && this.layout.prepFns !== undefined ) {\n            for ( const prepFn of this.layout.prepFns ) {\n                prepFn( this.children );\n            }\n        }\n    }\n\n    protected updatePrefSizes( ): void {\n        // Child panes\n        for ( const child of this.children ) {\n            child.updatePrefSizes( );\n        }\n        // This pane\n        if ( this.visible && this.layout.computePrefSize_PX !== undefined ) {\n            this.prefSize_PX = this.layout.computePrefSize_PX( this.children );\n        }\n        else {\n            this.prefSize_PX = Size2D.ZERO;\n        }\n    }\n\n    protected updateBounds( viewport_PX: Interval2D, scissor_PX: Interval2D ): void {\n        // This pane\n        this.viewport_PX = viewport_PX;\n        this.scissor_PX = scissor_PX;\n        // Child panes\n        const childViewports_PX = this.layout.computeChildViewports_PX( this.viewport_PX, this.children );\n        for ( const child of this.children ) {\n            const childViewport_PX = ( childViewports_PX.get( child ) ?? Interval2D.ZERO ).round( );\n            const childScissor_PX = ( childViewport_PX.intersection( this.scissor_PX ) ?? Interval2D.ZERO );\n            child.updateBounds( childViewport_PX, childScissor_PX );\n        }\n    }\n\n    protected paint( context: Context ): void {\n        if ( this.visible && this.scissor_PX.w > 0 && this.scissor_PX.h > 0 ) {\n            for ( const paintFn of this.paintFns ) {\n                paintFn( context );\n            }\n        }\n    }\n\n    getHoverHandler( evMove: PaneMouseEvent ): Nullable<HoverHandler> {\n        if ( this.visible && this.scissor_PX.containsPoint( evMove.loc_PX ) ) {\n            for ( const inputHandler of this.inputHandlers.inReverse ) {\n                const result = inputHandler.getHoverHandler?.( evMove );\n                if ( isNonNullish( result ) ) {\n                    return result;\n                }\n            }\n            if ( this.consumesInputEvents ) {\n                return NOOP_HOVER_HANDLER;\n            }\n        }\n        return null;\n    }\n\n    getDragHandler( evGrab: PaneMouseEvent ): Nullable<DragHandler> {\n        if ( this.visible && this.scissor_PX.containsPoint( evGrab.loc_PX ) ) {\n            for ( const inputHandler of this.inputHandlers.inReverse ) {\n                const result = inputHandler.getDragHandler?.( evGrab );\n                if ( isNonNullish( result ) ) {\n                    return result;\n                }\n            }\n            if ( this.consumesInputEvents ) {\n                return NOOP_DRAG_HANDLER;\n            }\n        }\n        return null;\n    }\n\n    getWheelHandler( evGrabOrWheel: PaneMouseEvent ): Nullable<WheelHandler> {\n        if ( this.visible && this.scissor_PX.containsPoint( evGrabOrWheel.loc_PX ) ) {\n            for ( const inputHandler of this.inputHandlers.inReverse ) {\n                const result = inputHandler.getWheelHandler?.( evGrabOrWheel );\n                if ( isNonNullish( result ) ) {\n                    return result;\n                }\n            }\n            if ( this.consumesInputEvents ) {\n                return NOOP_WHEEL_HANDLER;\n            }\n        }\n        return null;\n    }\n\n    getKeyHandler( evGrab: PaneMouseEvent ): Nullable<KeyHandler> {\n        if ( this.visible && this.scissor_PX.containsPoint( evGrab.loc_PX ) ) {\n            for ( const inputHandler of this.inputHandlers.inReverse ) {\n                const result = inputHandler.getKeyHandler?.( evGrab );\n                if ( isNonNullish( result ) ) {\n                    return result;\n                }\n            }\n            if ( this.consumesInputEvents ) {\n                return NOOP_KEY_HANDLER;\n            }\n        }\n        return null;\n    }\n\n    getPaneToInspect( evMove: PaneMouseEvent ): Nullable<Pane> {\n        if ( this.visible && this.scissor_PX.containsPoint( evMove.loc_PX ) ) {\n            for ( const inputHandler of this.inputHandlers.inReverse ) {\n                if ( isPane( inputHandler ) ) {\n                    const pane = inputHandler.getPaneToInspect( evMove );\n                    if ( isNonNullish( pane ) ) {\n                        return pane;\n                    }\n                }\n                else {\n                    const hoverHandler = inputHandler.getHoverHandler?.( evMove );\n                    if ( isNonNullish( hoverHandler ) ) {\n                        return this;\n                    }\n                }\n            }\n            return this;\n        }\n        return null;\n    }\n}\n\n/**\n * Attach a listener that will run after layouts and before subsequent paints. The listener\n * will remove itself after it has run the given number of times, or immediately upon key\n * press, mouse press, or wheel.\n *\n * Useful at application startup, when the browser's reported window size can fluctuate for\n * a few frames (e.g. if the application was opened in a bg tab while the fg tab had docked\n * devtools), and there are application state variables (especially axis bounds) that need\n * to be initialized based on the pixel sizes of onscreen components.\n */\nexport function onFirstFewLayouts( pane: Pane, numTimes: number, listener: Runnable ): Disposer {\n    const disposers = new DisposerGroup( );\n    let timesRemaining = numTimes;\n    if ( timesRemaining > 0 ) {\n        // Tear down after we've run the listener the specified number of times\n        disposers.add( pane.layoutReady.addListener( { order: +1e6 }, ( ) => {\n            listener( );\n            timesRemaining--;\n            if ( timesRemaining <= 0 ) {\n                disposers.dispose( );\n            }\n        } ) );\n        // Tear down immediately on user interaction\n        disposers.add( pane.inputSpectators.add( {\n            handleGrab: ( ) => disposers.dispose( ),\n            handleWheel: ( ) => disposers.dispose( ),\n            handleKeyPress: ( ) => disposers.dispose( ),\n        } ) );\n    }\n    return disposers;\n}\n\ninterface ProgramCacheEntry {\n    prog: ShaderProgram<StringTuple,StringTuple>;\n    lastAccessFrameNum: number;\n}\n\ninterface TextureCacheEntry {\n    inputs: ReadonlyArray<unknown>;\n    info: TextureInfo<TextureMeta>;\n    lastAccessFrameNum: number;\n}\n\ninterface BufferCacheEntry {\n    inputs: ReadonlyArray<unknown>;\n    info: BufferInfo<BufferMeta>;\n    lastAccessFrameNum: number;\n}\n\nclass ContextImpl implements Context {\n    frameNum: number;\n    wnd: Window;\n    canvas: HTMLCanvasElement;\n    gl: WebGLRenderingContext;\n    glIncarnation: { n: number };\n    protected nextObjectNum: number;\n    protected readonly objectKeys: WeakMap<object,string>;\n    protected readonly colorTables: Map<string,ColorTablePopulator>;\n    protected readonly colorTableFallback: ColorTablePopulator;\n    protected readonly programCache: Map<ShaderSource<StringTuple,StringTuple>,ProgramCacheEntry>;\n    protected readonly textureCache: Map<string,TextureCacheEntry>;\n    protected readonly bufferCache: Map<string,BufferCacheEntry>;\n    protected programCacheLastPruneFrameNum: number;\n    protected textureCacheLastPruneFrameNum: number;\n    protected bufferCacheLastPruneFrameNum: number;\n\n    constructor( wndInit: Window, canvasInit: HTMLCanvasElement, glInit: WebGLRenderingContext ) {\n        this.frameNum = 0;\n        this.wnd = wndInit;\n        this.canvas = canvasInit;\n        this.gl = glInit;\n        this.glIncarnation = { n: 0 };\n        this.nextObjectNum = 0;\n        this.objectKeys = new WeakMap( );\n        this.colorTables = new Map( [ CET_L01, MAGMA ] );\n        this.colorTableFallback = CET_L01[ 1 ];\n        this.programCache = new Map( );\n        this.textureCache = new Map( );\n        this.bufferCache = new Map( );\n        this.programCacheLastPruneFrameNum = this.frameNum;\n        this.textureCacheLastPruneFrameNum = this.frameNum;\n        this.bufferCacheLastPruneFrameNum = this.frameNum;\n    }\n\n    startNewIncarnation( wnd: Window, canvas: HTMLCanvasElement, gl: WebGLRenderingContext ): void {\n        this.wnd = wnd;\n        this.canvas = canvas;\n        this.gl = gl;\n        this.glIncarnation = { n: this.glIncarnation.n + 1 };\n        this.programCache.clear( );\n        this.textureCache.clear( );\n        this.bufferCache.clear( );\n        this.programCacheLastPruneFrameNum = this.frameNum;\n        this.textureCacheLastPruneFrameNum = this.frameNum;\n        this.bufferCacheLastPruneFrameNum = this.frameNum;\n    }\n\n    getObjectKey( obj: object ): string {\n        return mapSetIfAbsent( this.objectKeys, obj, ( ) => `#${this.nextObjectNum++}#` );\n    }\n\n    getProgram<U extends StringTuple, A extends StringTuple>( source: ShaderSource<U,A> ): ShaderProgram<U,A> {\n        this.pruneProgramCache( );\n        const en = mapSetIfAbsent( this.programCache, source, ( ) => {\n            return {\n                prog: new ShaderProgram( source ),\n                lastAccessFrameNum: -1,\n            };\n        } );\n        en.lastAccessFrameNum = this.frameNum;\n        en.prog.prepare( this.gl, this.glIncarnation );\n        return en.prog as ShaderProgram<U,A>;\n    }\n\n    protected pruneProgramCache( ): void {\n        if ( this.frameNum > this.programCacheLastPruneFrameNum ) {\n            // Identify entries ready to be disposed\n            const entriesToDispose = new Array<[ ShaderSource<StringTuple,StringTuple>, ShaderProgram<StringTuple,StringTuple> ]>( );\n            for ( const [ source, { prog, lastAccessFrameNum } ] of this.programCache ) {\n                if ( lastAccessFrameNum < this.frameNum - 1 ) {\n                    entriesToDispose.push( [ source, prog ] );\n                }\n            }\n            // Try not to do more than `disposeLimit` disposes on a single frame,\n            // but never leave more than `deferLimit` waiting to be disposed\n            const disposeLimit = 1;\n            const deferLimit = 10;\n            const numToDispose = max( min( disposeLimit, entriesToDispose.length ), entriesToDispose.length - deferLimit );\n            for ( const [ source, prog ] of entriesToDispose.slice( 0, numToDispose ) ) {\n                prog.dispose( this.gl, this.glIncarnation );\n                this.programCache.delete( source );\n            }\n            // Don't prune again until next frame\n            this.programCacheLastPruneFrameNum = this.frameNum;\n        }\n    }\n\n    getTexture<M extends TextureMeta>( key: string, inputs: ReadonlyArray<unknown>, init: TextureInit<M> ): TextureInfo<M> {\n        this.pruneTextureCache( );\n        let en = this.textureCache.get( key );\n        if ( !en || !arrayAllEqual( inputs, en.inputs, equal ) ) {\n            const texture = this.gl.createTexture( );\n            this.gl.bindTexture( GL.TEXTURE_2D, texture );\n            const meta = init( this.gl, GL.TEXTURE_2D );\n            en = { inputs, info: { meta, texture }, lastAccessFrameNum: -1 };\n            this.textureCache.set( key, en );\n        }\n        en.lastAccessFrameNum = this.frameNum;\n        // See the `Context.getTexture()` doc comment for why this cast is acceptable\n        return en.info as TextureInfo<M>;\n    }\n\n    protected pruneTextureCache( ): void {\n        if ( this.frameNum > this.textureCacheLastPruneFrameNum ) {\n            // Identify entries ready to be disposed\n            const entriesToDispose = new Array<[ string, Nullable<WebGLTexture> ]>( );\n            for ( const [ key, { info, lastAccessFrameNum } ] of this.textureCache ) {\n                if ( lastAccessFrameNum < this.frameNum - 1 ) {\n                    entriesToDispose.push( [ key, info.texture ] );\n                }\n            }\n            // Try not to do more than `disposeLimit` disposes on a single frame,\n            // but never leave more than `deferLimit` waiting to be disposed\n            const disposeLimit = 1;\n            const deferLimit = 10;\n            const numToDispose = max( min( disposeLimit, entriesToDispose.length ), entriesToDispose.length - deferLimit );\n            for ( const [ key, texture ] of entriesToDispose.slice( 0, numToDispose ) ) {\n                this.gl.deleteTexture( texture );\n                this.textureCache.delete( key );\n            }\n            // Don't prune again until next frame\n            this.textureCacheLastPruneFrameNum = this.frameNum;\n        }\n    }\n\n    getBuffer<M extends BufferMeta>( key: string, inputs: ReadonlyArray<unknown>, init: BufferInit<M> ): BufferInfo<M> {\n        this.pruneBufferCache( );\n        let en = this.bufferCache.get( key );\n        if ( !en || !arrayAllEqual( inputs, en.inputs, equal ) ) {\n            const buffer = this.gl.createBuffer( );\n            this.gl.bindBuffer( GL.ARRAY_BUFFER, buffer );\n            const meta = init( this.gl, GL.ARRAY_BUFFER );\n            en = { inputs, info: { meta, buffer }, lastAccessFrameNum: -1 };\n            this.bufferCache.set( key, en );\n        }\n        en.lastAccessFrameNum = this.frameNum;\n        // See the `Context.getBuffer()` doc comment for why this cast is acceptable\n        return en.info as BufferInfo<M>;\n    }\n\n    protected pruneBufferCache( ): void {\n        if ( this.frameNum > this.bufferCacheLastPruneFrameNum ) {\n            // Identify entries ready to be disposed\n            const entriesToDispose = new Array<[ string, Nullable<WebGLBuffer> ]>( );\n            for ( const [ key, { info, lastAccessFrameNum } ] of this.bufferCache ) {\n                if ( lastAccessFrameNum < this.frameNum - 1 ) {\n                    entriesToDispose.push( [ key, info.buffer ] );\n                }\n            }\n            // Try not to do more than `disposeLimit` disposes on a single frame,\n            // but never leave more than `deferLimit` waiting to be disposed\n            const disposeLimit = 1;\n            const deferLimit = 10;\n            const numToDispose = max( min( disposeLimit, entriesToDispose.length ), entriesToDispose.length - deferLimit );\n            for ( const [ key, buffer ] of entriesToDispose.slice( 0, numToDispose ) ) {\n                this.gl.deleteBuffer( buffer );\n                this.bufferCache.delete( key );\n            }\n            // Don't prune again until next frame\n            this.bufferCacheLastPruneFrameNum = this.frameNum;\n        }\n    }\n\n    getColorTable( s: string ): ColorTablePopulator {\n        const exact = this.colorTables.get( s.trim( ).toLowerCase( ) );\n        if ( exact ) {\n            return exact;\n        }\n\n        const m = s.match( /^([^\\(]*)\\(([^\\)]*)\\)$/ );\n        if ( m && m.length >= 2 ) {\n            const transform = run( ( ) => {\n                switch ( m[1].trim( ).toLowerCase( ) ) {\n                    case 'invert': return COLOR_TABLE_INVERTER;\n                    case 'reverse': return COLOR_TABLE_INVERTER;\n                    default: return undefined;\n                }\n            } );\n            const orig = this.getColorTable( m[2].trim( ).toLowerCase( ) );\n            if ( transform && orig ) {\n                return orig.withMutator( transform );\n            }\n        }\n\n        return this.colorTableFallback;\n    }\n\n    putColorTable( key: string, value: ColorTablePopulator ): void {\n        this.colorTables.set( key.trim( ).toLowerCase( ), value );\n    }\n}\n\nconst HOST_CLASS = 'gleam';\nconst HOSTS_KEY = '@@__GLEAM_HOSTS__@@';\nif ( !isDefined( ( window as any )[ HOSTS_KEY ] ) ) {\n    ( window as any )[ HOSTS_KEY ] = new Set<HTMLElement>( );\n}\nconst hosts = ( window as any )[ HOSTS_KEY ];\n\nexport interface CanvasProvider {\n    claimNext( ): HTMLCanvasElement;\n    release( canvas: HTMLCanvasElement ): void;\n}\n\nexport const DEFAULT_CANVAS_PROVIDER: CanvasProvider = {\n    claimNext: ( ) => document.createElement( 'canvas' ),\n    release: NOOP,\n};\n\n/**\n * The optional `canvasProvider` arg allows the caller to provide canvases by a mechanism\n * other than the default `document.createElement('canvas')`. For example, some callers may\n * wish to reuse canvases via a canvas pool, to avoid hitting browser limits on the number\n * of GL contexts.\n */\nexport function attachPane(\n    host: HTMLElement,\n    pane: Pane,\n    repaint: FireableListenable,\n    options?: {\n        canvasProvider?: CanvasProvider,\n        glContextAttrs?: WebGLContextAttributes,\n    },\n): Disposer {\n    const disposers = new DisposerGroup( );\n\n    if ( hosts.has( host ) ) {\n        throw new Error( 'Element already has a Gleam pane attached to it' );\n    }\n    hosts.add( host );\n    disposers.add( ( ) => {\n        hosts.delete( host );\n    } );\n\n    setCssClassPresent( host, HOST_CLASS, true );\n    disposers.add( ( ) => {\n        setCssClassPresent( host, HOST_CLASS, false );\n    } );\n\n    const wnd0 = requireNonNullish( host.ownerDocument?.defaultView );\n    if ( !wnd0.WebGLRenderingContext ) {\n        host.classList.add( 'error' );\n        host.textContent = 'Browser does not support WebGL';\n        disposers.dispose( );\n        throw new Error( 'Browser does not support WebGL' );\n    }\n\n    const glContextAttrs: WebGLContextAttributes = {\n        alpha: true,\n        depth: false,\n        stencil: false,\n        antialias: false,\n        premultipliedAlpha: true,\n        preserveDrawingBuffer: false,\n        powerPreference: 'default',\n        failIfMajorPerformanceCaveat: false,\n        desynchronized: false,\n        ...( options?.glContextAttrs ?? {} ),\n    };\n\n    function createCanvas( ): [ HTMLCanvasElement, WebGLRenderingContext ] {\n        const numAttempts = 3;\n        for ( let i = 0; i < numAttempts; i++ ) {\n            const canvas = ( options?.canvasProvider ?? DEFAULT_CANVAS_PROVIDER ).claimNext( );\n\n            // Apply basic styling here so there's less flicker when CSS loading isn't instantaneous\n            canvas.style.border = '0';\n            canvas.style.margin = '0';\n            canvas.style.padding = '0';\n            canvas.style.width = '100%';\n            canvas.style.height = '100%';\n            canvas.style.display = 'block';\n\n            const gl = canvas.getContext( 'webgl', glContextAttrs );\n            if ( gl ) {\n                if ( i > 0 ) {\n                    console.info( 'WebGL context creation succeeded on attempt ' + i );\n                }\n                return [ canvas, gl ];\n            }\n        }\n        console.warn( 'WebGL context creation did not succeed in ' + numAttempts + ' attempts' );\n        host.classList.add( 'error' );\n        host.textContent = 'Browser failed to initialize WebGL';\n        disposers.dispose( );\n        throw new Error( 'Browser failed to initialize WebGL' );\n    }\n\n    // WebGLRenderingContext.isContextLost() can change to true and then back to\n    // false ... but in practice a lost context NEVER becomes usable again, so we\n    // need a property that's like isContextLost() but never changes back to false\n    const CONTEXT_EVER_LOST = '@@__GLEAM_CONTEXT_EVER_LOST__@@';\n\n    function setContextEverLost( canvas: HTMLCanvasElement ): void {\n        ( canvas as any )[ CONTEXT_EVER_LOST ] = true;\n    }\n\n    function wasContextEverLost( canvas: HTMLCanvasElement ): boolean {\n        return !!( ( canvas as any )[ CONTEXT_EVER_LOST ] );\n    }\n\n    const disposersForCanvases = new DisposerGroupMap<HTMLCanvasElement>( );\n    disposers.add( disposersForCanvases );\n    const context = new ContextImpl( wnd0, ...createCanvas( ) );\n    let pendingFrameRequestId = undefined as number | undefined;\n    function attachCanvas( wnd: Window & typeof globalThis, canvas: HTMLCanvasElement ): Disposer {\n        const disposers = new DisposerGroup( );\n        disposers.add( appendChild( host, canvas ) );\n        disposers.add( pane._setCanvas( canvas ) );\n        disposers.add( attachPaneInputListeners( wnd, canvas, pane, repaint ) );\n        disposers.add( attachEventListener( canvas, 'webglcontextlost', true, ev => {\n            ev.preventDefault( );\n            setContextEverLost( canvas );\n            repaint.fire( );\n        } ) );\n\n        let printApproxSizeWarning = true;\n        disposers.add( attachCanvasResizeListener( wnd, host, canvas, ( width_PX, height_PX, isApprox ) => {\n            if ( isApprox === undefined ) {\n                // Don't do anything logging related\n            }\n            else if ( isApprox === false ) {\n                printApproxSizeWarning = true;\n            }\n            else if ( isApprox === true && printApproxSizeWarning ) {\n                console.warn( 'Exact canvas size is not available in this browser -- canvas may look blurry' );\n                printApproxSizeWarning = false;\n            }\n            canvas.width = width_PX;\n            canvas.height = height_PX;\n\n            // Modifying canvas.width or canvas.height clears the canvas, so render\n            // immediately afterwards without waiting for the next animation frame,\n            // to avoid flicker during resize ... unless we have a stale canvas or\n            // window, in which case queue up a new animation frame the usual way\n            if ( canvas === context.canvas && wnd === canvas.ownerDocument.defaultView ) {\n                doRender( wnd );\n            }\n            else {\n                repaint.fire( );\n            }\n        } ) );\n\n        return disposers;\n    }\n    function doRender( wnd: Window & typeof globalThis ): void {\n        // The webglcontextlost event may not have fired yet\n        if ( context.gl.isContextLost( ) || wnd !== context.wnd ) {\n            setContextEverLost( context.canvas );\n        }\n\n        // Recreate the canvas and gl, if necessary\n        if ( wasContextEverLost( context.canvas ) ) {\n            // Create a new canvas and gl\n            console.debug( 'Recovering from lost WebGL context' );\n            const [ canvas, gl ] = createCanvas( );\n            console.debug( 'Recovered from lost WebGL context' );\n\n            // Swap out the old canvas for the new one\n            disposersForCanvases.disposeFor( context.canvas );\n            ( options?.canvasProvider ?? DEFAULT_CANVAS_PROVIDER ).release( context.canvas );\n            disposersForCanvases.get( canvas ).add( attachCanvas( wnd, canvas ) );\n\n            // Update the gleam context\n            context.startNewIncarnation( wnd, canvas, gl );\n        }\n\n        // Browsers will automatically clear the WebGL canvas to transparent\n        // between frames -- EXCEPT on frames with no draw GL draw calls, in\n        // in which case the previous frame remains visible. But we don't ever\n        // want an old frame to remain visible, even when there are no visible\n        // painters. So do an explicit clear here.\n        const gl = context.gl;\n        context.gl.viewport( 0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight );\n        gl.clearColor( 0, 0, 0, 0 );\n        gl.clear( GL.COLOR_BUFFER_BIT );\n\n        // Render\n        pendingFrameRequestId = undefined;\n        pane.render( context );\n        context.frameNum++;\n    };\n    disposersForCanvases.get( context.canvas ).add( attachCanvas( wnd0, context.canvas ) );\n\n    disposers.add( repaint.addListener( ( ) => {\n        const wnd = context.canvas.ownerDocument.defaultView;\n        if ( pendingFrameRequestId === undefined || wnd !== context.wnd ) {\n            pendingFrameRequestId = wnd?.requestAnimationFrame( ( ) => {\n                doRender( wnd );\n            } );\n        }\n    } ) );\n\n    disposers.add( appendChild( host, pane.peer ) );\n\n    disposers.add( attachSubtreeRestyleListener( pane.peer, ( ) => {\n        repaint.fire( );\n    } ) );\n\n    repaint.fire( );\n\n    return disposers;\n}\n\nexport function wheelSteps( ev: WheelEvent ): number {\n    // Extracting more than the sign is hard to do reliably across browsers\n    return Math.sign( ev.deltaY );\n}\n\nexport function buttonsMask( ...buttonNumbers: number[] ): number {\n    let union = 0;\n    for ( const button of buttonNumbers ) {\n        switch ( button ) {\n            case 0: union |= 1; break;\n            case 1: union |= 4; break;\n            case 2: union |= 2; break;\n            case 3: union |= 8; break;\n            case 4: union |= 16; break;\n        }\n    }\n    return union;\n}\n\nexport function isButtonDown( buttonsDown: number, buttonNumber: number ): boolean {\n    return ( ( buttonsDown & buttonsMask( buttonNumber ) ) !== 0 );\n}\n\n/**\n * **WARNING**: Creates a one-way binding only -- does not update the ref when element.classList changes.\n */\nfunction _attachClassesRefListener( classes: ReadableRef<ImmutableSet<string>>, element: HTMLElement ): Disposer {\n    let oldClasses = newImmutableSet<string>( [] );\n    return classes.addListener( IMMEDIATE, ( ) => {\n        const newClasses = classes.v;\n        for ( const clazz of oldClasses ) {\n            if ( !newClasses.has( clazz ) ) {\n                element.classList.remove( clazz );\n            }\n        }\n        for ( const clazz of newClasses ) {\n            if ( !oldClasses.has( clazz ) ) {\n                element.classList.add( clazz );\n            }\n        }\n        oldClasses = newClasses;\n    } );\n}\n\nexport function attachPaneInputListeners( wnd: Window, canvas: HTMLCanvasElement, contentPane: Pane, repaint: FireableListenable ): Disposer {\n    const disposers = new DisposerGroup( );\n\n\n    // Constants\n    //\n\n    // How long after an initial press to accumulate subsequent presses into a\n    // multi-press -- the window always starts at the initial press; subsequent\n    // presses do not extend it\n    const MULTIPRESS_WINDOW_MILLIS = 300;\n\n    // CSS classes that get added to the canvas while dragging -- can be used\n    // in CSS to differentiate style (especially mouse cursors) based on whether\n    // there's an actual drag happening, or just a hover or click\n    const DRAGGED_CLASSES = newImmutableSet( [ 'dragged' ] );\n\n    // Frequently used empty set\n    const EMPTY_CLASSES = newImmutableSet<string>( [] );\n\n\n    // Mutable state\n    //\n\n    let activeHover: Nullable<{\n        hoverHandler: HoverHandler,\n        loc_PX: Point2D,\n    }> = null;\n\n    let activeDrag: Nullable<{\n        dragHandler: DragHandler,\n        loc_PX: Point2D,\n        button: number,\n        grabModifiers: ModifierSet,\n        currModifiers: ModifierSet,\n        wheelHandler: Nullable<WheelHandler>,\n    }> = null;\n\n    let activeFocus: Nullable<{\n        keyHandler: KeyHandler,\n        keysDown: Set<string>,\n    }> = null;\n\n    const cursorClasses = new RefBasic<ImmutableSet<string>>( EMPTY_CLASSES, equal );\n    disposers.add( _attachClassesRefListener( cursorClasses, canvas ) );\n\n    const dragClasses = new RefBasic<ImmutableSet<string>>( EMPTY_CLASSES, equal );\n    disposers.add( _attachClassesRefListener( dragClasses, canvas ) );\n\n\n    // Simple actions\n    //\n\n    type TupleWithoutFirst<T extends any[]> = T extends [ infer F, ...infer R ] ? R : never;\n    function createPaneMouseEvent( ...args: TupleWithoutFirst<ConstructorParameters<typeof PaneMouseEvent>> ): PaneMouseEvent {\n        return new PaneMouseEvent( currentDpr( contentPane ), ...args );\n    }\n    function createPaneKeyEvent( ...args: TupleWithoutFirst<ConstructorParameters<typeof PaneKeyEvent>> ): PaneKeyEvent {\n        return new PaneKeyEvent( currentDpr( contentPane ), ...args );\n    }\n\n    function doMove( mouse_PX: Point2D, modifiers: ModifierSet ): void {\n        if ( activeDrag !== null ) {\n            throw new Error( );\n        }\n        else {\n            if ( isInspectPickingActive( contentPane ) ) {\n                const evMove = createPaneMouseEvent( mouse_PX, modifiers );\n                const newPane = contentPane.getPaneToInspect( evMove );\n                if ( setInspectHoveredPane( newPane ) ) {\n                    repaint.fire( );\n                }\n            }\n            else {\n                if ( setInspectHoveredPane( null ) ) {\n                    repaint.fire( );\n                }\n            }\n\n            const evMove = createPaneMouseEvent( mouse_PX, modifiers );\n            const hoverHandler = contentPane.getHoverHandler( evMove );\n            const oldHoverHandler = activeHover?.hoverHandler ?? null;\n            if ( !equal( hoverHandler?.target, oldHoverHandler?.target ) ) {\n                const ev = createPaneMouseEvent( mouse_PX, modifiers );\n                if ( oldHoverHandler !== null ) {\n                    contentPane.inputSpectators.fireUnhover( oldHoverHandler.target, ev );\n                    oldHoverHandler.handleUnhover?.( );\n                }\n                if ( hoverHandler !== null ) {\n                    hoverHandler.handleHover?.( );\n                    contentPane.inputSpectators.fireHover( hoverHandler.target, ev );\n                }\n            }\n            cursorClasses.set( false, newImmutableSet( hoverHandler?.getMouseCursorClasses?.( ) ?? [] ) );\n            activeHover = ( hoverHandler === null ? null : {\n                hoverHandler,\n                loc_PX: mouse_PX,\n            } );\n            activeHover?.hoverHandler.handleMove?.( evMove );\n            contentPane.inputSpectators.fireMove( activeHover?.hoverHandler.target, evMove );\n        }\n    }\n\n    function doUnhover( ): void {\n        if ( activeDrag !== null ) {\n            throw new Error( );\n        }\n        else if ( activeHover !== null ) {\n            const ev = createPaneMouseEvent( activeHover.loc_PX, ModifierSet.EMPTY );\n            contentPane.inputSpectators.fireUnhover( activeHover.hoverHandler.target, ev );\n            activeHover.hoverHandler.handleUnhover?.( );\n            cursorClasses.set( false, newImmutableSet( [] ) );\n            activeHover = null;\n        }\n    }\n\n    function doGrab( mouse_PX: Point2D, modifiers: ModifierSet, button: number, pressCount: number ): void {\n        if ( activeDrag !== null ) {\n            throw new Error( );\n        }\n        else if ( isInspectPickingActive( contentPane ) ) {\n            const evGrab = createPaneMouseEvent( mouse_PX, modifiers );\n            const newPane = contentPane.getPaneToInspect( evGrab );\n            if ( setInspectSelectedPane( newPane ) ) {\n                repaint.fire( );\n            }\n        }\n        else {\n            if ( setInspectSelectedPane( null ) ) {\n                repaint.fire( );\n            }\n\n            const evGrab = createPaneMouseEvent( mouse_PX, modifiers, button, pressCount );\n\n            // Call handleGrab before getKeyHandler, so any new focus target created by\n            // handleGrab will be eligible to receive focus immediately\n            let dragHandler: Nullable<DragHandler>;\n            const newDragHandler = contentPane.getDragHandler( evGrab );\n            const oldHoverHandler = activeHover?.hoverHandler ?? null;\n            if ( !equal( newDragHandler?.target, oldHoverHandler?.target ) ) {\n                const ev = createPaneMouseEvent( mouse_PX, modifiers );\n                if ( oldHoverHandler !== null ) {\n                    contentPane.inputSpectators.fireUnhover( oldHoverHandler.target, ev );\n                    oldHoverHandler.handleUnhover?.( );\n                }\n                if ( newDragHandler !== null ) {\n                    newDragHandler.handleHover?.( );\n                    contentPane.inputSpectators.fireHover( newDragHandler.target, ev );\n                }\n                dragHandler = newDragHandler;\n            }\n            else if ( oldHoverHandler && newDragHandler ) {\n                // The drag is a continutation of the hover because they have the same target,\n                // so combine the hover and drag handlers together into a single handler\n                dragHandler = { ...newDragHandler };\n                dragHandler.handleMove = evMove => {\n                    newDragHandler.handleMove?.( evMove );\n                    oldHoverHandler.handleMove?.( evMove );\n                };\n                dragHandler.handleUnhover = ( ) => {\n                    newDragHandler.handleUnhover?.( );\n                    oldHoverHandler.handleUnhover?.( );\n                };\n            }\n            else {\n                dragHandler = newDragHandler;\n            }\n            cursorClasses.set( false, newImmutableSet( dragHandler?.getMouseCursorClasses?.( ) ?? [] ) );\n            dragClasses.set( false, EMPTY_CLASSES );\n            const newWheelHandler = contentPane.getWheelHandler( evGrab );\n            activeDrag = ( dragHandler === null ? null : {\n                dragHandler,\n                loc_PX: mouse_PX,\n                button,\n                grabModifiers: modifiers,\n                currModifiers: modifiers,\n                wheelHandler: newWheelHandler,\n            } );\n            activeHover = ( dragHandler === null ? null : {\n                hoverHandler: dragHandler,\n                loc_PX: mouse_PX,\n            } );\n            activeDrag?.dragHandler.handleGrab?.( );\n            contentPane.inputSpectators.fireGrab( activeDrag?.dragHandler.target, evGrab );\n\n            // Call getKeyHandler after handleGrab, for reasons described above\n            const keyHandler = contentPane.getKeyHandler( evGrab );\n            if ( keyHandler !== null && !equal( keyHandler.target, activeFocus?.keyHandler.target ) ) {\n                if ( activeFocus !== null ) {\n                    activeFocus.keyHandler.handleUnfocus?.( );\n                    contentPane.inputSpectators.fireUnfocus( activeFocus.keyHandler.target );\n                }\n                activeFocus = ( keyHandler === null ? null : {\n                    keyHandler,\n                    keysDown: new Set( ),\n                } );\n                if ( activeFocus !== null ) {\n                    activeFocus.keyHandler.handleFocus?.( );\n                    contentPane.inputSpectators.fireFocus( activeFocus.keyHandler.target );\n                }\n            }\n        }\n    }\n\n    function doDrag( mouse_PX: Point2D, modifiers: ModifierSet ): void {\n        if ( activeDrag === null || activeHover === null ) {\n            throw new Error( );\n        }\n        else {\n            const evDrag = createPaneMouseEvent( mouse_PX, modifiers, activeDrag.button );\n            cursorClasses.set( false, newImmutableSet( activeDrag.dragHandler.getMouseCursorClasses?.( ) ?? [] ) );\n            dragClasses.set( false, DRAGGED_CLASSES );\n            activeDrag.currModifiers = modifiers;\n            activeDrag.loc_PX = mouse_PX;\n            activeHover.loc_PX = mouse_PX;\n            activeDrag.dragHandler.handleDrag?.( evDrag );\n            contentPane.inputSpectators.fireDrag( activeDrag.dragHandler.target, evDrag );\n        }\n    }\n\n    function doUngrab( mouse_PX: Point2D, modifiers: ModifierSet ): void {\n        if ( activeDrag === null ) {\n            throw new Error( );\n        }\n        else {\n            const evUngrab = createPaneMouseEvent( mouse_PX, modifiers, activeDrag.button );\n            contentPane.inputSpectators.fireUngrab( activeDrag.dragHandler.target, evUngrab );\n            activeDrag.dragHandler.handleUngrab?.( evUngrab );\n            dragClasses.set( false, EMPTY_CLASSES );\n            activeDrag = null;\n        }\n    }\n\n    function doWheel( mouse_PX: Point2D, modifiers: ModifierSet, wheelSteps: number ): void {\n        if ( activeDrag !== null ) {\n            const evWheel = createPaneMouseEvent( mouse_PX, modifiers, null, 0, wheelSteps );\n            activeDrag.wheelHandler?.handleWheel?.( evWheel );\n            contentPane.inputSpectators.fireWheel( activeDrag.wheelHandler?.target, evWheel );\n            doDrag( mouse_PX, modifiers );\n        }\n        else {\n            const evWheel = createPaneMouseEvent( mouse_PX, modifiers, null, 0, wheelSteps );\n            const wheelHandler = contentPane.getWheelHandler( evWheel );\n            wheelHandler?.handleWheel?.( evWheel );\n            contentPane.inputSpectators.fireWheel( wheelHandler?.target, evWheel );\n            doMove( mouse_PX, modifiers );\n        }\n    }\n\n    function doKeyPress( key: string ): void {\n        if ( activeFocus !== null ) {\n            activeFocus.keysDown.add( key );\n            const evPress = createPaneKeyEvent( key, newImmutableSet( activeFocus.keysDown ) );\n            activeFocus.keyHandler.handleKeyPress?.( evPress );\n            contentPane.inputSpectators.fireKeyPress( activeFocus.keyHandler.target, evPress );\n        }\n    }\n\n    function doKeyRelease( key: string ): void {\n        if ( activeFocus !== null ) {\n            activeFocus.keysDown.delete( key );\n            const evRelease = createPaneKeyEvent( key, newImmutableSet( activeFocus.keysDown ) );\n            activeFocus.keyHandler.handleKeyRelease?.( evRelease );\n            contentPane.inputSpectators.fireKeyRelease( activeFocus.keyHandler.target, evRelease );\n        }\n    }\n\n    // If draggerButton is still down (as it typically should be), call doDrag() as usual --\n    // but if draggerButton is NOT still down (which does happen in certain corner cases,\n    // especially when presses and releases of different buttons are interleaved, and some\n    // of them happen outside the browser window), handle it as gracefully as possible\n    function doCheckedDrag( mouse_PX: Point2D, modifiers: ModifierSet, buttonsDown: number ): void {\n        if ( activeDrag === null ) {\n            throw new Error( );\n        }\n        else if ( isButtonDown( buttonsDown, activeDrag.button ) ) {\n            if ( !equal( mouse_PX, activeDrag.loc_PX ) || !equal( modifiers, activeDrag.currModifiers ) ) {\n                doDrag( mouse_PX, modifiers );\n            }\n        }\n        else {\n            doUngrab( mouse_PX, modifiers );\n            doMove( mouse_PX, modifiers );\n        }\n    }\n\n\n    // Compose simple actions into event handlers\n    //\n\n    let multiPressStart_PMILLIS: number = Number.NEGATIVE_INFINITY;\n    let multiPressButton: Nullable<number> = null;\n    let multiPressCount: number = 0;\n    disposers.add( attachEventListener( canvas, 'mousedown', false, ev => {\n        const pressTime_PMILLIS = Date.now( );\n        const mouse_PX = getMouseLoc_PX( canvas, ev );\n        const modifiers = getModifiers( ev );\n\n        if ( ev.button === multiPressButton && pressTime_PMILLIS <= multiPressStart_PMILLIS + MULTIPRESS_WINDOW_MILLIS ) {\n            multiPressCount++;\n        }\n        else {\n            multiPressStart_PMILLIS = pressTime_PMILLIS;\n            multiPressButton = ev.button;\n            multiPressCount = 1;\n        }\n\n        // If a new drag starts in the middle of an existing drag, terminate the old one\n        if ( activeDrag !== null ) {\n            doUngrab( mouse_PX, modifiers );\n        }\n\n        doGrab( mouse_PX, modifiers, ev.button, multiPressCount );\n\n        // Disable text selection on double-click, which messes up subsequent drags\n        ev.preventDefault( );\n    } ) );\n\n    // Get NON-DRAG moves from the CANVAS\n    disposers.add( attachEventListener( canvas, 'mousemove', false, ev => {\n        if ( activeDrag === null ) {\n            const mouse_PX = getMouseLoc_PX( canvas, ev );\n            const modifiers = getModifiers( ev );\n            doMove( mouse_PX, modifiers );\n        }\n    } ) );\n\n    // Get DRAG moves from the WINDOW, so that we get even the ones outside the canvas\n    disposers.add( attachEventListener( wnd, 'mousemove', false, ev => {\n        if ( activeDrag !== null ) {\n            const mouse_PX = getMouseLoc_PX( canvas, ev );\n            const modifiers = getModifiers( ev );\n            doCheckedDrag( mouse_PX, modifiers, ev.buttons );\n        }\n    } ) );\n\n    // Get NON-DRAG releases from the CANVAS\n    disposers.add( attachEventListener( canvas, 'mouseup', false, ev => {\n        if ( activeDrag === null ) {\n            const mouse_PX = getMouseLoc_PX( canvas, ev );\n            const modifiers = getModifiers( ev );\n            doMove( mouse_PX, modifiers );\n        }\n    } ) );\n\n    // TODO: Auto-repeat with more than one key involved has inconvenient behavior\n    // Refresh hovered grabber when modifiers change\n    disposers.add( attachEventListener( wnd, 'keydown', false, ev => {\n        if ( activeDrag !== null ) {\n            const modifiers = getModifiers( ev );\n            doCheckedDrag( activeDrag.loc_PX, modifiers, buttonsMask( activeDrag.button ) );\n        }\n        else if ( activeHover !== null ) {\n            const modifiers = getModifiers( ev );\n            doMove( activeHover.loc_PX, modifiers );\n        }\n        doKeyPress( ev.key );\n    } ) );\n\n    // Refresh hovered grabber when modifiers change\n    disposers.add( attachEventListener( wnd, 'keyup', false, ev => {\n        if ( activeDrag !== null ) {\n            const modifiers = getModifiers( ev );\n            doCheckedDrag( activeDrag.loc_PX, modifiers, buttonsMask( activeDrag.button ) );\n        }\n        else if ( activeHover !== null ) {\n            const modifiers = getModifiers( ev );\n            doMove( activeHover.loc_PX, modifiers );\n        }\n        doKeyRelease( ev.key );\n    } ) );\n\n    // Get DRAG releases from the WINDOW, so that we get even the ones outside the canvas\n    disposers.add( attachEventListener( wnd, 'mouseup', false, ev => {\n        if ( activeDrag !== null ) {\n            // On some browsers, ev.button and ev.buttons are unreliable when the mouse\n            // is outside the window ... the least problematic way to cope with this is\n            // to end the drag when we get a mouseup outside the window from ANY button\n            const inWindow = ( 0 <= ev.x && ev.x < wnd.innerWidth && 0 <= ev.y && ev.y < wnd.innerHeight );\n            if ( ev.button === activeDrag.button || !inWindow ) {\n                const mouse_PX = getMouseLoc_PX( canvas, ev );\n                const modifiers = getModifiers( ev );\n                doUngrab( mouse_PX, modifiers );\n                doMove( mouse_PX, modifiers );\n            }\n        }\n    } ) );\n\n    disposers.add( attachEventListener( wnd, 'blur', false, ( ) => {\n        if ( activeDrag !== null ) {\n            doUngrab( activeDrag.loc_PX, activeDrag.currModifiers );\n        }\n        if ( activeHover !== null ) {\n            doUnhover( );\n        }\n        if ( activeFocus !== null ) {\n            activeFocus.keysDown.clear( );\n        }\n        if ( setInspectHoveredPane( null ) ) {\n            repaint.fire( );\n        }\n    } ) );\n\n    disposers.add( attachEventListener( canvas, 'mouseout', false, ev => {\n        if ( activeDrag === null ) {\n            const mouse_PX = getMouseLoc_PX( canvas, ev );\n            const modifiers = getModifiers( ev );\n            doMove( mouse_PX, modifiers );\n        }\n    } ) );\n\n    disposers.add( attachEventListener( canvas, 'mouseover', false, ev => {\n        if ( activeDrag === null ) {\n            const mouse_PX = getMouseLoc_PX( canvas, ev );\n            const modifiers = getModifiers( ev );\n            doMove( mouse_PX, modifiers );\n        }\n    } ) );\n\n    // Get NON-DRAG wheels from the CANVAS\n    attachEventListener( canvas, 'wheel', false, ev => {\n        if ( activeDrag === null ) {\n            const mouse_PX = getMouseLoc_PX( canvas, ev );\n            const modifiers = getModifiers( ev );\n            doMove( mouse_PX, modifiers );\n            doWheel( mouse_PX, modifiers, wheelSteps( ev ) );\n        }\n    } );\n\n    // Get DRAG wheels from the WINDOW, so that we get even the ones outside the canvas\n    attachEventListener( wnd, 'wheel', false, ev => {\n        if ( activeDrag !== null ) {\n            const mouse_PX = getMouseLoc_PX( canvas, ev );\n            const modifiers = getModifiers( ev );\n            doCheckedDrag( mouse_PX, modifiers, ev.buttons );\n            doWheel( mouse_PX, modifiers, wheelSteps( ev ) );\n        }\n    } );\n\n    return disposers;\n}\n\nexport interface InputSpectatorConfig {\n    order?: number;\n}\n\ninterface InputSpectatorEntry {\n    config: InputSpectatorConfig;\n    inputSpectator: InputSpectator;\n}\n\nclass InputSpectatorTree {\n    protected parent: Nullable<InputSpectatorTree>;\n    protected children: Array<InputSpectatorTree>;\n\n    protected ownEntries: Array<InputSpectatorEntry>;\n    protected ownEntriesDirty: boolean;\n\n    protected subtreeEntries: Nullable<Array<InputSpectatorEntry>>;\n\n    constructor( ) {\n        this.parent = null;\n        this.children = new Array( );\n\n        this.ownEntries = new Array( );\n        this.ownEntriesDirty = false;\n\n        this.subtreeEntries = null;\n    }\n\n    add( inputSpectator: InputSpectator ): Disposer;\n    add( config: InputSpectatorConfig, inputSpectator: InputSpectator ): Disposer;\n    add( a: InputSpectatorConfig | InputSpectator, b?: InputSpectator ): Disposer {\n        const entry = InputSpectatorTree.createEntry( a, b );\n        return this.doAddEntry( entry );\n    }\n\n    protected static createEntry( a: InputSpectatorConfig | InputSpectator, b: InputSpectator | undefined ): InputSpectatorEntry {\n        if ( b === undefined ) {\n            return {\n                config: {},\n                inputSpectator: a as InputSpectator,\n            };\n        }\n        else {\n            return {\n                config: a as InputSpectatorConfig,\n                inputSpectator: b,\n            };\n        }\n    }\n\n    protected doAddEntry( entry: InputSpectatorEntry ): Disposer {\n        this.ownEntries.push( entry );\n        this.ownEntriesDirty = true;\n        this.setSubtreeEntriesDirty( );\n        return ( ) => {\n            arrayRemoveLast( this.ownEntries, entry );\n            this.removeSubtreeEntry( entry );\n        };\n    }\n\n    setParent( parent: Nullable<InputSpectatorTree> ): void {\n        if ( this.parent ) {\n            arrayRemoveFirst( this.parent.children, this );\n            this.parent.setSubtreeEntriesDirty( );\n            this.parent = null;\n        }\n        if ( parent ) {\n            this.parent = parent;\n            this.parent.children.push( this );\n            this.parent.setSubtreeEntriesDirty( );\n        }\n    }\n\n    protected setSubtreeEntriesDirty( ): void {\n        this.subtreeEntries = null;\n        if ( this.parent ) {\n            this.parent.setSubtreeEntriesDirty( );\n        }\n    }\n\n    protected removeSubtreeEntry( entry: InputSpectatorEntry ): Nullable<number> {\n        let i;\n        if ( this.subtreeEntries ) {\n            i = arrayRemoveLast( this.subtreeEntries, entry );\n        }\n        else {\n            i = null;\n        }\n\n        if ( this.parent ) {\n            this.parent.removeSubtreeEntry( entry );\n        }\n\n        return i;\n    }\n\n    protected sortAndGetOwnEntries( ): Array<InputSpectatorEntry> {\n        if ( this.ownEntriesDirty ) {\n            arraySortStable( this.ownEntries, ( a, b ) => {\n                return ( ( a.config.order ?? 0 ) - ( b.config.order ?? 0 ) );\n            } );\n            this.ownEntriesDirty = false;\n        }\n        return this.ownEntries;\n    }\n\n    protected getSubtreeEntryLists( ): Array<Array<InputSpectatorEntry>> {\n        const result = new Array<Array<InputSpectatorEntry>>( );\n        result.push( this.sortAndGetOwnEntries( ) );\n        for ( const child of this.children ) {\n            result.push( ...child.getSubtreeEntryLists( ) );\n        }\n        return result;\n    }\n\n    protected getSubtreeEntries( ): ReadonlyArray<InputSpectatorEntry> {\n        if ( !this.subtreeEntries ) {\n            const entryLists = this.getSubtreeEntryLists( );\n            this.subtreeEntries = mergePreSortedLists( entryLists, ( a, b ) => {\n                return ( ( a.config.order ?? 0 ) - ( b.config.order ?? 0 ) );\n            } );\n        }\n        return this.subtreeEntries;\n    }\n\n    protected forSubtree( fn: Consumer<InputSpectator> ): void {\n        for ( const en of this.getSubtreeEntries( ) ) {\n            fn( en.inputSpectator );\n        }\n    }\n\n    fireHover( target: unknown, ev: PaneMouseEvent ): void {\n        this.forSubtree( s => s.handleHover?.( target, ev ) );\n    }\n\n    fireMove( target: unknown, ev: PaneMouseEvent ): void {\n        this.forSubtree( s => s.handleMove?.( target, ev ) );\n    }\n\n    fireUnhover( target: unknown, ev: PaneMouseEvent ): void {\n        this.forSubtree( s => s.handleUnhover?.( target, ev ) );\n    }\n\n    fireGrab( target: unknown, ev: PaneMouseEvent ): void {\n        this.forSubtree( s => s.handleGrab?.( target, ev ) );\n    }\n\n    fireDrag( target: unknown, ev: PaneMouseEvent ): void {\n        this.forSubtree( s => s.handleDrag?.( target, ev ) );\n    }\n\n    fireUngrab( target: unknown, ev: PaneMouseEvent ): void {\n        this.forSubtree( s => s.handleUngrab?.( target, ev ) );\n    }\n\n    fireWheel( target: unknown, ev: PaneMouseEvent ): void {\n        this.forSubtree( s => s.handleWheel?.( target, ev ) );\n    }\n\n    fireFocus( target: unknown ): void {\n        this.forSubtree( s => s.handleFocus?.( target ) );\n    }\n\n    fireKeyPress( target: unknown, ev: PaneKeyEvent ): void {\n        this.forSubtree( s => s.handleKeyPress?.( target, ev ) );\n    }\n\n    fireKeyRelease( target: unknown, ev: PaneKeyEvent ): void {\n        this.forSubtree( s => s.handleKeyRelease?.( target, ev ) );\n    }\n\n    fireUnfocus( target: unknown ): void {\n        this.forSubtree( s => s.handleUnfocus?.( target ) );\n    }\n}\n\n\n\n// Inspect utils\n\nconst INSPECT_PICKING_CLASS = 'inspect-picking';\nconst INSPECT_HOVERED_CLASS = 'inspect-hovered';\nconst INSPECT_SELECTED_CLASS = 'inspect-selected';\n\n/**\n * To show a Gleam pane's peer in browser devtools: (1) run `gleamInspect()` in\n * the console, (2) click on the pane of interest, (3) click on the representation\n * of the pane's DOM peer that gets printed to the console.\n *\n * Alternatively: (1) select a DOM peer in the devtools element tree, (2) run\n * `gleamInspect($0)` in the console, (3) click on the representation of the\n * pane's DOM peer that gets printed to the console.\n *\n * For Step 3 above, some browsers require you to right-click the printed DOM peer,\n * then choose something like \"Reveal element\" from the popup menu. In other browsers,\n * the printed form of the DOM peer includes a clickable icon.\n *\n * `gleamInspect()` takes one optional argument:\n *  - If the arg is omitted, the inspected pane will be selected by mouse click\n *  - If the arg is `undefined`, the inspected pane will be selected by mouse click\n *  - If the arg is a DOM peer, the peer's associated pane becomes the inspected pane\n *  - If the arg is a `Pane`, that pane becomes the inspected pane\n *  - Otherwise an error is printed to the console\n */\nif ( !isDefined( ( window as any ).gleamInspect ) ) {\n    ( window as any ).gleamInspect = ( paneOrPeer?: unknown ) => {\n        if ( isPane( paneOrPeer ) ) {\n            setInspectSelectedPane( paneOrPeer );\n        }\n        else if ( isDomPeer( paneOrPeer ) ) {\n            setInspectSelectedDomPeer( paneOrPeer );\n        }\n        else if ( isNullish( paneOrPeer ) ) {\n            for ( const host of hosts ) {\n                setCssClassPresent( host, INSPECT_PICKING_CLASS, true );\n            }\n            console.info( 'Click on a pane to inspect it' );\n        }\n        else {\n            console.error( 'Item is not inspectable:\\n', paneOrPeer );\n        }\n    };\n}\n\nfunction getHostElement( domPeer: DomPeer ): Nullable<HTMLElement> {\n    const rootDomPeer = run( ( ) => {\n        for ( const ancestor of getDomPeerStack( domPeer ) ) {\n            return ancestor;\n        }\n        return undefined;\n    } );\n\n    const host = rootDomPeer?.parentElement;\n    if ( host?.classList.contains( HOST_CLASS ) ) {\n        return host;\n    }\n    else {\n        return null;\n    }\n}\n\nfunction isInspectPickingActive( pane: Pane ): boolean {\n    const host = getHostElement( pane.peer );\n    return !!( host?.classList.contains( INSPECT_PICKING_CLASS ) );\n}\n\nfunction setInspectHoveredPane( pane: Nullable<Pane> ): boolean {\n    let anyCssClassChanges = false;\n    const domPeer = pane?.peer;\n    for ( const host of hosts ) {\n        for ( const el of host.querySelectorAll( `.${INSPECT_HOVERED_CLASS}` ) ) {\n            anyCssClassChanges = setCssClassPresent( el, INSPECT_HOVERED_CLASS, el === domPeer ) || anyCssClassChanges;\n        }\n    }\n    if ( domPeer ) {\n        anyCssClassChanges = setCssClassPresent( domPeer, INSPECT_HOVERED_CLASS, true ) || anyCssClassChanges;\n    }\n    return anyCssClassChanges;\n}\n\nfunction setInspectSelectedPane( pane: Nullable<Pane> ): boolean {\n    return setInspectSelectedDomPeer( pane?.peer );\n}\n\nfunction setInspectSelectedDomPeer( domPeer?: DomPeer ): boolean {\n    let anyCssClassChanges = false;\n    for ( const host of hosts ) {\n        anyCssClassChanges = setCssClassPresent( host, INSPECT_PICKING_CLASS, false ) || anyCssClassChanges;\n    }\n    for ( const host of hosts ) {\n        for ( const el of host.querySelectorAll( `.${INSPECT_HOVERED_CLASS}` ) ) {\n            anyCssClassChanges = setCssClassPresent( el, INSPECT_HOVERED_CLASS, false ) || anyCssClassChanges;\n        }\n    }\n    for ( const host of hosts ) {\n        for ( const el of host.querySelectorAll( `.${INSPECT_SELECTED_CLASS}` ) ) {\n            anyCssClassChanges = setCssClassPresent( el, INSPECT_SELECTED_CLASS, el === domPeer ) || anyCssClassChanges;\n        }\n    }\n    if ( domPeer ) {\n        anyCssClassChanges = setCssClassPresent( domPeer, INSPECT_SELECTED_CLASS, true ) || anyCssClassChanges;\n    }\n\n    ( window as any ).$gleamInspected = domPeer;\n\n    if ( isNonNullish( domPeer ) ) {\n        console.log( inspectDomPeer( domPeer ) );\n    }\n\n    return anyCssClassChanges;\n}\n\nexport interface Inspectable {\n    PEER: HTMLElement;\n    SITE?: { [ key: string ]: unknown };\n    contraption?: Inspectable | Array<Inspectable>;\n    layout?: Inspectable | Array<Inspectable>;\n    style?: { [ key: string ]: unknown };\n    subtrees?: Array<Inspectable>;\n    other?: Array<Inspectable>;\n}\n\nexport function inspectGleamPeer( gleamPeer: { peer: Readonly<DomPeer> } ): Array<Inspectable> {\n    return inspectDomPeer( gleamPeer.peer );\n}\n\nexport function inspectDomPeer( domPeer: Readonly<DomPeer> ): Array<Inspectable> {\n    // TODO: We could reuse subtrees here, if there's a noticeable benefit to doing so\n    return [ ...getDomPeerStack( domPeer ) ].map( doInspectDomPeer );\n}\n\nexport function* getDomPeerStack( element: Readonly<HTMLElement> | null | undefined ): IterableIterator<DomPeer> {\n    if ( isDomPeer( element ) ) {\n        yield* getDomPeerStack( element.parentElement );\n        yield element;\n    }\n}\n\nfunction doInspectDomPeer( domPeer: DomPeer ): Inspectable {\n    const result: Inspectable = {\n        PEER: domPeer,\n    };\n\n    const { gleamPeer } = domPeer;\n\n    if ( isPane( gleamPeer ) ) {\n        const site = doInspectSite( gleamPeer );\n        if ( Object.entries( site ).length > 0 ) {\n            result.SITE = site;\n        }\n    }\n\n    const style = doInspectStyle( gleamPeer );\n    if ( Object.entries( style ).length > 0 ) {\n        result.style = style;\n    }\n\n    const contraptions = new Array<Inspectable>( );\n    const layouts = new Array<Inspectable>( );\n    const subtrees = new ArrayWithZIndices<Inspectable>( );\n    const other = new Array<Inspectable>( );\n    for ( const domChild of domPeer.children ) {\n        if ( isDomPeer( domChild ) ) {\n            const gleamChild = domChild.gleamPeer;\n            const inspectableChild = doInspectDomPeer( domChild );\n            switch ( domChild.gleamType ) {\n                case PeerType.CONTRAPTION:\n                    contraptions.push( inspectableChild );\n                    break;\n\n                case PeerType.LAYOUT:\n                    layouts.push( inspectableChild );\n                    break;\n\n                case PeerType.PANE:\n                case PeerType.PAINTER:\n                    if ( !domChild.classList.contains( 'inspect-highlight' ) ) {\n                        const zIndex = getZIndex( gleamPeer, gleamChild );\n                        if ( isDefined( zIndex ) ) {\n                            if ( !isDefined( inspectableChild.SITE ) ) {\n                                inspectableChild.SITE = {};\n                            }\n                            inspectableChild.SITE.Z_INDEX = zIndex;\n                        }\n                        subtrees.add( inspectableChild, zIndex );\n                    }\n                    break;\n\n                case PeerType.OTHER:\n                    other.push( inspectableChild );\n                    break;\n            }\n        }\n    }\n\n    switch ( contraptions.length ) {\n        case 0: break;\n        case 1: result.contraption = contraptions[0]; break;\n        default: result.contraption = contraptions;\n    }\n\n    switch ( layouts.length ) {\n        case 0: break;\n        case 1: result.layout = layouts[0]; break;\n        default: result.layout = layouts;\n    }\n\n    const subtrees2 = [ ...subtrees ];\n    switch ( subtrees2.length ) {\n        case 0: break;\n        default: result.subtrees = subtrees2;\n    }\n\n    switch ( other.length ) {\n        case 0: break;\n        default: result.other = other;\n    }\n\n    return result;\n}\n\nfunction getZIndex( gleamParent: any, gleamChild: any ): number | undefined {\n    if ( isfn( gleamParent.hasPane ) && isfn( gleamParent.getPaneZIndex ) && gleamParent.hasPane( gleamChild ) ) {\n        return gleamParent.getPaneZIndex( gleamChild );\n    }\n    else if ( isfn( gleamParent.hasPainter ) && isfn( gleamParent.getPainterZIndex ) && gleamParent.hasPainter( gleamChild ) ) {\n        return gleamParent.getPainterZIndex( gleamChild );\n    }\n    else {\n        return undefined;\n    }\n}\n\nfunction doInspectSite( pane: Pane ): { [ key: string ]: unknown } {\n    const result: { [ key: string ]: unknown } = {};\n\n    const viewport_PX = pane.getViewport_PX( );\n    result.VIEWPORT_PX = {\n        x: viewport_PX.xMin,\n        y: viewport_PX.yMin,\n        w: viewport_PX.w,\n        h: viewport_PX.h,\n    };\n\n    const parent = pane.getParent( );\n    if ( parent ) {\n        for ( const [ key, prop ] of Object.entries( parent.layout ) ) {\n            if ( isUnboundStyleProp( prop ) ) {\n                result[ prop.name ] = prop.get( pane.siteInParentStyle, pane.siteInParentOverrides[ key ] );\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction doInspectStyle( gleamPeer: unknown ): { [ key: string ]: unknown } {\n    const result: { [ key: string ]: unknown } = {};\n    if ( isobj( gleamPeer ) ) {\n        for ( const [ _, prop ] of Object.entries( gleamPeer ) ) {\n            if ( isStyleProp( prop ) ) {\n                result[ prop.name ] = formatStyleValue( prop.get( ) );\n            }\n        }\n    }\n    return result;\n}\n\nfunction formatStyleValue( v: any ): unknown {\n    if ( isDefined( v?.cssString ) ) {\n        return v.cssString;\n    }\n    if ( isNumber( v?.top ) && isNumber( v?.right ) && isNumber( v?.bottom ) && isNumber( v?.left ) ) {\n        return `${v.top} ${v.right} ${v.bottom} ${v.left}`;\n    }\n    else {\n        return v;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Nullable } from '@metsci/gleam-util';\nimport { createDomPeer, PeerType, Styleable, ValueBase2 } from '../support';\nimport { Axis1D } from './axis1d';\n\nexport class AxisLabelSet extends ValueBase2 {\n    constructor(\n        readonly axisLabels: ReadonlyArray<AxisLabel>,\n        readonly axisDividers: ReadonlyArray<AxisDivider>,\n    ) {\n        super( );\n    }\n}\n\nexport class AxisLabel extends ValueBase2 {\n    constructor(\n        /**\n         * Axis coord where the text's alignment point will\n         * end up.\n         */\n        readonly axisFrac: number,\n\n        /**\n         * Label text.\n         */\n        readonly text: string,\n\n        /**\n         * Text will not extend below this point -- it may\n         * get scooted forward, or simply not be drawn.\n         *\n         * Defaults to 0.\n         */\n        readonly minAxisFrac?: number,\n\n        /**\n         * Text will not extend above this point -- it may\n         * get scooted backward, or simply not be drawn.\n         *\n         * Defaults to 1.\n         */\n        readonly maxAxisFrac?: number,\n\n        /**\n         * Text alignment point. Typically on [0,1]:\n         *   0.0 = left-aligned\n         *   0.5 = centered\n         *   1.0 = right-aligned\n         *\n         * Defaults to 0.5.\n         */\n        readonly textAlignFrac?: number,\n    ) {\n        super( );\n    }\n}\n\nexport class AxisDivider extends ValueBase2 {\n    constructor(\n        /**\n         * Axis coord where the divider will be drawn.\n         */\n        readonly axisFrac: number,\n    ) {\n        super( );\n    }\n}\n\nexport class TickSet extends ValueBase2 {\n    constructor(\n        readonly majorTicks: ReadonlyArray<number>,\n        readonly minorTicks: ReadonlyArray<number>,\n        readonly formatTick: ( axisCoord: number ) => string,\n        readonly getAxisLabels: ( ) => AxisLabelSet,\n    ) {\n        super( );\n    }\n}\n\nexport const EMPTY_AXISLABELSET = new AxisLabelSet( [], [] );\n\nexport const EMPTY_TICKSET = new TickSet( [], [], ( ) => '', ( ) => EMPTY_AXISLABELSET );\n\nexport interface Ticker extends Styleable {\n    getTicks( axis: Nullable<Axis1D> ): TickSet;\n}\n\nexport class NullTicker implements Ticker {\n    readonly peer = createDomPeer( 'null-ticker', this, PeerType.OTHER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    getTicks( ): TickSet {\n        return EMPTY_TICKSET;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { ActivityListenable, ActivityListenableBasic, Disposer, Interval1D, Interval2D, nextDownFloat64, nextUpFloat64, Nullable, Point2D, x, y } from '@metsci/gleam-util';\nimport { Axis1D, Axis2D, AxisGroup1D, AxisGroupMember1D, AxisState1D } from '../core';\n\nexport function createCommonBoundsAxis1D(\n    bounds: Interval1D = Interval1D.fromEdges( -10, +10 ),\n    tieFrac: number = 0.0,\n): Axis1D {\n    return new Axis1D( new CommonBoundsAxisGroup1D( tieFrac, bounds ) );\n}\n\nexport function createCommonBoundsAxis2D(\n    bounds: Interval2D = Interval2D.fromEdges( -10, +10, -10, +10 ),\n    tieFrac: Point2D | [number,number] = [ 0.0, 0.0 ],\n): Axis2D {\n    return new Axis2D(\n        createCommonBoundsAxis1D( bounds.x, x( tieFrac ) ),\n        createCommonBoundsAxis1D( bounds.y, y( tieFrac ) ),\n    );\n}\n\nconst validSpanMin = nextUpFloat64( 1.0/Number.MAX_VALUE );\nexport const validSpanInterval = Object.freeze( Interval1D.fromEdges( validSpanMin, 1.0/validSpanMin ) );\n\nexport function isValidTieCoord( tieCoord: any ): tieCoord is Number {\n    return ( typeof( tieCoord ) === 'number' && isFinite( tieCoord ) );\n}\n\nexport function isValidSpanLpx( span_LPX: any ): span_LPX is Number {\n    return ( typeof( span_LPX ) === 'number' && isFinite( span_LPX ) && span_LPX > 0 );\n}\n\nexport function spanConstraintToScale( span_LPX: number, spanConstraint: Interval1D ): Nullable<Interval1D> {\n    if ( isValidSpanLpx( span_LPX ) ) {\n        const spanMin = Math.max( 0, spanConstraint.max );\n        const spanMax = Math.max( 0, spanConstraint.min );\n        return Interval1D.fromEdges( span_LPX / spanMin, span_LPX / spanMax );\n    }\n    else {\n        return null;\n    }\n}\n\nexport function scaleConstraintToSpan( span_LPX: number, scaleConstraint: Interval1D ): Nullable<Interval1D> {\n    if ( isValidSpanLpx( span_LPX ) ) {\n        const scaleMin = Math.max( 0, scaleConstraint.max );\n        const scaleMax = Math.max( 0, scaleConstraint.min );\n        return Interval1D.fromEdges( span_LPX / scaleMin, span_LPX / scaleMax );\n    }\n    else {\n        return null;\n    }\n}\n\nexport function minMaxConstraintsToSpan( minConstraint: Interval1D, maxConstraint: Interval1D ): Interval1D {\n    return Interval1D.fromEdges( maxConstraint.min - minConstraint.max, maxConstraint.max - minConstraint.min );\n}\n\nexport function combineAxisConstraints( axes: Iterable<AxisGroupMember1D>, getConstraint: ( axis: AxisGroupMember1D ) => Nullable<Interval1D> ): Interval1D {\n    let result = Interval1D.fromEdges( Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY );\n    for ( const axis of axes ) {\n        const interval = getConstraint( axis );\n        if ( interval ) {\n            result = doCombineConstraints( result, interval );\n        }\n    }\n    return result;\n}\n\n/**\n * Reduce constraints to a single constraint using `doCombineConstraints`. Order\n * matters, in some cases.\n */\nexport function combineConstraints( a: Interval1D, ...others: Nullable<Interval1D>[] ): Interval1D {\n    let result = a;\n    for ( const b of others ) {\n        if ( b ) {\n            result = doCombineConstraints( result, b );\n        }\n    }\n    return result;\n}\n\n/**\n * If `a` and `b` overlap, then return their intersection. Otherwise, return a\n * constraint that will clamp everything to whichever end of `a` is closer to `b`.\n * Order matters in some cases.\n */\nexport function doCombineConstraints( a: Interval1D, b: Interval1D ): Interval1D {\n    if ( a.max <= b.min ) {\n        return Interval1D.fromEdges( nextDownFloat64( a.max ), a.max );\n    }\n    else if ( b.max <= a.min ) {\n        return Interval1D.fromEdges( a.min, nextUpFloat64( a.min ) );\n    }\n    else {\n        const min = Math.max( a.min, b.min );\n        const max = Math.min( a.max, b.max );\n        return Interval1D.fromEdges( min, max );\n    }\n}\n\nexport class CommonBoundsAxisGroup1D implements AxisGroup1D {\n    protected readonly _changes: ActivityListenableBasic;\n\n    protected readonly tieFrac: number;\n    protected prioritizeMinConstraint: boolean;\n    protected readonly axes: Set<AxisGroupMember1D>;\n\n    protected span: number;\n    protected tieCoord: number;\n    protected stateMarker: object;\n\n    constructor( tieFrac: number, bounds: Interval1D ) {\n        this._changes = new ActivityListenableBasic( );\n\n        this.tieFrac = tieFrac;\n        this.prioritizeMinConstraint = true;\n        this.axes = new Set( );\n\n        this.span = bounds.span;\n        this.tieCoord = bounds.fracToValue( this.tieFrac );\n        this.stateMarker = {};\n    }\n\n    get changes( ): ActivityListenable {\n        return this._changes;\n    }\n\n    clone( ): CommonBoundsAxisGroup1D {\n        const min = this.tieCoord - this.tieFrac*this.span;\n        return new CommonBoundsAxisGroup1D( this.tieFrac, Interval1D.fromRect( min, this.span ) );\n    }\n\n    /**\n     * Intended usage is for client code to call `Axis1D.link()`, not to call this\n     * method directly. If you do call this method directly, call `reconstrain()`\n     * afterwards.\n     */\n    _addMember( axis: AxisGroupMember1D ): Disposer {\n        if ( this.axes.has( axis ) ) {\n            throw new Error( 'This axis is already a member of this group' );\n        }\n        else {\n            this.axes.add( axis );\n            return ( ) => {\n                this.axes.delete( axis );\n            };\n        }\n    }\n\n    set( ongoing: boolean, span_LPX: number, bounds: Interval1D ): void;\n    set( ongoing: boolean, span_LPX: number, min: number, max: number ): void;\n    set( ongoing: boolean, span_LPX: number, frac: number, coord: number, scale: number ): void;\n    set( ongoing: boolean, span_LPX: number, a: any, b?: any, c?: any ): void {\n        if ( c !== undefined ) {\n            const frac = a as number;\n            const coord = b as number;\n            const scale = c as number;\n            const span = span_LPX / scale;\n            return this.doSet( ongoing, frac, coord, span );\n        }\n        else if ( b !== undefined ) {\n            const min = a as number;\n            const max = b as number;\n            const span = max - min;\n            return this.doSet( ongoing, 0.0, min, span );\n        }\n        else {\n            const bounds = a as Interval1D;\n            return this.doSet( ongoing, 0.0, bounds.min, bounds.span );\n        }\n    }\n\n    pan( ongoing: boolean, span_LPX: number, frac: number, coord: number ): void {\n        this.doSet( ongoing, frac, coord, this.span );\n    }\n\n    reconstrain( ongoing: boolean ): void {\n        this.doSet( ongoing, this.tieFrac, this.tieCoord, this.span );\n    }\n\n    protected doSet( ongoing: boolean, frac: number, coord: number, span: number ): void {\n        const thisSpan = this.constrainSpan( span );\n        const thisTieCoord = this.constrainTieCoord( frac, coord, thisSpan );\n        if ( !Number.isNaN( thisSpan ) && isValidTieCoord( thisTieCoord ) ) {\n            this.span = thisSpan;\n            this.tieCoord = thisTieCoord;\n            this.fire( ongoing );\n        }\n    }\n\n    protected constrainSpan( span: number ): number {\n        const spanBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            return axis.spanConstraint;\n        } );\n\n        const scaleBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            return scaleConstraintToSpan( axis.span_LPX, axis.scaleConstraint );\n        } );\n\n        const minMaxBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            return minMaxConstraintsToSpan( axis.minConstraint, axis.maxConstraint );\n        } );\n\n        const constraint = combineConstraints( validSpanInterval,\n                                               spanBasedConstraint,\n                                               scaleBasedConstraint,\n                                               minMaxBasedConstraint );\n\n        return constraint.clamp( span );\n    }\n\n    protected constrainTieCoord( frac: number, coord: number, span: number ): number {\n        const tieCoord = coord + ( this.tieFrac - frac )*span;\n\n        const minBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            return axis.minConstraint.shift( this.tieFrac * span );\n        } );\n\n        const maxBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            return axis.maxConstraint.shift( ( this.tieFrac - 1 ) * span );\n        } );\n\n        const constraint = ( this.prioritizeMinConstraint ? combineConstraints( minBasedConstraint, maxBasedConstraint )\n                                                          : combineConstraints( maxBasedConstraint, minBasedConstraint ) );\n\n        return constraint.clamp( tieCoord );\n    }\n\n    protected fire( ongoing: boolean ): void {\n        this.stateMarker = {};\n        this._changes.fire( ongoing );\n    }\n\n    getStateMarker( ): object {\n        return this.stateMarker;\n    }\n\n    /**\n     * Convenience method that returns the common bounds, which are not affected by span_LPX.\n     */\n    getBounds( ): Interval1D {\n        const min = this.tieCoord - this.tieFrac*this.span;\n        return Interval1D.fromRect( min, this.span );\n    }\n\n    /**\n     * Convenience method that sets the common bounds, which are not affected by span_LPX.\n     */\n    setBounds( ongoing: boolean, bounds: Interval1D ): void;\n    setBounds( ongoing: boolean, min: number, max: number ): void;\n    setBounds( ongoing: boolean, a: any, b?: any ): void {\n        if ( b !== undefined ) {\n            const min = a as number;\n            const max = b as number;\n            const span = max - min;\n            return this.doSet( ongoing, 0.0, min, span );\n        }\n        else {\n            const bounds = a as Interval1D;\n            return this.doSet( ongoing, 0.0, bounds.min, bounds.span );\n        }\n    }\n\n    computeAxisState( span_LPX: number ): AxisState1D {\n        return {\n            span_LPX: span_LPX,\n            marker: this.stateMarker,\n            bounds: this.getBounds( ),\n            scale: span_LPX / this.span\n        };\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { ActivityListenable, ActivityListenableBasic, Disposer, Interval1D, nextUpFloat64, Nullable, Point2D, x, y } from '@metsci/gleam-util';\nimport { Axis1D, Axis2D, AxisGroup1D, AxisGroupMember1D, AxisState1D } from '../core';\nimport { isfn, isnum } from '../util';\nimport { combineAxisConstraints, combineConstraints, isValidSpanLpx, isValidTieCoord, minMaxConstraintsToSpan, spanConstraintToScale } from './commonBounds';\n\nexport function createCommonScaleAxis1D(\n    tieFrac: number = 0.5,\n    tieCoord: number = 0.0,\n    scale: number = 250,\n): Axis1D {\n    return new Axis1D( new CommonScaleAxisGroup1D( tieFrac, tieCoord, scale ) );\n}\n\nexport function createCommonScaleAxis2D(\n    tieFrac: Point2D | [number,number] = [ 0.5, 0.5 ],\n    tieCoord: Point2D | [number,number] = [ 0.0, 0.0 ],\n    scale: Point2D | [number,number] = [ 250, 250 ],\n): Axis2D {\n    return new Axis2D(\n        createCommonScaleAxis1D( x( tieFrac ), x( tieCoord ), x( scale ) ),\n        createCommonScaleAxis1D( y( tieFrac ), y( tieCoord ), y( scale ) ),\n    );\n}\n\nexport function lockScaleRatio( axisAB: Axis2D, ratio: number ): void;\nexport function lockScaleRatio( axisA: Axis1D, axisB: Axis1D, ratio: number ): void;\nexport function lockScaleRatio( arg0: any, arg1: any, arg2?: any ): void {\n    let axisA;\n    let axisB;\n    let ratio;\n    if ( arg2 === undefined ) {\n        axisA = ( arg0 as Axis2D ).x;\n        axisB = ( arg0 as Axis2D ).y;\n        ratio = arg1 as number;\n    }\n    else {\n        axisA = arg0 as Axis1D;\n        axisB = arg1 as Axis1D;\n        ratio = arg2 as number;\n    }\n\n    const groupA = axisA.getGroup( ) as any;\n    const groupB = axisB.getGroup( ) as any;\n    if ( isfn( groupA.setScaleRatioLock ) && isfn( groupB.setScaleRatioLock ) ) {\n        ( groupA as CommonScaleAxisGroup1D ).setScaleRatioLock( groupB as CommonScaleAxisGroup1D, ratio );\n    }\n    else {\n        throw new Error( 'Axes belong to groups that do not support scale-ratio locking' );\n    }\n}\n\nexport function unlockScaleRatio( axis: Axis1D ): void {\n    const group = axis.getGroup( ) as any;\n    if ( isfn( group.clearScaleRatioLock ) ) {\n        group.clearScaleRatioLock( );\n    }\n}\n\nexport interface ScaleRatioLock {\n    readonly group: CommonScaleAxisGroup1D;\n    readonly ratio: number;\n}\n\nconst validScaleMin = nextUpFloat64( 1.0/Number.MAX_VALUE );\nexport const validScaleInterval = Object.freeze( Interval1D.fromEdges( validScaleMin, 1.0/validScaleMin ) );\n\nexport function isValidScaleRatio( ratio: any ): ratio is Number {\n    return ( typeof( ratio ) === 'number' && isFinite( ratio ) && isFinite( 1.0/ratio ) && ratio > 0 );\n}\n\nexport class CommonScaleAxisGroup1D implements AxisGroup1D {\n    protected readonly _changes: ActivityListenableBasic;\n\n    protected readonly tieFrac: number;\n    protected prioritizeMinConstraint: boolean;\n    protected scaleRatioLock: Nullable<ScaleRatioLock>;\n    protected readonly axes: Set<AxisGroupMember1D>;\n\n    protected scale: number;\n    protected tieCoord: number;\n    protected stateMarker: object;\n\n    constructor( tieFrac: number, tieCoord?: number, scale?: number ) {\n        this._changes = new ActivityListenableBasic( );\n\n        this.tieFrac = tieFrac;\n        this.prioritizeMinConstraint = true;\n        this.scaleRatioLock = null;\n        this.axes = new Set( );\n\n        this.scale = ( scale !== undefined && !Number.isNaN( scale ) ? validScaleInterval.clamp( scale ) : 1000 );\n        this.tieCoord = ( isValidTieCoord( tieCoord ) ? tieCoord : 0 );\n        this.stateMarker = {};\n    }\n\n    get changes( ): ActivityListenable {\n        return this._changes;\n    }\n\n    clone( ): CommonScaleAxisGroup1D {\n        return new CommonScaleAxisGroup1D( this.tieFrac, this.tieCoord, this.scale );\n    }\n\n    /**\n     * Intended usage is for client code to call `Axis1D.link()`, not to call this\n     * method directly. If you do call this method directly, call `reconstrain()`\n     * afterwards.\n     */\n    _addMember( axis: AxisGroupMember1D ): Disposer {\n        if ( this.axes.has( axis ) ) {\n            throw new Error( 'This axis is already a member of this group' );\n        }\n        else {\n            this.axes.add( axis );\n            return ( ) => {\n                this.axes.delete( axis );\n            };\n        }\n    }\n\n    /**\n     * Call reconstrain() after calling this method.\n     */\n    setScaleRatioLock( other: CommonScaleAxisGroup1D, ratio: number ): void {\n        if ( isValidScaleRatio( ratio ) ) {\n            other.clearScaleRatioLock( );\n            this.scaleRatioLock = { group: other, ratio: ratio };\n            other.scaleRatioLock = { group: this, ratio: 1.0/ratio };\n        }\n        else {\n            throw new Error( 'Invalid scale ratio: ' + ratio );\n        }\n    }\n\n    /**\n     * Call reconstrain() after calling this method.\n     */\n    clearScaleRatioLock( ): void {\n        if ( this.scaleRatioLock ) {\n            const other = this.scaleRatioLock.group;\n            this.scaleRatioLock = null;\n            other.scaleRatioLock = null;\n        }\n    }\n\n    set( ongoing: boolean, span_LPX: number, bounds: Interval1D ): void;\n    set( ongoing: boolean, span_LPX: number, min: number, max: number ): void;\n    set( ongoing: boolean, span_LPX: number, frac: number, coord: number, scale: number ): void;\n    set( ongoing: boolean, span_LPX: number, a: any, b?: any, c?: any ): void {\n        if ( c !== undefined ) {\n            const frac = a as number;\n            const coord = b as number;\n            const scale = c as number;\n            return this.doSet( ongoing, { span_LPX, frac, coord }, scale );\n        }\n        else if ( b !== undefined ) {\n            const min = a as number;\n            const max = b as number;\n            const span = max - min;\n            const scale = span_LPX / span;\n            const tieCoord = min + this.tieFrac*span;\n            return this.doSet( ongoing, tieCoord, scale );\n        }\n        else {\n            const bounds = a as Interval1D;\n            const scale = span_LPX / bounds.span;\n            const tieCoord = bounds.fracToValue( this.tieFrac );\n            return this.doSet( ongoing, tieCoord, scale );\n        }\n    }\n\n    pan( ongoing: boolean, span_LPX: number, frac: number, coord: number ): void {\n        this.doSet( ongoing, { span_LPX, frac, coord }, this.scale );\n    }\n\n    reconstrain( ongoing: boolean ): void {\n        this.doSet( ongoing, this.tieCoord, this.scale );\n    }\n\n    protected doSet( ongoing: boolean, point: { span_LPX: number, frac: number, coord: number }, scale: number ): void;\n    protected doSet( ongoing: boolean, tieCoord: number, scale: number ): void;\n    protected doSet( ongoing: boolean, pointOrTieCoord: { span_LPX: number, frac: number, coord: number } | number, scale: number ): void {\n        // Don't even attempt to update things if scale is zero or NaN\n        if ( scale > 0 ) {\n            // It's not entirely safe to scale and translate separately, because the scale\n            // constraint really ought to consider the LOCAL floating-point precision at the\n            // relevant axis coords, and disallow zooming in beyond that precision. However,\n            // that would be non-trivial to implement, and in practice is generally prevented\n            // by application-specific constraints anyway.\n            if ( this.scaleRatioLock ) {\n                const other = this.scaleRatioLock.group;\n                const thisScale = this.constrainScale( scale );\n                const otherScale = thisScale / this.scaleRatioLock.ratio;\n                const thisTieCoord = this.constrainTieCoord( pointOrTieCoord, thisScale );\n                const otherTieCoord = other.constrainTieCoord( other.tieCoord, otherScale );\n                if ( !Number.isNaN( thisScale ) && !Number.isNaN( otherScale ) && isValidTieCoord( thisTieCoord ) && isValidTieCoord( otherTieCoord ) ) {\n                    this.scale = thisScale;\n                    other.scale = otherScale;\n                    this.tieCoord = thisTieCoord;\n                    other.tieCoord = otherTieCoord;\n                    this.fire( ongoing );\n                    other.fire( ongoing );\n                }\n            }\n            else {\n                const thisScale = this.constrainScale( scale );\n                const thisTieCoord = this.constrainTieCoord( pointOrTieCoord, thisScale );\n                if ( !Number.isNaN( thisScale ) && isValidTieCoord( thisTieCoord ) ) {\n                    this.scale = thisScale;\n                    this.tieCoord = thisTieCoord;\n                    this.fire( ongoing );\n                }\n            }\n        }\n    }\n\n    protected constrainScale( scale: number ): number {\n        if ( this.scaleRatioLock ) {\n            const other = this.scaleRatioLock.group;\n            const thisConstraint = this.getScaleConstraint( );\n            const otherConstraint = other.getScaleConstraint( );\n            const constraint = ( thisConstraint ).intersection( otherConstraint.scale( this.scaleRatioLock.ratio ) );\n            return constraint.clamp( scale );\n        }\n        else {\n            const constraint = this.getScaleConstraint( );\n            return constraint.clamp( scale );\n        }\n    }\n\n    protected getScaleConstraint( ): Interval1D {\n        const scaleBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            return axis.scaleConstraint;\n        } );\n\n        const spanBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            return spanConstraintToScale( axis.span_LPX, axis.spanConstraint );\n        } );\n\n        const minMaxBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            const spanConstraint = minMaxConstraintsToSpan( axis.minConstraint, axis.maxConstraint );\n            return spanConstraintToScale( axis.span_LPX, spanConstraint );\n        } );\n\n        return combineConstraints( scaleBasedConstraint, spanBasedConstraint, minMaxBasedConstraint );\n    }\n\n    protected constrainTieCoord( pointOrTieCoord: { span_LPX: number, frac: number, coord: number } | number, scale: number ): number {\n        const tieCoord = ( isnum( pointOrTieCoord ) ? pointOrTieCoord : this.computeTieCoord( pointOrTieCoord, scale ) );\n\n        const minBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            const span_LPX = axis.span_LPX;\n            return ( isValidSpanLpx( span_LPX ) ? axis.minConstraint.shift( this.tieFrac * span_LPX / scale ) : null );\n        } );\n\n        const maxBasedConstraint = combineAxisConstraints( this.axes, axis => {\n            const span_LPX = axis.span_LPX;\n            return ( isValidSpanLpx( span_LPX ) ? axis.maxConstraint.shift( ( this.tieFrac - 1 ) * span_LPX / scale ) : null );\n        } );\n\n        const constraint = ( this.prioritizeMinConstraint ? combineConstraints( minBasedConstraint, maxBasedConstraint )\n                                                          : combineConstraints( maxBasedConstraint, minBasedConstraint ) );\n\n        return constraint.clamp( tieCoord );\n    }\n\n    protected computeTieCoord( point: { span_LPX: number, frac: number, coord: number }, scale: number ): number {\n        // Note that span doesn't matter when point is right at this.tieFrac\n        const span = point.span_LPX / scale;\n        return point.coord + ( this.tieFrac - point.frac )*span;\n    }\n\n    protected fire( ongoing: boolean ): void {\n        this.stateMarker = {};\n        this._changes.fire( ongoing );\n    }\n\n    getStateMarker( ): object {\n        return this.stateMarker;\n    }\n\n    getTieCoord( ): number {\n        return this.tieCoord;\n    }\n\n    getTieFrac( ): number {\n        return this.tieFrac;\n    }\n\n    getScale( ): number {\n        return this.scale;\n    }\n\n    computeAxisState( span_LPX: number ): AxisState1D {\n        const span = span_LPX / this.scale;\n        const min = this.tieCoord - this.tieFrac*span;\n        return {\n            span_LPX: span_LPX,\n            marker: this.stateMarker,\n            bounds: Interval1D.fromRect( min, span ),\n            scale: this.scale\n        };\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Interval2D, LinkedSet, newImmutableSet, Size2D } from '@metsci/gleam-util';\nimport { LayoutBase, Pane } from '../core';\nimport { cssBoolean, cssFloat, cssString, currentDpr, StyleProp, UnboundStyleProp } from '../support';\nimport { computeGridChildViewports_PX, computeGridPrefSize_PX, RowsConfig, setColumnKey, setRowKey } from './gridLayout';\n\n/**\n * Like a `GridLayout` with a single row. Honors `GridLayout`'s column-\n * related CSS properties.\n *\n * Unlike `GridLayout`, this class makes all visible children into visible\n * columns, ordered to match the order in which they were added to the parent\n * pane. In many cases this is simpler for the caller than using `GridLayout`\n * itself.\n */\nexport class ColumnsLayout extends LayoutBase {\n    readonly rightToLeft = StyleProp.create( this.style, '--right-to-left', cssBoolean, false );\n    readonly gapBetweenColumns_LPX = StyleProp.create( this.style, '--gap-between-columns-px', cssFloat, 0 );\n\n    readonly columnWidth = UnboundStyleProp.create( '--column-width', cssString, 'flex(0,pref)' );\n\n    protected _visibleColumnKeys: LinkedSet<string>;\n\n    constructor( ) {\n        super( 'columns-layout' );\n        this._visibleColumnKeys = new LinkedSet( );\n    }\n\n    get visibleColumnKeys( ): ReadonlySet<string> {\n        return this._visibleColumnKeys;\n    }\n\n    computePrefSize_PX( children: Iterable<Pane> ): Size2D {\n        updateChildRowKeys( children );\n        this._visibleColumnKeys = updateChildColumnKeys( children );\n        return computeGridPrefSize_PX( currentDpr( this ), children, SINGLE_ROW_CONFIG, this );\n    }\n\n    computeChildViewports_PX( viewport_PX: Interval2D, children: Iterable<Pane> ): Map<Pane,Interval2D> {\n        return computeGridChildViewports_PX( currentDpr( this ), viewport_PX, children, SINGLE_ROW_CONFIG, this );\n    }\n}\n\nconst SINGLE_ROW_CONFIG: RowsConfig = Object.freeze( {\n    topToBottom: { get( ) { return true } },\n    gapBetweenRows_LPX: { get( ) { return 0 } },\n\n    rowHeight: { get( ) { return 'flex(0,pref)' } },\n\n    visibleRowKeys: newImmutableSet( [] ),\n} );\n\nfunction updateChildRowKeys( children: Iterable<Pane> ): void {\n    for ( const child of children ) {\n        if ( child.isVisible( ) ) {\n            setRowKey( child, 'ALL' );\n        }\n    }\n}\n\nfunction updateChildColumnKeys( children: Iterable<Pane> ): LinkedSet<string> {\n    const visibleColumnKeys = new LinkedSet<string>( );\n    let nextChildNum = 0;\n    for ( const child of children ) {\n        const childNum = nextChildNum++;\n        if ( child.isVisible( ) ) {\n            const columnKey = childNum.toFixed( );\n            setColumnKey( child, columnKey );\n            visibleColumnKeys.add( columnKey );\n        }\n    }\n    return visibleColumnKeys;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Interval2D, LinkedSet, newImmutableSet, Size2D } from '@metsci/gleam-util';\nimport { LayoutBase, Pane } from '../core';\nimport { cssBoolean, cssFloat, cssString, currentDpr, StyleProp, UnboundStyleProp } from '../support';\nimport { ColumnsConfig, computeGridChildViewports_PX, computeGridPrefSize_PX, setColumnKey, setRowKey } from './gridLayout';\n\n/**\n * Like a `GridLayout` with a single column. Honors `GridLayout`'s row-\n * related CSS properties.\n *\n * Unlike `GridLayout`, this class makes all visible children into visible\n * rows, ordered to match the order in which they were added to the parent\n * pane. In many cases this is simpler for the caller than using `GridLayout`\n * itself.\n */\nexport class RowsLayout extends LayoutBase {\n    readonly topToBottom = StyleProp.create( this.style, '--top-to-bottom', cssBoolean, false );\n    readonly gapBetweenRows_LPX = StyleProp.create( this.style, '--gap-between-rows-px', cssFloat, 0 );\n\n    readonly rowHeight = UnboundStyleProp.create( '--row-height', cssString, 'flex(0,pref)' );\n\n    _visibleRowKeys: LinkedSet<string>;\n\n    constructor( ) {\n        super( 'rows-layout' );\n        this._visibleRowKeys = new LinkedSet( );\n    }\n\n    get visibleRowKeys( ): ReadonlySet<string> {\n        return this._visibleRowKeys;\n    }\n\n    computePrefSize_PX( children: Iterable<Pane> ): Size2D {\n        updateChildColumnKeys( children );\n        this._visibleRowKeys = updateChildRowKeys( children );\n        return computeGridPrefSize_PX( currentDpr( this ), children, this, SINGLE_COLUMN_CONFIG );\n    }\n\n    computeChildViewports_PX( viewport_PX: Interval2D, children: Iterable<Pane> ): Map<Pane,Interval2D> {\n        return computeGridChildViewports_PX( currentDpr( this ), viewport_PX, children, this, SINGLE_COLUMN_CONFIG );\n    }\n}\n\nconst SINGLE_COLUMN_CONFIG: ColumnsConfig = Object.freeze( {\n    rightToLeft: { get( ) { return true } },\n    gapBetweenColumns_LPX: { get( ) { return 0 } },\n\n    columnWidth: { get( ) { return 'flex(0,pref)' } },\n\n    visibleColumnKeys: newImmutableSet( [] ),\n} );\n\nfunction updateChildColumnKeys( children: Iterable<Pane> ): void {\n    for ( const child of children ) {\n        if ( child.isVisible( ) ) {\n            setColumnKey( child, 'ALL' );\n        }\n    }\n}\n\nfunction updateChildRowKeys( children: Iterable<Pane> ): LinkedSet<string> {\n    const visibleRowKeys = new LinkedSet<string>( );\n    let nextChildNum = 0;\n    for ( const child of children ) {\n        const childNum = nextChildNum++;\n        if ( child.isVisible( ) ) {\n            const rowKey = childNum.toFixed( );\n            setRowKey( child, rowKey );\n            visibleRowKeys.add( rowKey );\n        }\n    }\n    return visibleRowKeys;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { appendChild, atMost, clamp, equal, findIndexNearest, Interval1D, Interval2D, Nullable, numberOr, RefBasic, requireEqual, requireTrue, run, Size2D, Supplier, tripleEquals } from '@metsci/gleam-util';\nimport { Axis1D, AxisLabelSet, Context, Painter, texImage2D, Ticker } from '../../core';\nimport { createDomPeer, cssColor, cssFloat, cssString, currentDpr, EAST, Edge, enablePremultipliedAlphaBlending, getGlyphCount, getTextWidth, GL, glUniformRgba, NORTH, PeerType, pushBufferToDevice_BYTES, putAlignedBox, putTextCoords, SOUTH, StyleProp, TextAtlasCache, ValueBase2, WEST, xPixelToNdc, yUpwardPixelToNdc } from '../../support';\n\nimport markFragShader_GLSL from './mark.frag';\nimport markVertShader_GLSL from './mark.vert';\nimport textFragShader_GLSL from './text.frag';\nimport textVertShader_GLSL from './text.vert';\n\nconst MARK_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: markVertShader_GLSL,\n    fragShader_GLSL: markFragShader_GLSL,\n    uniformNames: [ 'RGBA' ] as const,\n    attribNames: [ 'inCoords' ] as const,\n} );\n\nconst TEXT_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: textVertShader_GLSL,\n    fragShader_GLSL: textFragShader_GLSL,\n    uniformNames: [ 'ATLAS', 'RGBA' ] as const,\n    attribNames: [ 'inCoords', 'inColor' ] as const,\n} );\n\nexport class CoordsInputs extends ValueBase2 {\n    constructor(\n        readonly majorTicks: ReadonlyArray<number>,\n        readonly minorTicks: ReadonlyArray<number>,\n        readonly formatTick: ( axisCoord: number ) => string,\n        readonly axisLabelSet: AxisLabelSet,\n        readonly axisBounds: Interval1D,\n        readonly axisViewport_PX: Interval1D,\n        readonly viewport_PX: Interval2D,\n        readonly markLength_PX: number,\n        readonly markWidth_PX: number,\n        readonly spaceFromMarkToText_PX: number,\n        readonly spaceFromTextToTitle_PX: number,\n        readonly edgeOffset_PX: number,\n        readonly textFont: string,\n    ) {\n        super( );\n    }\n}\n\n/**\n * Tick coords are subject to floating-point precision errors,\n * which can make a tick mark rattle back and forth between two\n * pixels while the axis is panning. An actual solution would\n * take some work -- however, there's an easy workaround for the\n * only case common enough to matter in practice.\n *\n * It is common for an axis to get initialized with bounds that\n * are nice round numbers, resulting in ticks that fall on the\n * leftmost or rightmost pixel edges. When such an axis gets\n * panned, the ticks are no longer at the edges of the pane, but\n * but still fall on pixel edges.\n *\n * The easy workaround for this case is to nudge tick coords a\n * small fraction of a pixel, so that nice round numbers don't\n * fall precisely on pixel edges.\n */\nexport const tickOffsetEpsilon_PX = 1e-12;\n\nexport class AxisPainter implements Painter {\n    readonly peer = createDomPeer( 'axis-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly textFont = StyleProp.create( this.style, '--text-font', cssString, '13px sans-serif' );\n    readonly textColor = StyleProp.create( this.style, '--text-color', cssColor, 'rgb(127,127,127)' );\n    readonly markColor = StyleProp.create( this.style, '--tick-color', cssColor, 'rgb(127,127,127)' );\n    readonly dividerColor = StyleProp.create( this.style, '--divider-color', cssColor, 'rgb(170,170,170)' );\n    readonly markLength_LPX = StyleProp.create( this.style, '--tick-length-px', cssFloat, 6 );\n    readonly markWidth_LPX = StyleProp.create( this.style, '--tick-width-px', cssFloat, 1 );\n    readonly dividerWidth_LPX = StyleProp.create( this.style, '--divider-width-px', cssFloat, 1 );\n    readonly edgeOffset_LPX = StyleProp.create( this.style, '--edge-offset-px', cssFloat, 0 );\n    readonly spaceFromMarkToText_LPX = StyleProp.create( this.style, '--space-tick-to-text-px', cssFloat, 4 );\n    readonly spaceFromTextToTitle_LPX = StyleProp.create( this.style, '--space-text-to-title-px', cssFloat, 5 );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    readonly axis: Axis1D;\n    readonly ticker: Ticker;\n    protected readonly labelEdge: Edge;\n\n    /**\n     * Mark coords followed by text coords:\n     *  - Mark coords: x_NDC, y_NDC\n     *  - Text coords: x_NDC, y_NDC, s_FRAC, t_FRAC\n     */\n    protected hCoords: Float32Array;\n    protected hTextAtlasCache: TextAtlasCache;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsBytes: number;\n    protected dCoordsInputs: Nullable<CoordsInputs>;\n    protected dMarkVertexCount: number;\n    protected dDividerVertexCount: number;\n    protected dTextVertexCount: number;\n\n    /**\n     * `labelEdge` indicates which edge to put the axis labels on.\n     */\n    constructor( axis: Axis1D, labelEdge: Edge, createTicker: Supplier<Ticker>, textAtlasCache?: TextAtlasCache ) {\n        this.axis = axis;\n        this.labelEdge = labelEdge;\n        this.ticker = createTicker( );\n        appendChild( this.peer, this.ticker.peer );\n\n        this.hCoords = new Float32Array( 0 );\n        this.hTextAtlasCache = textAtlasCache ?? new TextAtlasCache( );\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n        this.dMarkVertexCount = 0;\n        this.dDividerVertexCount = 0;\n        this.dTextVertexCount = 0;\n    }\n\n    getPrefSize_PX( ): Size2D {\n        const textFont = this.textFont.get( );\n        const markLength_LPX = this.markLength_LPX.get( );\n        const edgeOffset_LPX = this.edgeOffset_LPX.get( );\n        const spaceFromMarkToText_LPX = this.spaceFromMarkToText_LPX.get( );\n        const spaceFromTextToTitle_LPX = this.spaceFromTextToTitle_LPX.get( );\n\n        const dpr = currentDpr( this );\n        const markLength_PX = Math.round( markLength_LPX * dpr );\n        const edgeOffset_PX = Math.round( edgeOffset_LPX * dpr );\n        const spaceFromMarkToText_PX = Math.round( spaceFromMarkToText_LPX * dpr );\n        const spaceFromTextToTitle_PX = Math.round( spaceFromTextToTitle_LPX * dpr );\n\n        const hTextAtlas = this.hTextAtlasCache.get( textFont, dpr, undefined );\n\n        const tickSet = this.ticker.getTicks( this.axis );\n        const axisLabelSet = tickSet.getAxisLabels( );\n        const haveAxisLabels = run( ( ) => {\n            for ( const axisLabel of axisLabelSet.axisLabels ) {\n                if ( axisLabel.text.trim( ).length > 0 ) {\n                    return true;\n                }\n            }\n            return false;\n        } );\n        const titleSize_PX = ( haveAxisLabels ? spaceFromTextToTitle_PX + hTextAtlas.getMaxInnerDescent( ) + hTextAtlas.getMaxInnerAscent( ) : 0 );\n\n        const tickTexts = new Array<string>( );\n        for ( const coord_AXIS of tickSet.majorTicks ) {\n            tickTexts.push( tickSet.formatTick( coord_AXIS ) );\n        }\n\n        if ( this.labelEdge === NORTH || this.labelEdge === SOUTH ) {\n            // The extra spaceFromMarkToText at the end is for padding\n            // Ignore tick-text descent, because numbers generally have no descent\n            const prefHeight_PX = edgeOffset_PX + markLength_PX + spaceFromMarkToText_PX + hTextAtlas.getMaxInnerAscent( ) + titleSize_PX + spaceFromMarkToText_PX;\n            return new Size2D( 0, prefHeight_PX );\n        }\n        else {\n            const wDigits_PX = Math.max( 0, ...tickTexts.map( tickText => ( tickText.match( /[^+-.]/g ) ?? [] ).length ) ) * getTextWidth( hTextAtlas, '0' );\n            const wDecimalPoint_PX = ( tickTexts[0]?.includes( '.' ) ? getTextWidth( hTextAtlas, '.' ) : 0 );\n            const wSign_PX = Math.max( getTextWidth( hTextAtlas, '-' ), getTextWidth( hTextAtlas, '+' ) );\n            const wTickTextMax_PX = wDigits_PX + wDecimalPoint_PX + wSign_PX;\n            // The extra spaceFromMarkToText at the end is for padding\n            const prefWidth_PX = edgeOffset_PX + markLength_PX + spaceFromMarkToText_PX + wTickTextMax_PX + titleSize_PX + spaceFromMarkToText_PX;\n            return new Size2D( prefWidth_PX, 0 );\n        }\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const textFont = this.textFont.get( );\n        const textColor = this.textColor.get( );\n        const markColor = this.markColor.get( );\n        const markLength_LPX = this.markLength_LPX.get( );\n        const markWidth_LPX = this.markWidth_LPX.get( );\n        const dividerColor = this.dividerColor.get( );\n        const dividerWidth_LPX = this.dividerWidth_LPX.get( );\n        const edgeOffset_LPX = this.edgeOffset_LPX.get( );\n        const spaceFromMarkToText_LPX = this.spaceFromMarkToText_LPX.get( );\n        const spaceFromTextToTitle_LPX = this.spaceFromTextToTitle_LPX.get( );\n\n        // Convert from logical pixels to device pixels\n        const dpr = currentDpr( this );\n        const markLength_PX = Math.round( markLength_LPX * dpr );\n        const markWidth_PX = Math.round( markWidth_LPX * dpr );\n        const dividerWidth_PX = Math.round( dividerWidth_LPX * dpr );\n        const edgeOffset_PX = Math.round( edgeOffset_LPX * dpr );\n        const spaceFromMarkToText_PX = Math.round( spaceFromMarkToText_LPX * dpr );\n        const spaceFromTextToTitle_PX = Math.round( spaceFromTextToTitle_LPX * dpr );\n\n        const gl = context.gl;\n\n        const textVisible = ( textColor.a > 0 );\n        const marksVisible = ( markColor.a > 0 && markLength_PX > 0 && markWidth_PX > 0 );\n        const dividersVisible = ( dividerColor.a > 0 && dividerWidth_PX > 0 );\n        if ( textVisible || marksVisible ) {\n            // Reset device resources on context reincarnation\n            if ( context.glIncarnation !== this.glIncarnation ) {\n                this.glIncarnation = context.glIncarnation;\n                this.dCoords = gl.createBuffer( );\n                this.dCoordsBytes = -1;\n                this.dCoordsInputs = null;\n                this.dMarkVertexCount = 0;\n                this.dTextVertexCount = 0;\n            }\n\n            // Gather coords inputs\n            const axisBounds = this.axis.bounds;\n            const axisViewport_PX = this.axis.viewport_PX;\n            const { majorTicks, minorTicks, formatTick, getAxisLabels } = this.ticker.getTicks( this.axis );\n            const axisLabelSet = getAxisLabels( );\n            const coordsInputs = new CoordsInputs(\n                majorTicks,\n                minorTicks,\n                formatTick,\n                axisLabelSet,\n                axisBounds,\n                axisViewport_PX,\n                viewport_PX,\n                markLength_PX,\n                markWidth_PX,\n                spaceFromMarkToText_PX,\n                spaceFromTextToTitle_PX,\n                edgeOffset_PX,\n                textFont,\n            );\n\n            // Repopulate device text atlas, if necessary\n            const hTextAtlas = this.hTextAtlasCache.get( textFont, dpr, context.frameNum );\n            const dTextAtlas = context.getTexture( `gleam.Axis.Text.${textFont}`, [ dpr ], ( gl, target ) => {\n                gl.texParameteri( target, GL.TEXTURE_MAG_FILTER, GL.NEAREST );\n                gl.texParameteri( target, GL.TEXTURE_MIN_FILTER, GL.NEAREST );\n                gl.texParameteri( target, GL.TEXTURE_WRAP_S, GL.CLAMP_TO_EDGE );\n                gl.texParameteri( target, GL.TEXTURE_WRAP_T, GL.CLAMP_TO_EDGE );\n                return texImage2D( gl, target, GL.LUMINANCE, GL.UNSIGNED_BYTE, hTextAtlas.getPixels( ) );\n            } );\n\n            // Leave these bindings in place for the whole method\n            gl.activeTexture( GL.TEXTURE0 );\n            gl.bindTexture( GL.TEXTURE_2D, dTextAtlas.texture );\n            gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n            // Repopulate device coords, if necessary\n            if ( !equal( coordsInputs, this.dCoordsInputs ) ) {\n                const titles = axisLabelSet.axisLabels;\n                const dividers = axisLabelSet.axisDividers;\n\n                const tickTexts = new Array<string>( );\n                for ( const coord_AXIS of majorTicks ) {\n                    tickTexts.push( formatTick( coord_AXIS ) );\n                }\n\n                const markCount = majorTicks.length;\n                const markCoordCount = 12 * markCount;\n\n                const dividerCount = dividers.length;\n                const dividerCoordCount = 12 * dividerCount;\n\n                let glyphCount = 0;\n                for ( const title of titles ) {\n                    glyphCount += getGlyphCount( hTextAtlas, title.text );\n                }\n                for ( const tickText of tickTexts ) {\n                    glyphCount += getGlyphCount( hTextAtlas, tickText );\n                }\n                const maxTextCoordCount = 24 * glyphCount;\n\n                const maxTotalCoordCount = markCoordCount + dividerCoordCount + maxTextCoordCount;\n                if ( this.hCoords.length < maxTotalCoordCount ) {\n                    const hCoordsFloats = Math.max( maxTotalCoordCount, 2*this.hCoords.length );\n                    this.hCoords = new Float32Array( hCoordsFloats );\n                }\n\n                let iMark0 = 0;\n                let iDivider0 = iMark0 + markCoordCount;\n                let iText0 = iDivider0 + dividerCoordCount;\n\n                let iMark = iMark0;\n                let iDivider = iDivider0;\n                let iText = iText0;\n\n                if ( this.labelEdge === NORTH || this.labelEdge === SOUTH ) {\n                    let yMarkTop_UPX;\n                    let yDividerMax_UPX;\n                    let yDividerMin_UPX;\n                    let yTickText_UPX;\n                    let yTitleText_UPX;\n                    if ( this.labelEdge === SOUTH ) {\n                        yMarkTop_UPX = viewport_PX.h - edgeOffset_PX;\n                        yTickText_UPX = yMarkTop_UPX - markLength_PX - spaceFromMarkToText_PX - hTextAtlas.getMaxInnerAscent( );\n                        yTitleText_UPX = yTickText_UPX - hTextAtlas.getMaxInnerDescent( ) - spaceFromTextToTitle_PX - hTextAtlas.getMaxInnerAscent( );\n                        yDividerMax_UPX = yTickText_UPX - spaceFromMarkToText_PX;\n                        yDividerMin_UPX = 0;\n                    }\n                    else {\n                        yMarkTop_UPX = edgeOffset_PX + markLength_PX;\n                        // Ignore descent, because numbers generally have no descent\n                        //yTickText_UPX = yMarkTop_UPX + spaceFromMarkToText_PX + this.hTextAtlas.getMaxInnerDescent( );\n                        yTickText_UPX = yMarkTop_UPX + spaceFromMarkToText_PX;\n                        yTitleText_UPX = yTickText_UPX + hTextAtlas.getMaxInnerAscent( ) + spaceFromTextToTitle_PX + hTextAtlas.getMaxInnerDescent( );\n                        yDividerMax_UPX = viewport_PX.h;\n                        yDividerMin_UPX = yTickText_UPX + hTextAtlas.getMaxInnerAscent( ) + spaceFromMarkToText_PX;\n                    }\n                    const yTickText_PX = Math.round( viewport_PX.h - yTickText_UPX );\n                    const yTitleText_PX = Math.round( viewport_PX.h - yTitleText_UPX );\n\n                    for ( const title of titles ) {\n                        const x_PX = ( axisViewport_PX.min - viewport_PX.xMin ) + ( title.axisFrac * axisViewport_PX.span );\n\n                        const text = title.text;\n                        const textAlignFrac = numberOr( title.textAlignFrac, 0.5 );\n                        const wText_PX = getTextWidth( hTextAtlas, text );\n                        const xTextPref_PX = x_PX - textAlignFrac*wText_PX;\n\n                        const minAxisFrac = numberOr( title.minAxisFrac, 0 );\n                        const maxAxisFrac = numberOr( title.maxAxisFrac, 1 );\n                        const xTextMin_PX = ( axisViewport_PX.min - viewport_PX.xMin ) + ( minAxisFrac * axisViewport_PX.span );\n                        const xTextMax_PX = ( axisViewport_PX.min - viewport_PX.xMin ) + ( maxAxisFrac * axisViewport_PX.span ) - wText_PX;\n\n                        const xText_PX = Math.round( clamp( xTextMin_PX, xTextMax_PX, xTextPref_PX ) + tickOffsetEpsilon_PX );\n\n                        if ( xTextMin_PX <= xText_PX && xText_PX <= xTextMax_PX ) {\n                            iText = putTextCoords( hTextAtlas, this.hCoords, iText, viewport_PX, xText_PX, yTitleText_PX, 0, text );\n                        }\n                    }\n\n                    for ( const divider of dividers ) {\n                        const x_PX = ( axisViewport_PX.min - viewport_PX.xMin ) + ( divider.axisFrac * axisViewport_PX.span );\n\n                        const xDividerMin_PX = Math.round( x_PX - 0.5*markWidth_PX + tickOffsetEpsilon_PX );\n                        const xDividerMin_NDC = xPixelToNdc( viewport_PX.x, xDividerMin_PX );\n                        const xDividerMax_NDC = xDividerMin_NDC + ( dividerWidth_PX * 2 / viewport_PX.w );\n                        const yDividerMin_NDC = yUpwardPixelToNdc( viewport_PX.y, yDividerMin_UPX );\n                        const yDividerMax_NDC = yUpwardPixelToNdc( viewport_PX.y, yDividerMax_UPX );\n                        iDivider = putAlignedBox( this.hCoords, iDivider, xDividerMin_NDC, xDividerMax_NDC, yDividerMin_NDC, yDividerMax_NDC );\n                    }\n\n                    // TODO: Improve text overlap avoidance\n                    let xTextMinAllowed_PX = Number.NEGATIVE_INFINITY;\n                    const wRequiredTextSpacing_PX = 0.5*getTextWidth( hTextAtlas, '0' );\n                    for ( let tickNum = 0; tickNum < majorTicks.length; tickNum++ ) {\n                        const x_FRAC = axisBounds.valueToFrac( majorTicks[ tickNum ] );\n                        const x_PX = ( axisViewport_PX.min - viewport_PX.xMin ) + ( x_FRAC * axisViewport_PX.span );\n\n                        const xMarkMin_PX = Math.round( x_PX - 0.5*markWidth_PX + tickOffsetEpsilon_PX );\n                        const xMarkMin_NDC = xPixelToNdc( viewport_PX.x, xMarkMin_PX );\n                        const xMarkMax_NDC = xMarkMin_NDC + ( markWidth_PX * 2 / viewport_PX.w );\n                        const yMarkMax_NDC = yUpwardPixelToNdc( viewport_PX.y, yMarkTop_UPX );\n                        const yMarkMin_NDC = yMarkMax_NDC - ( markLength_PX * 2 / viewport_PX.h );\n                        iMark = putAlignedBox( this.hCoords, iMark, xMarkMin_NDC, xMarkMax_NDC, yMarkMin_NDC, yMarkMax_NDC );\n\n                        const text = tickTexts[ tickNum ];\n                        const wText_PX = getTextWidth( hTextAtlas, text );\n                        const wAbsText_PX = ( text.startsWith( '-' ) ? getTextWidth( hTextAtlas, text.substring( 1 ) ) : wText_PX );\n                        const xTextPref_PX = xMarkMin_PX + Math.round( 0.5*markWidth_PX + 0.5*wAbsText_PX - wText_PX );\n                        const xText_PX = clamp( 0, viewport_PX.w - wText_PX, xTextPref_PX );\n                        if ( xText_PX >= xTextMinAllowed_PX ) {\n                            iText = putTextCoords( hTextAtlas, this.hCoords, iText, viewport_PX, xText_PX, yTickText_PX, 0, text );\n                            xTextMinAllowed_PX = xText_PX + wText_PX + wRequiredTextSpacing_PX;\n                        }\n                    }\n                }\n                else if ( this.labelEdge === WEST ) {\n                    const xMarkRight_PX = viewport_PX.w - edgeOffset_PX;\n                    const xTickTextRight_PX = xMarkRight_PX - markLength_PX - spaceFromMarkToText_PX;\n                    const wDigits_PX = Math.max( 0, ...tickTexts.map( tickText => ( tickText.match( /[^+-.]/g ) ?? [] ).length ) ) * getTextWidth( hTextAtlas, '0' );\n                    const wDecimalPoint_PX = ( tickTexts[0]?.includes( '.' ) ? getTextWidth( hTextAtlas, '.' ) : 0 );\n                    const wSign_PX = Math.max( getTextWidth( hTextAtlas, '-' ), getTextWidth( hTextAtlas, '+' ) );\n                    const wTickTextMax_PX = wDigits_PX + wDecimalPoint_PX + wSign_PX;\n                    const xTitleText_PX = xTickTextRight_PX - wTickTextMax_PX - spaceFromTextToTitle_PX - hTextAtlas.getMaxInnerDescent( );\n\n                    for ( const title of titles ) {\n                        const y_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( title.axisFrac * axisViewport_PX.span );\n\n                        const text = title.text;\n                        const textAlignFrac = numberOr( title.textAlignFrac, 0.5 );\n                        const hText_PX = getTextWidth( hTextAtlas, text );\n                        const yTextPref_UPX = y_UPX - textAlignFrac*hText_PX;\n\n                        const minAxisFrac = numberOr( title.minAxisFrac, 0 );\n                        const maxAxisFrac = numberOr( title.maxAxisFrac, 1 );\n                        const yTextMin_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( minAxisFrac * axisViewport_PX.span );\n                        const yTextMax_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( maxAxisFrac * axisViewport_PX.span ) - hText_PX;\n\n                        const yText_UPX = Math.round( clamp( yTextMin_UPX, yTextMax_UPX, yTextPref_UPX ) + tickOffsetEpsilon_PX );\n\n                        if ( yTextMin_UPX <= yText_UPX && yText_UPX <= yTextMax_UPX ) {\n                            const yText_PX = viewport_PX.h - yText_UPX;\n                            iText = putTextCoords( hTextAtlas, this.hCoords, iText, viewport_PX, xTitleText_PX, yText_PX, 0.5*Math.PI, text );\n                        }\n                    }\n\n                    for ( const divider of dividers ) {\n                        const y_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( divider.axisFrac * axisViewport_PX.span );\n\n                        const yDividerMin_UPX = Math.round( y_UPX - 0.5*markWidth_PX + tickOffsetEpsilon_PX );\n                        const yDividerMin_NDC = yUpwardPixelToNdc( viewport_PX.y, yDividerMin_UPX );\n                        const yDividerMax_NDC = yDividerMin_NDC + ( dividerWidth_PX * 2 / viewport_PX.h );\n                        const nearestTickNum = findIndexNearest( majorTicks, y => axisBounds.valueToFrac( y ) - divider.axisFrac );\n                        const wTickText_PX = getTextWidth( hTextAtlas, tickTexts[ nearestTickNum ] );\n                        const xDividerMax_PX = xTickTextRight_PX - wTickText_PX - spaceFromMarkToText_PX;\n                        const xDividerMax_NDC = xPixelToNdc( viewport_PX.x, xDividerMax_PX );\n                        const xDividerMin_NDC = -1.0;\n                        iDivider = putAlignedBox( this.hCoords, iDivider, xDividerMin_NDC, xDividerMax_NDC, yDividerMin_NDC, yDividerMax_NDC );\n                    }\n\n                    for ( let tickNum = 0; tickNum < majorTicks.length; tickNum++ ) {\n                        const y_FRAC = axisBounds.valueToFrac( majorTicks[ tickNum ] );\n                        const y_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( y_FRAC * axisViewport_PX.span );\n\n                        const yMarkMin_UPX = Math.round( y_UPX - 0.5*markWidth_PX + tickOffsetEpsilon_PX );\n                        const yMarkMin_NDC = yUpwardPixelToNdc( viewport_PX.y, yMarkMin_UPX );\n                        const yMarkMax_NDC = yMarkMin_NDC + ( markWidth_PX * 2 / viewport_PX.h );\n                        const xMarkMax_NDC = xPixelToNdc( viewport_PX.x, xMarkRight_PX );\n                        const xMarkMin_NDC = xMarkMax_NDC - ( markLength_PX * 2 / viewport_PX.w );\n                        iMark = putAlignedBox( this.hCoords, iMark, xMarkMin_NDC, xMarkMax_NDC, yMarkMin_NDC, yMarkMax_NDC );\n\n                        const text = tickTexts[ tickNum ];\n                        const wText_PX = getTextWidth( hTextAtlas, text );\n                        const xText_PX = xTickTextRight_PX - wText_PX;\n                        const yText_UPX = yMarkMin_UPX + Math.round( 0.5*markWidth_PX - 0.5*hTextAtlas.getMaxInnerAscent( ) );\n                        const yTextPref_PX = viewport_PX.h - yText_UPX;\n                        // Ignore descent, because numbers generally have no descent\n                        //const yText_PX = clamp( this.hTextAtlas.getMaxInnerAscent( ), viewport_PX.h - this.hTextAtlas.getMaxInnerDescent( ), yTextPref_PX );\n                        const yText_PX = clamp( hTextAtlas.getMaxInnerAscent( ), viewport_PX.h, yTextPref_PX );\n                        iText = putTextCoords( hTextAtlas, this.hCoords, iText, viewport_PX, xText_PX, yText_PX, 0, text );\n                    }\n                }\n                else if ( this.labelEdge === EAST ) {\n                    const xMarkLeft_PX = edgeOffset_PX;\n                    const xTickText_PX = xMarkLeft_PX + markLength_PX + spaceFromMarkToText_PX;\n                    const wDigits_PX = Math.max( 0, ...tickTexts.map( tickText => ( tickText.match( /[^+-.]/g ) ?? [] ).length ) ) * getTextWidth( hTextAtlas, '0' );\n                    const wDecimalPoint_PX = ( tickTexts[0]?.includes( '.' ) ? getTextWidth( hTextAtlas, '.' ) : 0 );\n                    const wSign_PX = Math.max( getTextWidth( hTextAtlas, '-' ), getTextWidth( hTextAtlas, '+' ) );\n                    const wTickTextMax_PX = wDigits_PX + wDecimalPoint_PX + wSign_PX;\n                    const xTitleText_PX = xTickText_PX + wTickTextMax_PX + spaceFromTextToTitle_PX + hTextAtlas.getMaxInnerAscent( );\n\n                    for ( const title of titles ) {\n                        const y_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( title.axisFrac * axisViewport_PX.span );\n\n                        const text = title.text;\n                        const textAlignFrac = numberOr( title.textAlignFrac, 0.5 );\n                        const hText_PX = getTextWidth( hTextAtlas, text );\n                        const yTextPref_UPX = y_UPX - textAlignFrac*hText_PX;\n\n                        const minAxisFrac = numberOr( title.minAxisFrac, 0 );\n                        const maxAxisFrac = numberOr( title.maxAxisFrac, 1 );\n                        const yTextMin_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( minAxisFrac * axisViewport_PX.span );\n                        const yTextMax_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( maxAxisFrac * axisViewport_PX.span ) - hText_PX;\n\n                        const yText_UPX = Math.round( clamp( yTextMin_UPX, yTextMax_UPX, yTextPref_UPX ) + tickOffsetEpsilon_PX );\n\n                        if ( yTextMin_UPX <= yText_UPX && yText_UPX <= yTextMax_UPX ) {\n                            const yText_PX = viewport_PX.h - yText_UPX;\n                            iText = putTextCoords( hTextAtlas, this.hCoords, iText, viewport_PX, xTitleText_PX, yText_PX, 0.5*Math.PI, text );\n                        }\n                    }\n\n                    for ( const divider of dividers ) {\n                        const y_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( divider.axisFrac * axisViewport_PX.span );\n\n                        const yDividerMin_UPX = Math.round( y_UPX - 0.5*markWidth_PX + tickOffsetEpsilon_PX );\n                        const yDividerMin_NDC = yUpwardPixelToNdc( viewport_PX.y, yDividerMin_UPX );\n                        const yDividerMax_NDC = yDividerMin_NDC + ( dividerWidth_PX * 2 / viewport_PX.h );\n                        const nearestTickNum = findIndexNearest( majorTicks, y => axisBounds.valueToFrac( y ) - divider.axisFrac );\n                        const wTickText_PX = getTextWidth( hTextAtlas, tickTexts[ nearestTickNum ] );\n                        const xDividerMin_PX = xTickText_PX + wTickText_PX + spaceFromMarkToText_PX;\n                        const xDividerMin_NDC = xPixelToNdc( viewport_PX.x, xDividerMin_PX );\n                        const xDividerMax_NDC = +1.0;\n                        iDivider = putAlignedBox( this.hCoords, iDivider, xDividerMin_NDC, xDividerMax_NDC, yDividerMin_NDC, yDividerMax_NDC );\n                    }\n\n                    for ( let tickNum = 0; tickNum < majorTicks.length; tickNum++ ) {\n                        const y_FRAC = axisBounds.valueToFrac( majorTicks[ tickNum ] );\n                        const y_UPX = ( axisViewport_PX.min - viewport_PX.yMin ) + ( y_FRAC * axisViewport_PX.span );\n\n                        const yMarkMin_UPX = Math.round( y_UPX - 0.5*markWidth_PX + tickOffsetEpsilon_PX );\n                        const yMarkMin_NDC = yUpwardPixelToNdc( viewport_PX.y, yMarkMin_UPX );\n                        const yMarkMax_NDC = yMarkMin_NDC + ( markWidth_PX * 2 / viewport_PX.h );\n                        const xMarkMin_NDC = xPixelToNdc( viewport_PX.x, xMarkLeft_PX );\n                        const xMarkMax_NDC = xMarkMin_NDC + ( markLength_PX * 2 / viewport_PX.w );\n                        iMark = putAlignedBox( this.hCoords, iMark, xMarkMin_NDC, xMarkMax_NDC, yMarkMin_NDC, yMarkMax_NDC );\n\n                        const text = tickTexts[ tickNum ];\n                        const yText_UPX = yMarkMin_UPX + Math.round( 0.5*markWidth_PX - 0.5*hTextAtlas.getMaxInnerAscent( ) );\n                        const yTextPref_PX = viewport_PX.h - yText_UPX;\n                        // Ignore descent, because numbers generally have no descent\n                        //const yText_PX = clamp( this.hTextAtlas.getMaxInnerAscent( ), viewport_PX.h - this.hTextAtlas.getMaxInnerDescent( ), yTextPref_PX );\n                        const yText_PX = clamp( hTextAtlas.getMaxInnerAscent( ), viewport_PX.h, yTextPref_PX );\n                        iText = putTextCoords( hTextAtlas, this.hCoords, iText, viewport_PX, xTickText_PX, yText_PX, 0, text );\n                    }\n                }\n\n                requireEqual( markCoordCount, iMark - iMark0 );\n                requireEqual( dividerCoordCount, iDivider - iDivider0 );\n                const textCoordCount = requireTrue( iText - iText0, atMost( maxTextCoordCount ) );\n                const totalCoordCount = markCoordCount + dividerCoordCount + textCoordCount;\n\n                //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                this.dCoordsBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dCoordsBytes, this.hCoords, totalCoordCount );\n                this.dCoordsInputs = coordsInputs;\n                this.dMarkVertexCount = markCoordCount / 2;\n                this.dDividerVertexCount = dividerCoordCount / 2;\n                this.dTextVertexCount = textCoordCount / 4;\n            }\n\n            // Render from device resources\n            const drawText = ( textVisible && this.dTextVertexCount >= 3 );\n            const drawMarks = ( marksVisible && this.dMarkVertexCount >= 3 );\n            const drawDividers = ( dividersVisible && this.dDividerVertexCount >= 3 );\n            if ( drawText || drawMarks || drawDividers ) {\n                const markProg = context.getProgram( MARK_PROG_SOURCE );\n                const textProg = context.getProgram( TEXT_PROG_SOURCE );\n                enablePremultipliedAlphaBlending( gl );\n\n                if ( drawMarks ) {\n                    const { program, attribs, uniforms } = markProg;\n                    gl.useProgram( program );\n                    gl.enableVertexAttribArray( attribs.inCoords );\n                    try {\n                        //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                        gl.vertexAttribPointer( attribs.inCoords, 2, GL.FLOAT, false, 0, 0 );\n\n                        glUniformRgba( gl, uniforms.RGBA, markColor );\n\n                        gl.drawArrays( GL.TRIANGLES, 0, this.dMarkVertexCount );\n                    }\n                    finally {\n                        gl.disableVertexAttribArray( attribs.inCoords );\n                        gl.useProgram( null );\n                    }\n                }\n\n                if ( drawDividers ) {\n                    const { program, attribs, uniforms } = markProg;\n                    gl.useProgram( program );\n                    gl.enableVertexAttribArray( attribs.inCoords );\n                    try {\n                        //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                        gl.vertexAttribPointer( attribs.inCoords, 2, GL.FLOAT, false, 0, 8*this.dMarkVertexCount );\n\n                        glUniformRgba( gl, uniforms.RGBA, dividerColor );\n\n                        gl.drawArrays( GL.TRIANGLES, 0, this.dDividerVertexCount );\n                    }\n                    finally {\n                        gl.disableVertexAttribArray( attribs.inCoords );\n                        gl.useProgram( null );\n                    }\n                }\n\n                if ( drawText ) {\n                    const { program, attribs, uniforms } = textProg;\n                    gl.useProgram( program );\n                    gl.enableVertexAttribArray( attribs.inCoords );\n                    try {\n                        //gl.activeTexture( GL.TEXTURE0 );\n                        //gl.bindTexture( GL.TEXTURE_2D, this.dTextAtlas.texture );\n                        gl.uniform1i( uniforms.ATLAS, 0 );\n\n                        //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                        gl.vertexAttribPointer( attribs.inCoords, 4, GL.FLOAT, false, 0, 8*( this.dMarkVertexCount + this.dDividerVertexCount ) );\n\n                        glUniformRgba( gl, uniforms.RGBA, textColor );\n\n                        gl.drawArrays( GL.TRIANGLES, 0, this.dTextVertexCount );\n                    }\n                    finally {\n                        gl.disableVertexAttribArray( attribs.inCoords );\n                        gl.useProgram( null );\n                    }\n                }\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n        this.dMarkVertexCount = 0;\n        this.dTextVertexCount = 0;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { equal, Interval2D, Nullable, Point2D, RefBasic, requireNonNull, Supplier, tripleEquals } from '@metsci/gleam-util';\nimport { Axis1D, Context, Painter } from '../../core';\nimport { AnchoredImage, createDomPeer, cssColor, cssFloat, currentDpr, Edge, enablePremultipliedAlphaBlending, ensureHostBufferCapacity, GL, glUniformEdge, glUniformInterval1D, glUniformInterval2D, glUniformRgba, PeerType, pushBufferToDevice_BYTES, put3f, StyleProp, ValueBase2 } from '../../support';\nimport { frozenSupplier } from '../../util';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    uniformNames: [\n        'EDGE',\n        'AXIS_LIMITS',\n        'AXIS_VIEWPORT_PX',\n        'VIEWPORT_PX',\n        'IMAGE',\n        'IMAGE_SIZE_PX',\n        'IMAGE_ANCHOR_PX',\n        'RGBA',\n    ] as const,\n    attribNames: [\n        'inCoords',\n    ] as const,\n} );\n\nexport class CoordsInputs extends ValueBase2 {\n    constructor(\n        readonly tagCoords: ReadonlyArray<number>,\n    ) {\n        super( );\n    }\n}\n\nexport class ImageInputs extends ValueBase2 {\n    constructor(\n        readonly tagWidth_PX: number,\n        readonly tagHeight_PX: number,\n        readonly tagLineWidth_PX: number,\n    ) {\n        super( );\n    }\n}\n\n// For use in createTagImage()\nconst canvas = document.createElement( 'canvas' );\nconst g = requireNonNull( canvas.getContext( '2d', { willReadFrequently: true } ) );\n\n/**\n * Returned images are grayscale and fully opaque, with black\n * background and white foreground. Alpha can be inferred from\n * the grayscale value. This avoids introducing rounding error\n * when converting colors from the Canvas's buffer (which most\n * browsers store with premultiplied alpha) to ImageData (which\n * is required to have non-premultiplied alpha).\n */\nexport function createTagImage( inputs: ImageInputs ): AnchoredImage {\n    // Add a border to avoid interpolation problems at image edges\n    const border = 1;\n\n    // Leave some extra space for the mitering of the tip corner\n    const tipMiterMargin = 1;\n\n    const wTag = inputs.tagWidth_PX;\n    const hTag = inputs.tagHeight_PX;\n    const lineWidth = inputs.tagLineWidth_PX;\n\n    const wTotal = Math.ceil( tipMiterMargin + wTag + lineWidth ) + 2*border;\n    const hTotal = Math.ceil( hTag + lineWidth ) + 2*border;\n    if ( canvas.width < wTotal || canvas.height < hTotal ) {\n        canvas.width = wTotal;\n        canvas.height = hTotal;\n    }\n\n    g.fillStyle = '#000000';\n    g.fillRect( 0, 0, wTotal, hTotal );\n\n    const xLeft = border + tipMiterMargin + 0.5*lineWidth;\n    const xMid = xLeft + 0.5*wTag;\n    const xRight = xLeft + wTag;\n\n    const yMid = 0.5*hTotal;\n    const yTop = yMid - 0.5*hTag;\n    const yBottom = yMid + 0.5*hTag;\n\n    g.beginPath( );\n    g.moveTo(  xLeft, yMid    );\n    g.lineTo(   xMid, yTop    );\n    g.lineTo( xRight, yTop    );\n    g.lineTo( xRight, yBottom );\n    g.lineTo(   xMid, yBottom );\n    g.closePath( );\n\n    g.globalAlpha = 0.3;\n    g.fillStyle = '#FFFFFF';\n    g.fill( );\n\n    g.globalAlpha = 1.0;\n    g.strokeStyle = '#FFFFFF';\n    g.lineWidth = lineWidth;\n    g.stroke( );\n\n    return {\n        xAnchor: border,\n        yAnchor: yMid,\n        border,\n        imageData: g.getImageData( 0, 0, wTotal, hTotal )\n    };\n}\n\nexport class TagsPainter implements Painter {\n    readonly peer = createDomPeer( 'tags-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly tagColor = StyleProp.create( this.style, '--color', cssColor, 'rgb(0,0,0)' );\n    readonly tagWidth_LPX = StyleProp.create( this.style, '--tag-width-px', cssFloat, 15 );\n    readonly tagHeight_LPX = StyleProp.create( this.style, '--tag-height-px', cssFloat, 11 );\n    readonly tagLineWidth_LPX = StyleProp.create( this.style, '--outline-width-px', cssFloat, 2 );\n    readonly edgeOffset_LPX = StyleProp.create( this.style, '--edge-offset-px', cssFloat, 0 );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    axis: Axis1D;\n    tagsEdge: Edge;\n    tagCoordsFn: Supplier<Iterable<number>>;\n\n    /**\n     * Coords: coord_AXIS\n     */\n    protected hCoords: Float32Array;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsBytes: number;\n    protected dCoordsInputs: Nullable<CoordsInputs>;\n    protected dImage: Nullable<WebGLTexture>;\n    protected dImageSize_PX: Point2D;\n    protected dImageAnchor_PX: Point2D;\n    protected dImageInputs: Nullable<ImageInputs>;\n\n    constructor( axis: Axis1D, tagsEdge: Edge, tagCoordsFn: Supplier<Iterable<number>> = frozenSupplier( [] ) ) {\n        this.axis = axis;\n        this.tagsEdge = tagsEdge;\n        this.tagCoordsFn = tagCoordsFn;\n\n        this.hCoords = new Float32Array( 0 );\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n        this.dImage = null;\n        this.dImageSize_PX = Point2D.ZERO;\n        this.dImageAnchor_PX = Point2D.ZERO;\n        this.dImageInputs = null;\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const tagColor = this.tagColor.get( );\n        const tagWidth_LPX = this.tagWidth_LPX.get( );\n        const tagHeight_LPX = this.tagHeight_LPX.get( );\n        const tagLineWidth_LPX = this.tagLineWidth_LPX.get( );\n        const edgeOffset_LPX = this.edgeOffset_LPX.get( );\n\n        // Convert from logical pixels to device pixels\n        const dpr = currentDpr( this );\n        const tagWidth_PX = Math.round( tagWidth_LPX * dpr );\n        const tagHeight_PX = Math.round( tagHeight_LPX * dpr );\n        const tagLineWidth_PX = Math.round( tagLineWidth_LPX * dpr );\n        const edgeOffset_PX = Math.round( edgeOffset_LPX * dpr );\n\n        const visible = ( tagColor.a > 0 && ( tagLineWidth_PX > 0 || ( tagWidth_PX > 0 && tagHeight_PX > 0 ) ) );\n        if ( visible ) {\n            const gl = context.gl;\n\n            // Reset device resources on context reincarnation\n            if ( context.glIncarnation !== this.glIncarnation ) {\n                this.glIncarnation = context.glIncarnation;\n                this.dCoords = gl.createBuffer( );\n                this.dCoordsBytes = -1;\n                this.dCoordsInputs = null;\n                this.dImage = gl.createTexture( );\n                this.dImageSize_PX = Point2D.ZERO;\n                this.dImageAnchor_PX = Point2D.ZERO;\n                this.dImageInputs = null;\n            }\n\n            // Leave this binding in place for the whole method\n            gl.activeTexture( GL.TEXTURE0 );\n            gl.bindTexture( GL.TEXTURE_2D, this.dImage );\n            gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n            // Gather image inputs\n            const imageInputs = new ImageInputs( tagWidth_PX, tagHeight_PX, tagLineWidth_PX );\n\n            // Repopulate device image, if inputs have changed\n            if ( !equal( imageInputs, this.dImageInputs ) ) {\n                //gl.bindTexture( GL.TEXTURE_2D, this.dImage );\n\n                gl.texParameteri( GL.TEXTURE_2D, GL.TEXTURE_MAG_FILTER, GL.NEAREST );\n                gl.texParameteri( GL.TEXTURE_2D, GL.TEXTURE_MIN_FILTER, GL.NEAREST );\n                gl.texParameteri( GL.TEXTURE_2D, GL.TEXTURE_WRAP_S, GL.CLAMP_TO_EDGE );\n                gl.texParameteri( GL.TEXTURE_2D, GL.TEXTURE_WRAP_T, GL.CLAMP_TO_EDGE );\n\n                const hImage = createTagImage( imageInputs );\n                const hPixels = hImage.imageData!;\n                gl.texImage2D( GL.TEXTURE_2D, 0, GL.LUMINANCE, GL.LUMINANCE, GL.UNSIGNED_BYTE, hPixels );\n                this.dImageSize_PX = new Point2D( hImage.imageData.width, hImage.imageData.height );\n                this.dImageAnchor_PX = new Point2D( hImage.xAnchor, hImage.yAnchor );\n\n                this.dImageInputs = imageInputs;\n            }\n\n            // Gather coords inputs\n            const tagCoords = [];\n            const axisBounds = this.axis.bounds;\n            for ( const tagCoord of this.tagCoordsFn( ) ) {\n                if ( axisBounds.containsPoint( tagCoord ) ) {\n                    tagCoords.push( tagCoord );\n                }\n            }\n            const numVertices = 6 * tagCoords.length;\n            const coordsInputs = new CoordsInputs( tagCoords );\n\n            // Repopulate device coords, if inputs have changed\n            if ( !equal( coordsInputs, this.dCoordsInputs ) ) {\n                const numCoords = 3 * numVertices;\n                this.hCoords = ensureHostBufferCapacity( this.hCoords, numCoords );\n\n                let i = 0;\n                for ( const tagCoord of tagCoords ) {\n                    i = put3f( this.hCoords, i, tagCoord, 0, 1 );\n                    i = put3f( this.hCoords, i, tagCoord, 0, 0 );\n                    i = put3f( this.hCoords, i, tagCoord, 1, 1 );\n\n                    i = put3f( this.hCoords, i, tagCoord, 1, 1 );\n                    i = put3f( this.hCoords, i, tagCoord, 0, 0 );\n                    i = put3f( this.hCoords, i, tagCoord, 1, 0 );\n                }\n\n                //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                this.dCoordsBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dCoordsBytes, this.hCoords, numCoords );\n                this.dCoordsInputs = coordsInputs;\n            }\n\n            // Render from device resources\n            if ( numVertices > 0 ) {\n                const { program, attribs, uniforms } = context.getProgram( PROG_SOURCE );\n                enablePremultipliedAlphaBlending( gl );\n                gl.useProgram( program );\n                gl.enableVertexAttribArray( attribs.inCoords );\n                try {\n                    //gl.activeTexture( GL.TEXTURE0 );\n                    //gl.bindTexture( GL.TEXTURE_2D, this.dImage );\n                    gl.uniform1i( uniforms.IMAGE, 0 );\n                    gl.uniform2f( uniforms.IMAGE_SIZE_PX, this.dImageSize_PX.x, this.dImageSize_PX.y );\n                    gl.uniform2f( uniforms.IMAGE_ANCHOR_PX, this.dImageAnchor_PX.x - edgeOffset_PX, this.dImageAnchor_PX.y );\n\n                    //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                    gl.vertexAttribPointer( attribs.inCoords, 3, GL.FLOAT, false, 0, 0 );\n\n                    glUniformEdge( gl, uniforms.EDGE, this.tagsEdge );\n                    glUniformInterval1D( gl, uniforms.AXIS_LIMITS, axisBounds );\n                    glUniformInterval1D( gl, uniforms.AXIS_VIEWPORT_PX, this.axis.viewport_PX );\n                    glUniformInterval2D( gl, uniforms.VIEWPORT_PX, viewport_PX );\n                    glUniformRgba( gl, uniforms.RGBA, tagColor );\n\n                    gl.drawArrays( GL.TRIANGLES, 0, numVertices );\n                }\n                finally {\n                    gl.disableVertexAttribArray( attribs.inCoords );\n                    gl.useProgram( null );\n                }\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { equal, Interval1D, Interval2D, Nullable, RefBasic, tripleEquals } from '@metsci/gleam-util';\nimport { Axis1D, Axis2D, Context, NullTicker, Painter, Ticker } from '../../core';\nimport { createDomPeer, cssColor, cssFloat, currentDpr, disableBlending, enablePremultipliedAlphaBlending, ensureHostBufferCapacity, GL, glUniformRgba, PeerType, pushBufferToDevice_BYTES, putHorizontalLines, putVerticalLines, StyleProp, ValueBase2 } from '../../support';\nimport { tickOffsetEpsilon_PX } from '../axisPainter/painter';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    uniformNames: [ 'RGBA' ] as const,\n    attribNames: [ 'inCoords' ] as const,\n} );\n\nexport class CoordsInputs extends ValueBase2 {\n    constructor(\n        readonly xMajors_AXIS: ReadonlyArray<number>,\n        readonly xMinors_AXIS: ReadonlyArray<number>,\n        readonly yMajors_AXIS: ReadonlyArray<number>,\n        readonly yMinors_AXIS: ReadonlyArray<number>,\n        readonly xBounds_AXIS: Nullable<Interval1D>,\n        readonly yBounds_AXIS: Nullable<Interval1D>,\n        readonly xAxisViewport_PX: Nullable<Interval1D>,\n        readonly yAxisViewport_PX: Nullable<Interval1D>,\n        readonly viewport_PX: Interval2D,\n        readonly majorWidth_PX: number,\n        readonly minorWidth_PX: number,\n    ) {\n        super( );\n    }\n}\n\nexport class GridPainter implements Painter {\n    readonly peer = createDomPeer( 'grid-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly majorColor = StyleProp.create( this.style, '--major-color', cssColor, 'rgb(0,0,0)' );\n    readonly minorColor = StyleProp.create( this.style, '--minor-color', cssColor, 'rgb(0,0,0)' );\n    readonly majorWidth_LPX = StyleProp.create( this.style, '--major-width-px', cssFloat, 1 );\n    readonly minorWidth_LPX = StyleProp.create( this.style, '--minor-width-px', cssFloat, 1 );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    xAxis: Nullable<Axis1D>;\n    yAxis: Nullable<Axis1D>;\n    xTicker: Ticker;\n    yTicker: Ticker;\n\n    /**\n     * Coords: x_NDC, yNDC\n     */\n    protected hCoords: Float32Array;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsBytes: number;\n    protected dCoordsInputs: Nullable<CoordsInputs>;\n\n    constructor( xyAxis: Axis2D, xTicker: Nullable<Ticker>, yTicker: Nullable<Ticker> );\n    constructor( xAxis: Nullable<Axis1D>, yAxis: Nullable<Axis1D>, xTicker: Nullable<Ticker>, yTicker: Nullable<Ticker> );\n    constructor( a: any, b: any, c: any, d?: any ) {\n        if ( d === undefined ) {\n            this.xAxis = ( a as Axis2D ).x;\n            this.yAxis = ( a as Axis2D ).y;\n            this.xTicker = ( b as Nullable<Ticker> ) ?? new NullTicker( );\n            this.yTicker = ( c as Nullable<Ticker> ) ?? new NullTicker( );\n        }\n        else {\n            this.xAxis = a as Nullable<Axis1D>;\n            this.yAxis = b as Nullable<Axis1D>;\n            this.xTicker = ( c as Nullable<Ticker> ) ?? new NullTicker( );\n            this.yTicker = ( d as Nullable<Ticker> ) ?? new NullTicker( );\n        }\n\n        this.hCoords = new Float32Array( 0 );\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        // Get style values\n        const majorColor = this.majorColor.get( );\n        const minorColor = this.minorColor.get( );\n        const majorWidth_LPX = this.majorWidth_LPX.get( );\n        const minorWidth_LPX = this.minorWidth_LPX.get( );\n\n        // Convert from logical pixels to device pixels\n        const dpr = currentDpr( this );\n        const majorWidth_PX = Math.round( majorWidth_LPX * dpr );\n        const minorWidth_PX = Math.round( minorWidth_LPX * dpr );\n\n        const majorsVisible = ( majorColor.a > 0 && majorWidth_PX > 0 );\n        const minorsVisible = ( minorColor.a > 0 && minorWidth_PX > 0 );\n        if ( majorsVisible || minorsVisible ) {\n            const gl = context.gl;\n\n            // Reset device resources on context reincarnation\n            if ( context.glIncarnation !== this.glIncarnation ) {\n                this.glIncarnation = context.glIncarnation;\n                this.dCoords = gl.createBuffer( );\n                this.dCoordsBytes = -1;\n                this.dCoordsInputs = null;\n            }\n\n            // Leave this binding in place for the whole method\n            gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n            // Gather coords inputs\n            const { majorTicks: xMajors_AXIS, minorTicks: xMinors_AXIS } = this.xTicker.getTicks( this.xAxis );\n            const { majorTicks: yMajors_AXIS, minorTicks: yMinors_AXIS } = this.yTicker.getTicks( this.yAxis );\n            const xBounds_AXIS = this.xAxis && this.xAxis.bounds;\n            const yBounds_AXIS = this.yAxis && this.yAxis.bounds;\n            const xAxisViewport_PX = this.xAxis && this.xAxis.viewport_PX;\n            const yAxisViewport_PX = this.yAxis && this.yAxis.viewport_PX;\n            const majorVertexCount = 6 * ( xMajors_AXIS.length + yMajors_AXIS.length );\n            const minorVertexCount = 6 * ( xMinors_AXIS.length + yMinors_AXIS.length );\n            const coordsInputs = new CoordsInputs(\n                xMajors_AXIS,\n                xMinors_AXIS,\n                yMajors_AXIS,\n                yMinors_AXIS,\n                xBounds_AXIS,\n                yBounds_AXIS,\n                xAxisViewport_PX,\n                yAxisViewport_PX,\n                viewport_PX,\n                majorWidth_PX,\n                minorWidth_PX,\n            );\n\n            // Repopulate device resources, if inputs have changed\n            if ( !equal( coordsInputs, this.dCoordsInputs ) ) {\n                const numCoords = 2 * ( majorVertexCount + minorVertexCount );\n                this.hCoords = ensureHostBufferCapacity( this.hCoords, numCoords );\n\n                let i = 0;\n                i = putVerticalLines( this.hCoords, i, viewport_PX, majorWidth_PX, tickOffsetEpsilon_PX, this.xAxis, xMajors_AXIS );\n                i = putHorizontalLines( this.hCoords, i, viewport_PX, majorWidth_PX, tickOffsetEpsilon_PX, this.yAxis, yMajors_AXIS );\n                i = putVerticalLines( this.hCoords, i, viewport_PX, minorWidth_PX, tickOffsetEpsilon_PX, this.xAxis, xMinors_AXIS );\n                i = putHorizontalLines( this.hCoords, i, viewport_PX, minorWidth_PX, tickOffsetEpsilon_PX, this.yAxis, yMinors_AXIS );\n\n                //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                this.dCoordsBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dCoordsBytes, this.hCoords, numCoords );\n                this.dCoordsInputs = coordsInputs;\n            }\n\n            // Render from device resources\n            const drawMajors = ( majorsVisible && majorVertexCount >= 3 );\n            const drawMinors = ( minorsVisible && minorVertexCount >= 3 );\n            if ( drawMajors || drawMinors ) {\n                if ( ( drawMajors && majorColor.a < 1 ) || ( drawMinors && minorColor.a < 1 ) ) {\n                    enablePremultipliedAlphaBlending( gl );\n                }\n                else {\n                    disableBlending( gl );\n                }\n\n                const { program, attribs, uniforms } = context.getProgram( PROG_SOURCE );\n                gl.useProgram( program );\n                gl.enableVertexAttribArray( attribs.inCoords );\n                try {\n                    //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                    gl.vertexAttribPointer( attribs.inCoords, 2, GL.FLOAT, false, 0, 0 );\n\n                    if ( drawMinors ) {\n                        glUniformRgba( gl, uniforms.RGBA, minorColor );\n                        gl.drawArrays( GL.TRIANGLES, majorVertexCount, minorVertexCount );\n                    }\n\n                    if ( drawMajors ) {\n                        glUniformRgba( gl, uniforms.RGBA, majorColor );\n                        gl.drawArrays( GL.TRIANGLES, 0, majorVertexCount );\n                    }\n                }\n                finally {\n                    gl.disableVertexAttribArray( attribs.inCoords );\n                    gl.useProgram( null );\n                }\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { equal, Interval2D, Nullable, RefBasic, Supplier, tripleEquals } from '@metsci/gleam-util';\nimport { Context, Painter } from '../../core';\nimport { createDomPeer, cssColor, cssFloat, currentDpr, disableBlending, enablePremultipliedAlphaBlending, ensureHostBufferCapacity, GL, glUniformInterval2D, glUniformRgba, PeerType, pushBufferToDevice_BYTES, put4f, StyleProp, ValueBase2 } from '../../support';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    uniformNames: [\n        'VIEWPORT_PX',\n        'AXIS_VIEWPORT_PX',\n        'RGBA',\n    ] as const,\n    attribNames: [\n        'inCoords',\n    ] as const,\n} );\n\nexport class CoordsInputs extends ValueBase2 {\n    constructor(\n        readonly width_PX: number,\n    ) {\n        super( );\n    }\n}\n\nexport function coordsInputsEqual( a: Nullable<CoordsInputs>, b: Nullable<CoordsInputs> ): boolean {\n    if ( a === b ) {\n        return true;\n    }\n    else if ( a === null || b === null ) {\n        return false;\n    }\n    else {\n        return ( a.width_PX === b.width_PX );\n    }\n}\n\nexport class PlotBorderPainter implements Painter {\n    readonly peer = createDomPeer( 'plot-border-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly color = StyleProp.create( this.style, '--color', cssColor, 'rgb(0,0,0)' );\n    readonly width_LPX = StyleProp.create( this.style, '--width-px', cssFloat, 1 );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    axisViewportFn_PX: Supplier<Interval2D>;\n\n    /**\n     * Coords: xBase_XFRAC, yBase_YFRAC, xOffset_PX, yOffset_PX\n     */\n    protected hCoords: Float32Array;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsBytes: number;\n    protected dCoordsInputs: Nullable<CoordsInputs>;\n\n    constructor( axisViewportFn_PX: Supplier<Interval2D> ) {\n        this.axisViewportFn_PX = axisViewportFn_PX;\n\n        this.hCoords = new Float32Array( 0 );\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const color = this.color.get( );\n        const width_LPX = this.width_LPX.get( );\n\n        const dpr = currentDpr( this );\n        const width_PX = Math.round( width_LPX * dpr );\n\n        if ( width_PX > 0 && color.a > 0 ) {\n            const gl = context.gl;\n\n            // Reset device resources on context reincarnation\n            if ( context.glIncarnation !== this.glIncarnation ) {\n                this.glIncarnation = context.glIncarnation;\n                this.dCoords = gl.createBuffer( );\n                this.dCoordsBytes = -1;\n                this.dCoordsInputs = null;\n            }\n\n            // Leave this binding in place for the whole method\n            gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n            // Gather coords inputs\n            const numVertices = 24;\n            const coordsInputs = new CoordsInputs( width_PX );\n\n            // Repopulate device resources, if inputs have changed\n            if ( !equal( coordsInputs, this.dCoordsInputs ) ) {\n                const numCoords = 4 * numVertices;\n                this.hCoords = ensureHostBufferCapacity( this.hCoords, numCoords );\n\n                const outward_PX = width_PX >> 1;\n                const inward_PX = width_PX - outward_PX;\n\n                let i = 0;\n\n                // Top\n                i = put4f( this.hCoords, i, 0, 1,  +inward_PX, +outward_PX );\n                i = put4f( this.hCoords, i, 0, 1,  +inward_PX,  -inward_PX );\n                i = put4f( this.hCoords, i, 1, 1, +outward_PX, +outward_PX );\n                i = put4f( this.hCoords, i, 1, 1, +outward_PX, +outward_PX );\n                i = put4f( this.hCoords, i, 0, 1,  +inward_PX,  -inward_PX );\n                i = put4f( this.hCoords, i, 1, 1, +outward_PX,  -inward_PX );\n\n                // Right\n                i = put4f( this.hCoords, i, 1, 1,  -inward_PX,  -inward_PX );\n                i = put4f( this.hCoords, i, 1, 0,  -inward_PX, -outward_PX );\n                i = put4f( this.hCoords, i, 1, 1, +outward_PX,  -inward_PX );\n                i = put4f( this.hCoords, i, 1, 1, +outward_PX,  -inward_PX );\n                i = put4f( this.hCoords, i, 1, 0,  -inward_PX, -outward_PX );\n                i = put4f( this.hCoords, i, 1, 0, +outward_PX, -outward_PX );\n\n                // Bottom\n                i = put4f( this.hCoords, i, 0, 0, -outward_PX,  +inward_PX );\n                i = put4f( this.hCoords, i, 0, 0, -outward_PX,  -outward_PX );\n                i = put4f( this.hCoords, i, 1, 0,  -inward_PX,  +inward_PX );\n                i = put4f( this.hCoords, i, 1, 0,  -inward_PX,  +inward_PX );\n                i = put4f( this.hCoords, i, 0, 0, -outward_PX, -outward_PX );\n                i = put4f( this.hCoords, i, 1, 0,  -inward_PX, -outward_PX );\n\n                // Left\n                i = put4f( this.hCoords, i, 0, 1, -outward_PX, +outward_PX );\n                i = put4f( this.hCoords, i, 0, 0, -outward_PX,  +inward_PX );\n                i = put4f( this.hCoords, i, 0, 1,  +inward_PX, +outward_PX );\n                i = put4f( this.hCoords, i, 0, 1,  +inward_PX, +outward_PX );\n                i = put4f( this.hCoords, i, 0, 0, -outward_PX,  +inward_PX );\n                i = put4f( this.hCoords, i, 0, 0,  +inward_PX,  +inward_PX );\n\n                //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                this.dCoordsBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dCoordsBytes, this.hCoords, numCoords );\n                this.dCoordsInputs = coordsInputs;\n            }\n\n            // Render from device resources\n            if ( numVertices >= 3 ) {\n                if ( color.a < 1 ) {\n                    enablePremultipliedAlphaBlending( gl );\n                }\n                else {\n                    disableBlending( gl );\n                }\n\n                const { program, attribs, uniforms } = context.getProgram( PROG_SOURCE );\n                gl.useProgram( program );\n                gl.enableVertexAttribArray( attribs.inCoords );\n                try {\n                    //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                    gl.vertexAttribPointer( attribs.inCoords, 4, GL.FLOAT, false, 0, 0 );\n\n                    glUniformInterval2D( gl, uniforms.VIEWPORT_PX, viewport_PX );\n                    glUniformInterval2D( gl, uniforms.AXIS_VIEWPORT_PX, this.axisViewportFn_PX( ) );\n                    glUniformRgba( gl, uniforms.RGBA, color );\n\n                    gl.drawArrays( GL.TRIANGLES, 0, numVertices );\n                }\n                finally {\n                    gl.disableVertexAttribArray( attribs.inCoords );\n                    gl.useProgram( null );\n                }\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { alwaysTrue, clamp, equal, Interval2D, isDefined, Nullable, RefBasic, run, Supplier, tripleEquals } from '@metsci/gleam-util';\nimport { Context, Painter } from '../../core';\nimport { createDomPeer, cssColor, cssEnum, cssFloat, currentDpr, enablePremultipliedAlphaBlending, ensureHostBufferCapacity, GL, GLSL_HIGHP_MAXVALUE, glUniformInterval2D, glUniformRgba, PeerType, pushBufferToDevice_BYTES, put3f, put4f, put6f, StyleProp, ValueBase2 } from '../../support';\nimport { frozenSupplier } from '../../util';\n\nimport fillFragShader_GLSL from './fillShader.frag';\nimport fillVertShader_GLSL from './fillShader.vert';\nimport lineFragShader_GLSL from './lineShader.frag';\nimport lineVertShader_GLSL from './lineShader.vert';\nimport pointFragShader_GLSL from './pointShader.frag';\nimport pointVertShader_GLSL from './pointShader.vert';\n\nconst FILL_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: fillVertShader_GLSL,\n    fragShader_GLSL: fillFragShader_GLSL,\n    uniformNames: [\n        'AXIS_LIMITS',\n        'COLOR',\n    ] as const,\n    attribNames: [\n        'inCoords',\n    ] as const,\n} );\n\nconst LINE_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: lineVertShader_GLSL,\n    fragShader_GLSL: lineFragShader_GLSL,\n    uniformNames: [\n        'AXIS_LIMITS',\n        'AXIS_VIEWPORT_PX',\n        'THICKNESS_PX',\n        'FEATHER_PX',\n        'COLOR',\n    ] as const,\n    attribNames: [\n        'inCoords',\n    ] as const,\n} );\n\nconst POINT_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: pointVertShader_GLSL,\n    fragShader_GLSL: pointFragShader_GLSL,\n    uniformNames: [\n        'AXIS_LIMITS',\n        'DATA_CLAMP_LIMITS',\n        'FEATHER_PX',\n        'JOIN_DIAMETER_PX',\n        'DATA_DIAMETER_PX',\n        'DATA_CLAMPED_DIAMETER_PX',\n        'JOIN_COLOR',\n        'DATA_COLOR',\n        'DATA_CLAMPED_COLOR',\n    ] as const,\n    attribNames: [\n        'inCoords',\n    ] as const,\n} );\n\n/**\n * Abstract representation of a basic line:\n *  - `length`: number of vertices\n *  - `xRef` and `yRef`: references relative to which coords are rendered\n *  - `x(i)` and `y(i)`: the coords of vertex `i`\n *  - `connect(i)`: whether there's a line segment between vertices `i` and `i+1`\n *\n * If either `x(i)` or `y(i)` returns `undefined`, vertex `i` will not be\n * drawn, and vertex `i-1` won't be connected to vertex `i+1`.\n *\n * If `xRef` or `yRef` is `undefined`, the largest index `i` for which *both* `x(i)`\n * and `y(i)` are defined will be found, and its coords will be used as fallbacks\n * for `xRef` and `yRef` independently.\n *\n * A \"solo\" vertex is one that has no line segments on either side. By default, a\n * solo vertex will be drawn as a dot, and the dot will be slightly larger than\n * the line thickness. These defaults can be overridden with the `--dot-mode` and\n * `--dot-diameter-px` CSS properties.\n *\n * An undefined `connect` method is equivalent to one that always returns `true`.\n *\n * Additional per-line information can be included as custom properties. These\n * are handy when using an input-spectator that gets passed the line object.\n */\nexport interface BasicLine {\n    length: number;\n    xRef?: number;\n    yRef?: number;\n    x( index: number ): number | undefined;\n    y( index: number ): number | undefined;\n    connect?( index: number ): boolean;\n    [customProp: string]: unknown;\n}\n\nexport enum BasicLineLineMode {\n    /**\n     * Don't connect dots.\n     */\n    OFF,\n\n    /**\n     * Connect vertices with straight lines.\n     */\n    STRAIGHT,\n\n    /**\n     * Assume X is monotonic, and stairstep up and down.\n     */\n    STEP_UP_DOWN,\n\n    /**\n     * Assume Y is monotonic, and stairstep left and right.\n     */\n    STEP_LEFT_RIGHT,\n}\n\nexport enum BasicLineRiserMode {\n    OFF,\n    ON,\n}\n\nexport enum BasicLineOffscreenDataIndicator {\n    OFF,\n    ON,\n    MIN,\n    MAX,\n}\n\nexport function indicateDataBelowMin( mode: BasicLineOffscreenDataIndicator ): boolean {\n    switch ( mode ) {\n        case BasicLineOffscreenDataIndicator.ON: return true;\n        case BasicLineOffscreenDataIndicator.MIN: return true;\n        default: return false;\n    }\n}\n\nexport function indicateDataAboveMax( mode: BasicLineOffscreenDataIndicator ): boolean {\n    switch ( mode ) {\n        case BasicLineOffscreenDataIndicator.ON: return true;\n        case BasicLineOffscreenDataIndicator.MAX: return true;\n        default: return false;\n    }\n}\n\nexport enum BasicLineStepAlign {\n    BEFORE_DATAPOINT,\n    CENTERED_ON_DATAPOINT,\n    AFTER_DATAPOINT,\n}\n\nexport enum BasicLineDotMode {\n    /**\n     * Don't draw any dots.\n     */\n    OFF,\n\n    /**\n     * Draw dots at all data-points.\n     */\n    ALL,\n\n    /**\n     * Draw dots at data-points that aren't connected to a line segment\n     * on either side.\n     */\n    SOLO,\n}\n\nexport enum BasicLineFillMode {\n    OFF,\n    VERTICAL,\n    HORIZONTAL,\n}\n\ninterface CoordFn {\n    ( index: number ): number | undefined;\n}\n\nfunction relativeCoordFn( coordFn: CoordFn, refCoord: number | undefined ): CoordFn {\n    if ( refCoord === undefined || refCoord === 0 ) {\n        return coordFn;\n    }\n    else {\n        return i => {\n            const coord = coordFn( i );\n            return ( coord === undefined ? undefined : coord - refCoord );\n        };\n    }\n}\n\nfunction relativizeLine( line: BasicLine, xRef: number | undefined, yRef: number | undefined ): BasicLine {\n    return {\n        length: line.length,\n        x: relativeCoordFn( line.x, xRef ),\n        y: relativeCoordFn( line.y, yRef ),\n        connect: line.connect,\n    };\n}\n\nfunction relativizeInputs( inputs: CoordInputs, xRef: number | undefined, yRef: number | undefined ): CoordInputs {\n    const { lineMode, riserMode, stepAlign, dotMode, fillMode, fillBaseline } = inputs;\n    switch ( fillMode ) {\n        case BasicLineFillMode.OFF: {\n            return inputs;\n        }\n        case BasicLineFillMode.VERTICAL: {\n            if ( yRef === undefined || yRef === 0 ) {\n                return inputs;\n            }\n            else {\n                return new CoordInputs( lineMode, riserMode, stepAlign, dotMode, fillMode, fillBaseline - yRef );\n            }\n        }\n        case BasicLineFillMode.HORIZONTAL: {\n            if ( xRef === undefined || xRef === 0 ) {\n                return inputs;\n            }\n            else {\n                return new CoordInputs( lineMode, riserMode, stepAlign, dotMode, fillMode, fillBaseline - xRef );\n            }\n        }\n        default: {\n            throw new Error( 'Unsupported fill mode: ' + fillMode );\n        }\n    }\n}\n\ninterface BasicLineCoords {\n    hLineCoords: Float32Array;\n    hPointCoords: Float32Array;\n    hFillCoords: Float32Array;\n    hLineCoordsCount: number;\n    hPointCoordsCount: number;\n    hFillCoordsCount: number;\n}\n\ninterface BasicLineScratch {\n    /**\n     * Coords: x, y, dxForward (unnormalized), dyForward (unnormalized)\n     */\n    hLineCoords: Float32Array;\n\n    /**\n     * Coords: x, y, isData\n     */\n    hPointCoords: Float32Array;\n\n    /**\n     * Coords: x, y\n     */\n    hFillCoords: Float32Array;\n}\n\nclass CoordInputs extends ValueBase2 {\n    constructor(\n        readonly lineMode: BasicLineLineMode,\n        readonly riserMode: BasicLineRiserMode,\n        readonly stepAlign: BasicLineStepAlign,\n        readonly dotMode: BasicLineDotMode,\n        readonly fillMode: BasicLineFillMode,\n        readonly fillBaseline: number,\n    ) {\n        super( );\n    }\n}\n\nfunction getBasicLineCoords( line: BasicLine, inputs: CoordInputs, scratch: BasicLineScratch ): BasicLineCoords {\n    const { lineMode, stepAlign } = inputs;\n    switch ( lineMode ) {\n        case BasicLineLineMode.OFF: return getCoords_NOLINES( line, inputs, scratch );\n        case BasicLineLineMode.STRAIGHT: return getCoords_STRAIGHT( line, inputs, scratch );\n        case BasicLineLineMode.STEP_UP_DOWN: {\n            switch ( stepAlign ) {\n                case BasicLineStepAlign.BEFORE_DATAPOINT: return getCoords_STEP_UD_BEFORE( line, inputs, scratch );\n                case BasicLineStepAlign.CENTERED_ON_DATAPOINT: return getCoords_STEP_UD_CENTERED( line, inputs, scratch );\n                case BasicLineStepAlign.AFTER_DATAPOINT: return getCoords_STEP_UD_AFTER( line, inputs, scratch );\n                default: throw new Error( 'Unsupported step align: ' + stepAlign );\n            }\n        }\n        case BasicLineLineMode.STEP_LEFT_RIGHT: {\n            switch ( stepAlign ) {\n                case BasicLineStepAlign.BEFORE_DATAPOINT: return getCoords_STEP_LR_BEFORE( line, inputs, scratch );\n                case BasicLineStepAlign.CENTERED_ON_DATAPOINT: return getCoords_STEP_LR_CENTERED( line, inputs, scratch );\n                case BasicLineStepAlign.AFTER_DATAPOINT: return getCoords_STEP_LR_AFTER( line, inputs, scratch );\n                default: throw new Error( 'Unsupported step align: ' + stepAlign );\n            }\n        }\n        default: throw new Error( 'Unsupported line mode: ' + lineMode );\n    }\n}\n\nfunction getCoords_NOLINES( line: BasicLine, inputs: CoordInputs, scratch: BasicLineScratch ): BasicLineCoords {\n    const { dotMode } = inputs;\n    const { length, x, y, connect = alwaysTrue } = line;\n    let { hLineCoords, hPointCoords, hFillCoords } = scratch;\n\n    const maxPointCount = length;\n    const maxPointCoordCount = maxPointCount * 3;\n    hPointCoords = ensureHostBufferCapacity( hPointCoords, maxPointCoordCount );\n\n    const maxFillSegmentCount = length - 1;\n    const maxFillCoordCount = 2*( maxFillSegmentCount * 6 * 2 );\n    hFillCoords = ensureHostBufferCapacity( hFillCoords, maxFillCoordCount );\n\n    let iPoint = 0;\n    let iFill = 0;\n    for ( let i = 0; i < length; i++ ) {\n        const xCurr = x( i+0 );\n        const yCurr = y( i+0 );\n        if ( isDefined( xCurr ) && isDefined( yCurr ) ) {\n            const connectNext = ( i+1 < length ? connect( i ) : false );\n            const xNext = ( connectNext ? x( i+1 ) : undefined );\n            const yNext = ( connectNext ? y( i+1 ) : undefined );\n            const hasNext = ( isDefined( xNext ) && isDefined( yNext ) );\n\n            if ( hasNext ) {\n                // Data segment\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,yCurr, xNext,yNext );\n            }\n\n            if ( dotMode === BasicLineDotMode.ALL || dotMode === BasicLineDotMode.SOLO ) {\n                // Data dot\n                iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,1 );\n            }\n        }\n    }\n\n    return {\n        hLineCoords,\n        hPointCoords,\n        hFillCoords,\n        hLineCoordsCount: 0,\n        hPointCoordsCount: iPoint,\n        hFillCoordsCount: iFill,\n    };\n}\n\nfunction getCoords_STRAIGHT( line: BasicLine, inputs: CoordInputs, scratch: BasicLineScratch ): BasicLineCoords {\n    const { dotMode } = inputs;\n    const { length, x, y, connect = alwaysTrue } = line;\n    let { hLineCoords, hPointCoords, hFillCoords } = scratch;\n\n    const maxLineCount = length - 1;\n    const maxLineCoordCount = maxLineCount * 6 * 4;\n    hLineCoords = ensureHostBufferCapacity( hLineCoords, maxLineCoordCount );\n\n    const maxPointCount = run( ( ) => {\n        switch ( dotMode ) {\n            case BasicLineDotMode.OFF:  return 1*length;\n            case BasicLineDotMode.ALL:  return 2*length;\n            case BasicLineDotMode.SOLO: return 1*length;\n        }\n    } );\n    const maxPointCoordCount = maxPointCount * 3;\n    hPointCoords = ensureHostBufferCapacity( hPointCoords, maxPointCoordCount );\n\n    const maxFillSegmentCount = length - 1;\n    const maxFillCoordCount = 2*( maxFillSegmentCount * 6 * 2 );\n    hFillCoords = ensureHostBufferCapacity( hFillCoords, maxFillCoordCount );\n\n    let iLine = 0;\n    let iPoint = 0;\n    let iFill = 0;\n    for ( let i = 0; i < length; i++ ) {\n        const xCurr = x( i+0 );\n        const yCurr = y( i+0 );\n        if ( isDefined( xCurr ) && isDefined( yCurr ) ) {\n            const connectPrev = ( i-1 >= 0 ? connect( i-1 ) : false );\n            const connectNext = ( i+1 < length ? connect( i ) : false );\n            const xPrev = ( connectPrev ? x( i-1 ) : undefined );\n            const yPrev = ( connectPrev ? y( i-1 ) : undefined );\n            const xNext = ( connectNext ? x( i+1 ) : undefined );\n            const yNext = ( connectNext ? y( i+1 ) : undefined );\n            const hasPrev = ( isDefined( xPrev ) && isDefined( yPrev ) );\n            const hasNext = ( isDefined( xNext ) && isDefined( yNext ) );\n\n            if ( hasPrev || hasNext ) {\n                // Join/endcap\n                iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,0 );\n            }\n            if ( hasNext ) {\n                // Data line\n                iLine = putLineSegment( hLineCoords, iLine, xCurr,yCurr, xNext,yNext );\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,yCurr, xNext,yNext );\n            }\n            if ( dotMode === BasicLineDotMode.ALL || ( dotMode === BasicLineDotMode.SOLO && !hasPrev && !hasNext ) ) {\n                // Data dot\n                iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,1 );\n            }\n        }\n    }\n\n    return {\n        hLineCoords,\n        hPointCoords,\n        hFillCoords,\n        hLineCoordsCount: iLine,\n        hPointCoordsCount: iPoint,\n        hFillCoordsCount: iFill,\n    };\n}\n\n// TODO: Use miters for stairstep joins; they're are all right angles, although short segments could still be tricky\n\nfunction getCoords_STEP_UD_CENTERED( line: BasicLine, inputs: CoordInputs, scratch: BasicLineScratch ): BasicLineCoords {\n    const { riserMode, dotMode } = inputs;\n    const { length, x, y, connect = alwaysTrue } = line;\n    const risers = ( riserMode === BasicLineRiserMode.ON );\n    let { hLineCoords, hPointCoords, hFillCoords } = scratch;\n\n    const maxLineCount = length + ( risers ? length - 1 : 0 );\n    const maxLineCoordCount = maxLineCount * 6 * 4;\n    hLineCoords = ensureHostBufferCapacity( hLineCoords, maxLineCoordCount );\n\n    const maxPointCount = run( ( ) => {\n        switch ( dotMode ) {\n            case BasicLineDotMode.OFF:  return 2*length;\n            case BasicLineDotMode.ALL:  return 3*length;\n            case BasicLineDotMode.SOLO: return 2*length;\n        }\n    } );\n    const maxPointCoordCount = maxPointCount * 3;\n    hPointCoords = ensureHostBufferCapacity( hPointCoords, maxPointCoordCount );\n\n    const maxFillSegmentCount = length;\n    const maxFillCoordCount = 2*( maxFillSegmentCount * 6 * 2 );\n    hFillCoords = ensureHostBufferCapacity( hFillCoords, maxFillCoordCount );\n\n    let iLine = 0;\n    let iPoint = 0;\n    let iFill = 0;\n    for ( let i = 0; i < length; i++ ) {\n        const xCurr = x( i );\n        const yCurr = y( i );\n        if ( isDefined( xCurr ) && isDefined( yCurr ) ) {\n            const connectPrev = ( i-1 >= 0 ? connect( i-1 ) : false );\n            const connectNext = ( i+1 < length ? connect( i ) : false );\n            const xPrev = ( connectPrev ? x( i-1 ) : undefined );\n            const yPrev = ( connectPrev ? y( i-1 ) : undefined );\n            const xNext = ( connectNext ? x( i+1 ) : undefined );\n            const yNext = ( connectNext ? y( i+1 ) : undefined );\n            const hasPrev = ( isDefined( xPrev ) && isDefined( yPrev ) );\n            const hasNext = ( isDefined( xNext ) && isDefined( yNext ) );\n\n            if ( hasPrev || hasNext ) {\n                // Data line with both joins/endcaps\n                let x0 = ( hasPrev ? 0.5*( xPrev + xCurr ) : xCurr );\n                let x1 = ( hasNext ? 0.5*( xCurr + xNext ) : xCurr );\n                if ( ( x0 < xCurr && x1 < xCurr ) || ( x0 > xCurr && x1 > xCurr ) ) {\n                    if ( Math.abs( x0 - xCurr ) < Math.abs( x1 - xCurr ) ) {\n                        x0 = xCurr;\n                    }\n                    else {\n                        x1 = xCurr;\n                    }\n                }\n                if ( yCurr !== yPrev ) {\n                    iPoint = put3f( hPointCoords, iPoint, x0,yCurr,0 );\n                }\n                iLine = putLineSegment( hLineCoords, iLine, x0,yCurr, x1,yCurr );\n                iFill = putFillSegment( hFillCoords, iFill, inputs, x0,yCurr, x1,yCurr );\n                if ( yCurr !== yNext ) {\n                    iPoint = put3f( hPointCoords, iPoint, x1,yCurr,0 );\n                }\n            }\n            if ( hasNext ) {\n                // Riser fill\n                const x1 = 0.5*( xCurr + xNext );\n                iFill = putFillSegment( hFillCoords, iFill, inputs, x1,yCurr, x1,yNext );\n                if ( risers ) {\n                    // Riser line\n                    iLine = putLineSegment( hLineCoords, iLine, x1,yCurr, x1,yNext );\n                }\n            }\n            if ( dotMode === BasicLineDotMode.ALL || ( dotMode === BasicLineDotMode.SOLO && !hasPrev && !hasNext ) ) {\n                // Data dot\n                iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,1 );\n            }\n        }\n    }\n\n    return {\n        hLineCoords,\n        hPointCoords,\n        hFillCoords,\n        hLineCoordsCount: iLine,\n        hPointCoordsCount: iPoint,\n        hFillCoordsCount: iFill,\n    };\n}\n\nfunction getCoords_STEP_LR_CENTERED( line: BasicLine, inputs: CoordInputs, scratch: BasicLineScratch ): BasicLineCoords {\n    const { riserMode, dotMode } = inputs;\n    const { length, x, y, connect = alwaysTrue } = line;\n    const risers = ( riserMode === BasicLineRiserMode.ON );\n    let { hLineCoords, hPointCoords, hFillCoords } = scratch;\n\n    const maxLineCount = length + ( risers ? length - 1 : 0 );\n    const maxLineCoordCount = maxLineCount * 6 * 4;\n    hLineCoords = ensureHostBufferCapacity( hLineCoords, maxLineCoordCount );\n\n    const maxPointCount = run( ( ) => {\n        switch ( dotMode ) {\n            case BasicLineDotMode.OFF:  return 2*length;\n            case BasicLineDotMode.ALL:  return 3*length;\n            case BasicLineDotMode.SOLO: return 2*length;\n        }\n    } );\n    const maxPointCoordCount = maxPointCount * 3;\n    hPointCoords = ensureHostBufferCapacity( hPointCoords, maxPointCoordCount );\n\n    const maxFillSegmentCount = length;\n    const maxFillCoordCount = 2*( maxFillSegmentCount * 6 * 2 );\n    hFillCoords = ensureHostBufferCapacity( hFillCoords, maxFillCoordCount );\n\n    let iLine = 0;\n    let iPoint = 0;\n    let iFill = 0;\n    for ( let i = 0; i < length; i++ ) {\n        const xCurr = x( i );\n        const yCurr = y( i );\n        if ( isDefined( xCurr ) && isDefined( yCurr ) ) {\n            const connectPrev = ( i-1 >= 0 ? connect( i-1 ) : false );\n            const connectNext = ( i+1 < length ? connect( i ) : false );\n            const xPrev = ( connectPrev ? x( i-1 ) : undefined );\n            const yPrev = ( connectPrev ? y( i-1 ) : undefined );\n            const xNext = ( connectNext ? x( i+1 ) : undefined );\n            const yNext = ( connectNext ? y( i+1 ) : undefined );\n            const hasPrev = ( isDefined( xPrev ) && isDefined( yPrev ) );\n            const hasNext = ( isDefined( xNext ) && isDefined( yNext ) );\n\n            if ( hasPrev || hasNext ) {\n                // Data line with both joins/endcaps\n                let y0 = ( hasPrev ? 0.5*( yPrev + yCurr ) : yCurr );\n                let y1 = ( hasNext ? 0.5*( yCurr + yNext ) : yCurr );\n                if ( ( y0 < yCurr && y1 < yCurr ) || ( y0 > yCurr && y1 > yCurr ) ) {\n                    if ( Math.abs( y0 - yCurr ) < Math.abs( y1 - yCurr ) ) {\n                        y0 = yCurr;\n                    }\n                    else {\n                        y1 = yCurr;\n                    }\n                }\n                if ( xCurr !== xPrev ) {\n                    iPoint = put3f( hPointCoords, iPoint, xCurr,y0,0 );\n                }\n                iLine = putLineSegment( hLineCoords, iLine, xCurr,y0, xCurr,y1 );\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,y0, xCurr,y1 );\n                if ( xCurr !== xNext ) {\n                    iPoint = put3f( hPointCoords, iPoint, xCurr,y1,0 );\n                }\n            }\n            if ( hasNext ) {\n                // Riser fill\n                const y1 = 0.5*( yCurr + yNext );\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,y1, xNext,y1 );\n                if ( risers ) {\n                    // Riser line\n                    iLine = putLineSegment( hLineCoords, iLine, xCurr,y1, xNext,y1 );\n                }\n            }\n            if ( dotMode === BasicLineDotMode.ALL || ( dotMode === BasicLineDotMode.SOLO && !hasPrev && !hasNext ) ) {\n                // Data dot\n                iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,1 );\n            }\n        }\n    }\n\n    return {\n        hLineCoords,\n        hPointCoords,\n        hFillCoords,\n        hLineCoordsCount: iLine,\n        hPointCoordsCount: iPoint,\n        hFillCoordsCount: iFill,\n    };\n}\n\nfunction getCoords_STEP_UD_BEFORE( line: BasicLine, inputs: CoordInputs, scratch: BasicLineScratch ): BasicLineCoords {\n    const { riserMode, dotMode } = inputs;\n    const { length, x, y, connect = alwaysTrue } = line;\n    const risers = ( riserMode === BasicLineRiserMode.ON );\n    let { hLineCoords, hPointCoords, hFillCoords } = scratch;\n\n    const maxLineCount = ( risers ? 2*length - 2 : length - 1 );\n    const maxLineCoordCount = maxLineCount * 6 * 4;\n    hLineCoords = ensureHostBufferCapacity( hLineCoords, maxLineCoordCount );\n\n    const maxPointCount = run( ( ) => {\n        switch ( dotMode ) {\n            case BasicLineDotMode.OFF:  return ( 2*length - 1 );\n            case BasicLineDotMode.ALL:  return ( 3*length - 1 );\n            case BasicLineDotMode.SOLO: return ( 2*length - 1 );\n        }\n    } );\n    const maxPointCoordCount = maxPointCount * 3;\n    hPointCoords = ensureHostBufferCapacity( hPointCoords, maxPointCoordCount );\n\n    const maxFillSegmentCount = length - 1;\n    const maxFillCoordCount = 2*( maxFillSegmentCount * 6 * 2 );\n    hFillCoords = ensureHostBufferCapacity( hFillCoords, maxFillCoordCount );\n\n    let iLine = 0;\n    let iPoint = 0;\n    let iFill = 0;\n    for ( let i = 0; i < length; i++ ) {\n        const xCurr = x( i );\n        const yCurr = y( i );\n        if ( isDefined( xCurr ) && isDefined( yCurr ) ) {\n            const connectPrev = ( i-1 >= 0 ? connect( i-1 ) : false );\n            const connectNext = ( i+1 < length ? connect( i ) : false );\n            const xPrev = ( connectPrev ? x( i-1 ) : undefined );\n            const yPrev = ( connectPrev ? y( i-1 ) : undefined );\n            const xNext = ( connectNext ? x( i+1 ) : undefined );\n            const yNext = ( connectNext ? y( i+1 ) : undefined );\n            const hasPrev = ( isDefined( xPrev ) && isDefined( yPrev ) );\n            const hasNext = ( isDefined( xNext ) && isDefined( yNext ) );\n\n            if ( hasPrev || ( hasNext && risers ) ) {\n                if ( yCurr !== yPrev || !hasPrev || !hasNext ) {\n                    // One join/endcap\n                    iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,0 );\n                }\n            }\n            if ( hasNext ) {\n                // Riser fill\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,yCurr, xCurr,yNext );\n                if ( risers ) {\n                    // Riser line\n                    iLine = putLineSegment( hLineCoords, iLine, xCurr,yCurr, xCurr,yNext );\n                }\n            }\n            if ( hasNext ) {\n                // Data line with one join/endcap\n                iLine = putLineSegment( hLineCoords, iLine, xCurr,yNext, xNext,yNext );\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,yNext, xNext,yNext );\n                if ( yCurr !== yNext ) {\n                    iPoint = put3f( hPointCoords, iPoint, xCurr,yNext,0 );\n                }\n            }\n            if ( dotMode === BasicLineDotMode.ALL || ( dotMode === BasicLineDotMode.SOLO && !hasPrev && ( !hasNext || !risers ) ) ) {\n                // Data dot\n                iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,1 );\n            }\n        }\n    }\n\n    return {\n        hLineCoords,\n        hPointCoords,\n        hFillCoords,\n        hLineCoordsCount: iLine,\n        hPointCoordsCount: iPoint,\n        hFillCoordsCount: iFill,\n    };\n}\n\nfunction getCoords_STEP_LR_BEFORE( line: BasicLine, inputs: CoordInputs, scratch: BasicLineScratch ): BasicLineCoords {\n    const { riserMode, dotMode } = inputs;\n    const { length, x, y, connect = alwaysTrue } = line;\n    const risers = ( riserMode === BasicLineRiserMode.ON );\n    let { hLineCoords, hPointCoords, hFillCoords } = scratch;\n\n    const maxLineCount = ( risers ? 2*length - 2 : length - 1 );\n    const maxLineCoordCount = maxLineCount * 6 * 4;\n    hLineCoords = ensureHostBufferCapacity( hLineCoords, maxLineCoordCount );\n\n    const maxPointCount = run( ( ) => {\n        switch ( dotMode ) {\n            case BasicLineDotMode.OFF:  return ( 2*length - 1 );\n            case BasicLineDotMode.ALL:  return ( 3*length - 1 );\n            case BasicLineDotMode.SOLO: return ( 2*length - 1 );\n        }\n    } );\n    const maxPointCoordCount = maxPointCount * 3;\n    hPointCoords = ensureHostBufferCapacity( hPointCoords, maxPointCoordCount );\n\n    const maxFillSegmentCount = length - 1;\n    const maxFillCoordCount = 2*( maxFillSegmentCount * 6 * 2 );\n    hFillCoords = ensureHostBufferCapacity( hFillCoords, maxFillCoordCount );\n\n    let iLine = 0;\n    let iPoint = 0;\n    let iFill = 0;\n    for ( let i = 0; i < length; i++ ) {\n        const xCurr = x( i );\n        const yCurr = y( i );\n        if ( isDefined( xCurr ) && isDefined( yCurr ) ) {\n            const connectPrev = ( i-1 >= 0 ? connect( i-1 ) : false );\n            const connectNext = ( i+1 < length ? connect( i ) : false );\n            const xPrev = ( connectPrev ? x( i-1 ) : undefined );\n            const yPrev = ( connectPrev ? y( i-1 ) : undefined );\n            const xNext = ( connectNext ? x( i+1 ) : undefined );\n            const yNext = ( connectNext ? y( i+1 ) : undefined );\n            const hasPrev = ( isDefined( xPrev ) && isDefined( yPrev ) );\n            const hasNext = ( isDefined( xNext ) && isDefined( yNext ) );\n\n            if ( hasPrev || ( hasNext && risers ) ) {\n                if ( xCurr !== xPrev || !hasPrev || !hasNext ) {\n                    // One join/endcap\n                    iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,0 );\n                }\n            }\n            if ( hasNext ) {\n                // Riser fill\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,yCurr, xNext,yCurr );\n                if ( risers ) {\n                    // Riser line\n                    iLine = putLineSegment( hLineCoords, iLine, xCurr,yCurr, xNext,yCurr );\n                }\n            }\n            if ( hasNext ) {\n                // Data line with one join/endcap\n                iLine = putLineSegment( hLineCoords, iLine, xNext,yCurr, xNext,yNext );\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xNext,yCurr, xNext,yNext );\n                if ( xCurr !== xNext ) {\n                    iPoint = put3f( hPointCoords, iPoint, xNext,yCurr,0 );\n                }\n            }\n            if ( dotMode === BasicLineDotMode.ALL || ( dotMode === BasicLineDotMode.SOLO && !hasPrev && ( !hasNext || !risers ) ) ) {\n                // Data dot\n                iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,1 );\n            }\n        }\n    }\n\n    return {\n        hLineCoords,\n        hPointCoords,\n        hFillCoords,\n        hLineCoordsCount: iLine,\n        hPointCoordsCount: iPoint,\n        hFillCoordsCount: iFill,\n    };\n}\n\nfunction getCoords_STEP_UD_AFTER( line: BasicLine, inputs: CoordInputs, scratch: BasicLineScratch ): BasicLineCoords {\n    const { riserMode, dotMode } = inputs;\n    const { length, x, y, connect = alwaysTrue } = line;\n    const risers = ( riserMode === BasicLineRiserMode.ON );\n    let { hLineCoords, hPointCoords, hFillCoords } = scratch;\n\n    const maxLineCount = ( risers ? 2*length - 2 : length - 1 );\n    const maxLineCoordCount = maxLineCount * 6 * 4;\n    hLineCoords = ensureHostBufferCapacity( hLineCoords, maxLineCoordCount );\n\n    const maxPointCount = run( ( ) => {\n        switch ( dotMode ) {\n            case BasicLineDotMode.OFF:  return ( 2*length - 1 );\n            case BasicLineDotMode.ALL:  return ( 3*length - 1 );\n            case BasicLineDotMode.SOLO: return ( 2*length - 1 );\n        }\n    } );\n    const maxPointCoordCount = maxPointCount * 3;\n    hPointCoords = ensureHostBufferCapacity( hPointCoords, maxPointCoordCount );\n\n    const maxFillSegmentCount = length - 1;\n    const maxFillCoordCount = 2*( maxFillSegmentCount * 6 * 2 );\n    hFillCoords = ensureHostBufferCapacity( hFillCoords, maxFillCoordCount );\n\n    let iLine = 0;\n    let iPoint = 0;\n    let iFill = 0;\n    for ( let i = 0; i < length; i++ ) {\n        const xCurr = x( i );\n        const yCurr = y( i );\n        if ( isDefined( xCurr ) && isDefined( yCurr ) ) {\n            const connectPrev = ( i-1 >= 0 ? connect( i-1 ) : false );\n            const connectNext = ( i+1 < length ? connect( i ) : false );\n            const xPrev = ( connectPrev ? x( i-1 ) : undefined );\n            const yPrev = ( connectPrev ? y( i-1 ) : undefined );\n            const xNext = ( connectNext ? x( i+1 ) : undefined );\n            const yNext = ( connectNext ? y( i+1 ) : undefined );\n            const hasPrev = ( isDefined( xPrev ) && isDefined( yPrev ) );\n            const hasNext = ( isDefined( xNext ) && isDefined( yNext ) );\n\n            if ( ( hasPrev && risers ) || hasNext ) {\n                if ( yCurr !== yPrev || !hasPrev || !hasNext ) {\n                    // One join/endcap\n                    iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,0 );\n                }\n            }\n            if ( hasNext ) {\n                // Data line with one join/endcap\n                iLine = putLineSegment( hLineCoords, iLine, xCurr,yCurr, xNext,yCurr );\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,yCurr, xNext,yCurr );\n                if ( yCurr !== yNext ) {\n                    iPoint = put3f( hPointCoords, iPoint, xNext,yCurr,0 );\n                }\n            }\n            if ( hasNext ) {\n                // Riser fill\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xNext,yCurr, xNext,yNext );\n                if ( risers ) {\n                    // Riser line\n                    iLine = putLineSegment( hLineCoords, iLine, xNext,yCurr, xNext,yNext );\n                }\n            }\n            if ( dotMode === BasicLineDotMode.ALL || ( dotMode === BasicLineDotMode.SOLO && ( !hasPrev || !risers ) && !hasNext ) ) {\n                // Data dot\n                iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,1 );\n            }\n        }\n    }\n\n    return {\n        hLineCoords,\n        hPointCoords,\n        hFillCoords,\n        hLineCoordsCount: iLine,\n        hPointCoordsCount: iPoint,\n        hFillCoordsCount: iFill,\n    };\n}\n\nfunction getCoords_STEP_LR_AFTER( line: BasicLine, inputs: CoordInputs, scratch: BasicLineScratch ): BasicLineCoords {\n    const { riserMode, dotMode } = inputs;\n    const { length, x, y, connect = alwaysTrue } = line;\n    const risers = ( riserMode === BasicLineRiserMode.ON );\n    let { hLineCoords, hPointCoords, hFillCoords } = scratch;\n\n    const maxLineCount = ( risers ? 2*length - 2 : length - 1 );\n    const maxLineCoordCount = maxLineCount * 6 * 4;\n    hLineCoords = ensureHostBufferCapacity( hLineCoords, maxLineCoordCount );\n\n    const maxPointCount = run( ( ) => {\n        switch ( dotMode ) {\n            case BasicLineDotMode.OFF:  return ( 2*length - 1 );\n            case BasicLineDotMode.ALL:  return ( 3*length - 1 );\n            case BasicLineDotMode.SOLO: return ( 2*length - 1 );\n        }\n    } );\n    const maxPointCoordCount = maxPointCount * 3;\n    hPointCoords = ensureHostBufferCapacity( hPointCoords, maxPointCoordCount );\n\n    const maxFillSegmentCount = length - 1;\n    const maxFillCoordCount = 2*( maxFillSegmentCount * 6 * 2 );\n    hFillCoords = ensureHostBufferCapacity( hFillCoords, maxFillCoordCount );\n\n    let iLine = 0;\n    let iPoint = 0;\n    let iFill = 0;\n    for ( let i = 0; i < length; i++ ) {\n        const xCurr = x( i );\n        const yCurr = y( i );\n        if ( isDefined( xCurr ) && isDefined( yCurr ) ) {\n            const connectPrev = ( i-1 >= 0 ? connect( i-1 ) : false );\n            const connectNext = ( i+1 < length ? connect( i ) : false );\n            const xPrev = ( connectPrev ? x( i-1 ) : undefined );\n            const yPrev = ( connectPrev ? y( i-1 ) : undefined );\n            const xNext = ( connectNext ? x( i+1 ) : undefined );\n            const yNext = ( connectNext ? y( i+1 ) : undefined );\n            const hasPrev = ( isDefined( xPrev ) && isDefined( yPrev ) );\n            const hasNext = ( isDefined( xNext ) && isDefined( yNext ) );\n\n            if ( ( hasPrev && risers ) || hasNext ) {\n                if ( xCurr !== xPrev || !hasPrev || !hasNext ) {\n                    // One join/endcap\n                    iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,0 );\n                }\n            }\n            if ( hasNext ) {\n                // Data line with one join/endcap\n                iLine = putLineSegment( hLineCoords, iLine, xCurr,yCurr, xCurr,yNext );\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,yCurr, xCurr,yNext );\n                if ( xCurr !== xNext ) {\n                    iPoint = put3f( hPointCoords, iPoint, xCurr,yNext,0 );\n                }\n            }\n            if ( hasNext ) {\n                // Riser fill\n                iFill = putFillSegment( hFillCoords, iFill, inputs, xCurr,yNext, xNext,yNext );\n                if ( risers ) {\n                    // Riser line\n                    iLine = putLineSegment( hLineCoords, iLine, xCurr,yNext, xNext,yNext );\n                }\n            }\n            if ( dotMode === BasicLineDotMode.ALL || ( dotMode === BasicLineDotMode.SOLO && ( !hasPrev || !risers ) && !hasNext ) ) {\n                // Data dot\n                iPoint = put3f( hPointCoords, iPoint, xCurr,yCurr,1 );\n            }\n        }\n    }\n\n    return {\n        hLineCoords,\n        hPointCoords,\n        hFillCoords,\n        hLineCoordsCount: iLine,\n        hPointCoordsCount: iPoint,\n        hFillCoordsCount: iFill,\n    };\n}\n\nfunction putLineSegment( array: Float32Array, i: number, x0: number, y0: number, x1: number, y1: number ): number {\n    const dxForward = x1 - x0;\n    const dyForward = y1 - y0;\n    if ( dxForward !== 0 || dyForward !== 0 ) {\n        i = put4f( array, i, x1, y1, -dxForward, -dyForward );\n        i = put4f( array, i, x0, y0, -dxForward, -dyForward );\n        i = put4f( array, i, x1, y1, +dxForward, +dyForward );\n\n        i = put4f( array, i, x1, y1, +dxForward, +dyForward );\n        i = put4f( array, i, x0, y0, -dxForward, -dyForward );\n        i = put4f( array, i, x0, y0, +dxForward, +dyForward );\n    }\n    return i;\n}\n\nfunction putFillSegment( array: Float32Array, i: number, inputs: CoordInputs, x0: number, y0: number, x1: number, y1: number ): number {\n    const { fillMode, fillBaseline } = inputs;\n    switch ( fillMode ) {\n        case BasicLineFillMode.OFF: {\n            // No fill\n        }\n        break;\n\n        case BasicLineFillMode.VERTICAL: {\n            const yB = clamp( -GLSL_HIGHP_MAXVALUE, +GLSL_HIGHP_MAXVALUE, fillBaseline );\n            if ( ( y0 < yB && yB < y1 ) || ( y1 < yB && yB < y0 ) ) {\n                const xB = x0 + ( ( x1 - x0 ) * ( yB - y0 )/( y1 - y0 ) );\n                i = put6f( array, i, x0,y0, x0,yB, xB,yB );\n                i = put6f( array, i, xB,yB, x1,yB, x1,y1 );\n            }\n            else {\n                i = put6f( array, i, x0,y0, x0,yB, x1,y1 );\n                i = put6f( array, i, x1,y1, x0,yB, x1,yB );\n            }\n        }\n        break;\n\n        case BasicLineFillMode.HORIZONTAL: {\n            const xB = clamp( -GLSL_HIGHP_MAXVALUE, +GLSL_HIGHP_MAXVALUE, fillBaseline );\n            if ( ( x0 < xB && xB < x1 ) || ( x1 < xB && xB < x0 ) ) {\n                const yB = y0 + ( ( y1 - y0 ) * ( xB - x0 )/( x1 - x0 ) );\n                i = put6f( array, i, x0,y0, xB,y0, xB,yB );\n                i = put6f( array, i, xB,yB, xB,y1, x1,y1 );\n            }\n            else {\n                i = put6f( array, i, x0,y0, xB,y0, x1,y1 );\n                i = put6f( array, i, x1,y1, xB,y0, xB,y1 );\n            }\n        }\n        break;\n\n        default: {\n            throw new Error( 'Unsupported fill mode: ' + fillMode );\n        }\n    }\n    return i;\n}\n\n/**\n * Specified in physical pixels, not logical pixels, because it's used to smooth\n * jagged edges, and jaggedness is a function of physical pixel size.\n */\nconst FEATHER_PX = 1.5;\n\n/**\n * Paints a multi-segment line. Does not attempt any sort of intricate line-join;\n * just paints round points at line vertices, sized to match the line thickness.\n * The result looks like a line with rounded corners.\n *\n * This has three advantages over miter-joins:\n * - Simple to implement\n * - Looks good even if some line segments are very short\n * - Looks good underneath a separate set of overlaid points\n *\n * This has disadvantages as well, which may be significant for some use-cases:\n * - Ugly if lines are not opaque\n * - Doesn't support stippling\n */\nexport class BasicLinePainter implements Painter {\n    readonly peer = createDomPeer( 'basic-line-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly lineMode = StyleProp.create( this.style, '--line-mode', cssEnum( BasicLineLineMode ), 'straight' );\n    readonly lineStepAlign = StyleProp.create( this.style, '--line-step-align', cssEnum( BasicLineStepAlign ), 'centered-on-datapoint' );\n    readonly lineRiserMode = StyleProp.create( this.style, '--line-step-risers', cssEnum( BasicLineRiserMode ), 'on' );\n    readonly lineColor = StyleProp.create( this.style, '--line-color', cssColor, 'rgb(0,0,0)' );\n    readonly lineThickness_LPX = StyleProp.create( this.style, '--line-thickness-px', cssFloat, 1 );\n    readonly dotMode = StyleProp.create( this.style, '--dot-mode', cssEnum( BasicLineDotMode ), 'solo' );\n    readonly dotColor = StyleProp.create( this.style, '--dot-color', cssColor, this.lineColor );\n    readonly dotDiameter_LPX = StyleProp.create2( this.style, '--dot-diameter-px', cssFloat, ( ) => {\n        switch ( this.dotMode.get( ) ) {\n            case BasicLineDotMode.ALL:  return 5;\n            case BasicLineDotMode.SOLO: return ( 1.2 * this.lineThickness_LPX.get( ) );\n            default: return 0;\n        }\n    } );\n    readonly fillMode = StyleProp.create( this.style, '--fill-mode', cssEnum( BasicLineFillMode ), 'off' );\n    readonly fillColor = StyleProp.create2( this.style, '--fill-color', cssColor, ( ) => {\n        return this.lineColor.get( ).withUpdatedAlpha( a => 0.5*a );\n    } );\n    readonly fillBaseline = StyleProp.create( this.style, '--fill-baseline', cssFloat, 0 );\n    readonly offscreenDataIndicatorX = StyleProp.create( this.style, '--offscreen-data-indicator-x', cssEnum( BasicLineOffscreenDataIndicator ), 'off' );\n    readonly offscreenDataIndicatorY = StyleProp.create( this.style, '--offscreen-data-indicator-y', cssEnum( BasicLineOffscreenDataIndicator ), 'off' );\n    readonly offscreenDataIndicatorColor = StyleProp.create( this.style, '--offscreen-data-indicator-color', cssColor, this.dotColor );\n    readonly offscreenDataIndicatorDiameter_LPX = StyleProp.create( this.style, '--offscreen-data-indicator-diameter-px', cssFloat, this.dotDiameter_LPX );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    xyBoundsFn: Supplier<Interval2D>;\n    line: BasicLine | undefined;\n\n    // Render coords are relative to a reference point, to mitigate f32 precision error\n    protected xRef: number;\n    protected yRef: number;\n    protected scratch: BasicLineScratch;\n\n    protected glIncarnation: unknown;\n\n    protected dFillCoords: Nullable<WebGLBuffer>;\n    protected dFillCoordsCapacityBytes: number;\n    protected dFillCoordsCount: number;\n\n    protected dLineCoords: Nullable<WebGLBuffer>;\n    protected dLineCoordsCapacityBytes: number;\n    protected dLineCoordsCount: number;\n\n    protected dPointCoords: Nullable<WebGLBuffer>;\n    protected dPointCoordsCapacityBytes: number;\n    protected dPointCoordsCount: number;\n\n    protected dLine: BasicLine | undefined;\n    protected dCoordInputs: CoordInputs | undefined;\n\n    constructor( xyBoundsFn = frozenSupplier( Interval2D.fromEdges( 0, 1, 0, 1 ) ) ) {\n        this.xyBoundsFn = xyBoundsFn;\n        this.line = undefined;\n\n        this.xRef = 0;\n        this.yRef = 0;\n        this.scratch = {\n            hLineCoords: new Float32Array( 0 ),\n            hPointCoords: new Float32Array( 0 ),\n            hFillCoords: new Float32Array( 0 ),\n        };\n\n        this.glIncarnation = null;\n\n        this.dLineCoords = null;\n        this.dLineCoordsCapacityBytes = -1;\n        this.dLineCoordsCount = -1;\n\n        this.dPointCoords = null;\n        this.dPointCoordsCapacityBytes = -1;\n        this.dPointCoordsCount = -1;\n\n        this.dFillCoords = null;\n        this.dFillCoordsCapacityBytes = -1;\n        this.dFillCoordsCount = -1;\n\n        this.dLine = undefined;\n        this.dCoordInputs = undefined;\n    }\n\n    // TODO: Support optional wraparound, at least horizontally\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        // Get style values\n        const lineMode = this.lineMode.get( );\n        const riserMode = this.lineRiserMode.get( );\n        const stepAlign = this.lineStepAlign.get( );\n        const lineColor = this.lineColor.get( );\n        const lineThickness_LPX = this.lineThickness_LPX.get( );\n        const dotMode = this.dotMode.get( );\n        const dotColor = this.dotColor.get( );\n        const dotDiameter_LPX = this.dotDiameter_LPX.get( );\n        const offscreenDataIndicatorColor = this.offscreenDataIndicatorColor.get( );\n        const offscreenDataIndicatorDiameter_LPX = this.offscreenDataIndicatorDiameter_LPX.get( );\n        const fillMode = this.fillMode.get( );\n        const fillColor = this.fillColor.get( );\n        const fillBaseline = this.fillBaseline.get( );\n        const offscreenDataIndicatorX = this.offscreenDataIndicatorX.get( );\n        const offscreenDataIndicatorY = this.offscreenDataIndicatorY.get( );\n        const indicateDataBelowMinX = indicateDataBelowMin( offscreenDataIndicatorX );\n        const indicateDataAboveMaxX = indicateDataAboveMax( offscreenDataIndicatorX );\n        const indicateDataBelowMinY = indicateDataBelowMin( offscreenDataIndicatorY );\n        const indicateDataAboveMaxY = indicateDataAboveMax( offscreenDataIndicatorY );\n\n        // Convert from logical pixels to device pixels\n        const dpr = currentDpr( this );\n        const lineThickness_PX = lineThickness_LPX * dpr;\n        const dotDiameter_PX = dotDiameter_LPX * dpr;\n        const offscreenDataIndicatorDiameter_PX = offscreenDataIndicatorDiameter_LPX * dpr;\n\n        const gl = context.gl;\n\n        // Reset device resources on context reincarnation\n        if ( context.glIncarnation !== this.glIncarnation ) {\n            this.glIncarnation = context.glIncarnation;\n\n            this.dLineCoords = gl.createBuffer( );\n            this.dLineCoordsCapacityBytes = -1;\n            this.dLineCoordsCount = -1;\n\n            this.dPointCoords = gl.createBuffer( );\n            this.dPointCoordsCapacityBytes = -1;\n            this.dPointCoordsCount = -1;\n\n            this.dFillCoords = gl.createBuffer( );\n            this.dFillCoordsCapacityBytes = -1;\n            this.dFillCoordsCount = -1;\n\n            this.dCoordInputs = undefined;\n        }\n\n        // Repopulate device coords, if necessary\n        const coordInputs = new CoordInputs( lineMode, riserMode, stepAlign, dotMode, fillMode, fillBaseline );\n        if ( this.line !== this.dLine || !equal( coordInputs, this.dCoordInputs ) ) {\n            if ( this.line && this.line.length > 0 ) {\n                if ( isDefined( this.line.xRef ) && isDefined( this.line.yRef ) ) {\n                    this.xRef = this.line.xRef;\n                    this.yRef = this.line.yRef;\n                }\n                else {\n                    this.xRef = this.line.xRef ?? 0;\n                    this.yRef = this.line.yRef ?? 0;\n                    for ( let i = this.line.length - 1; i >= 0; i-- ) {\n                        const x = this.line.x( i );\n                        const y = this.line.y( i );\n                        if ( isDefined( x ) && isDefined( y ) && !Number.isNaN( x ) && !Number.isNaN( y ) ) {\n                            this.xRef = this.line.xRef ?? x;\n                            this.yRef = this.line.yRef ?? y;\n                            break;\n                        }\n                    }\n                }\n                const relativeLine = relativizeLine( this.line, this.xRef, this.yRef );\n                const relativeInputs = relativizeInputs( coordInputs, this.xRef, this.yRef );\n                const coords = getBasicLineCoords( relativeLine, relativeInputs, this.scratch );\n\n                gl.bindBuffer( GL.ARRAY_BUFFER, this.dLineCoords );\n                this.dLineCoordsCount = coords.hLineCoordsCount;\n                this.dLineCoordsCapacityBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dLineCoordsCapacityBytes, coords.hLineCoords, this.dLineCoordsCount );\n                this.scratch.hLineCoords = coords.hLineCoords;\n\n                gl.bindBuffer( GL.ARRAY_BUFFER, this.dPointCoords );\n                this.dPointCoordsCount = coords.hPointCoordsCount;\n                this.dPointCoordsCapacityBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dPointCoordsCapacityBytes, coords.hPointCoords, this.dPointCoordsCount );\n                this.scratch.hPointCoords = coords.hPointCoords;\n\n                gl.bindBuffer( GL.ARRAY_BUFFER, this.dFillCoords );\n                this.dFillCoordsCount = coords.hFillCoordsCount;\n                this.dFillCoordsCapacityBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dFillCoordsCapacityBytes, coords.hFillCoords, this.dFillCoordsCount );\n                this.scratch.hFillCoords = coords.hFillCoords;\n            }\n            else {\n                this.dLineCoordsCount = 0;\n                this.dPointCoordsCount = 0;\n                this.dFillCoordsCount = 0;\n            }\n            this.dLine = this.line;\n            this.dCoordInputs = coordInputs;\n        }\n\n        // Render coords are relative to a reference point, to mitigate f32 precision error\n        const xBoundsShift = -( this.xRef ?? 0 );\n        const yBoundsShift = -( this.yRef ?? 0 );\n        const xyBounds = this.xyBoundsFn( ).shift( xBoundsShift, yBoundsShift );\n\n        // Prep for rendering\n        enablePremultipliedAlphaBlending( gl );\n\n        // Render fill\n        const fillVertexCount = Math.floor( this.dFillCoordsCount / 2 );\n        if ( fillVertexCount > 0 && fillColor.a > 0 ) {\n            const { program, attribs, uniforms } = context.getProgram( FILL_PROG_SOURCE );\n            gl.disable( gl.CULL_FACE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inCoords );\n            try {\n                glUniformInterval2D( gl, uniforms.AXIS_LIMITS, xyBounds );\n                glUniformRgba( gl, uniforms.COLOR, fillColor );\n\n                gl.bindBuffer( GL.ARRAY_BUFFER, this.dFillCoords );\n                gl.vertexAttribPointer( attribs.inCoords, 2, GL.FLOAT, false, 0, 0 );\n\n                gl.drawArrays( GL.TRIANGLES, 0, fillVertexCount );\n            }\n            finally {\n                gl.disableVertexAttribArray( attribs.inCoords );\n                gl.useProgram( null );\n            }\n        }\n\n        // Render lines\n        const lineVertexCount = Math.floor( this.dLineCoordsCount / 4 );\n        if ( lineVertexCount > 0 && lineColor.a > 0 && lineThickness_PX > 0 ) {\n            const { program, attribs, uniforms } = context.getProgram( LINE_PROG_SOURCE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inCoords );\n            try {\n                glUniformInterval2D( gl, uniforms.AXIS_LIMITS, xyBounds );\n                glUniformInterval2D( gl, uniforms.AXIS_VIEWPORT_PX, viewport_PX );\n                gl.uniform1f( uniforms.THICKNESS_PX, lineThickness_PX );\n                gl.uniform1f( uniforms.FEATHER_PX, FEATHER_PX );\n                glUniformRgba( gl, uniforms.COLOR, lineColor );\n\n                gl.bindBuffer( GL.ARRAY_BUFFER, this.dLineCoords );\n                gl.vertexAttribPointer( attribs.inCoords, 4, GL.FLOAT, false, 0, 0 );\n\n                gl.drawArrays( GL.TRIANGLES, 0, lineVertexCount );\n            }\n            finally {\n                gl.disableVertexAttribArray( attribs.inCoords );\n                gl.useProgram( null );\n            }\n        }\n\n        // Render points\n        const pointVertexCount = Math.floor( this.dPointCoordsCount / 3 );\n        if ( pointVertexCount > 0 && ( ( dotColor.a > 0 && dotDiameter_PX > 0 ) || ( lineColor.a > 0 && lineThickness_LPX > 1 ) || ( offscreenDataIndicatorColor.a > 0 && offscreenDataIndicatorDiameter_PX > 0 ) ) ) {\n            const { program, attribs, uniforms } = context.getProgram( POINT_PROG_SOURCE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inCoords );\n            try {\n                glUniformInterval2D( gl, uniforms.AXIS_LIMITS, xyBounds );\n                gl.uniform4f( uniforms.DATA_CLAMP_LIMITS,\n                    clamp( -GLSL_HIGHP_MAXVALUE, +GLSL_HIGHP_MAXVALUE, indicateDataBelowMinX ? xyBounds.xMin : Number.NEGATIVE_INFINITY ),\n                    clamp( -GLSL_HIGHP_MAXVALUE, +GLSL_HIGHP_MAXVALUE, indicateDataAboveMaxX ? xyBounds.xMax : Number.POSITIVE_INFINITY ),\n                    clamp( -GLSL_HIGHP_MAXVALUE, +GLSL_HIGHP_MAXVALUE, indicateDataBelowMinY ? xyBounds.yMin : Number.NEGATIVE_INFINITY ),\n                    clamp( -GLSL_HIGHP_MAXVALUE, +GLSL_HIGHP_MAXVALUE, indicateDataAboveMaxY ? xyBounds.yMax : Number.POSITIVE_INFINITY ),\n                );\n                gl.uniform1f( uniforms.FEATHER_PX, FEATHER_PX );\n                gl.uniform1f( uniforms.JOIN_DIAMETER_PX, lineThickness_PX );\n                gl.uniform1f( uniforms.DATA_DIAMETER_PX, dotDiameter_PX );\n                gl.uniform1f( uniforms.DATA_CLAMPED_DIAMETER_PX, offscreenDataIndicatorDiameter_PX );\n                glUniformRgba( gl, uniforms.JOIN_COLOR, lineColor );\n                glUniformRgba( gl, uniforms.DATA_COLOR, dotColor );\n                glUniformRgba( gl, uniforms.DATA_CLAMPED_COLOR, offscreenDataIndicatorColor );\n\n                gl.bindBuffer( GL.ARRAY_BUFFER, this.dPointCoords );\n                gl.vertexAttribPointer( attribs.inCoords, 3, GL.FLOAT, false, 0, 0 );\n\n                gl.drawArrays( GL.POINTS, 0, pointVertexCount );\n            }\n            finally {\n                gl.disableVertexAttribArray( attribs.inCoords );\n                gl.useProgram( null );\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n\n        gl.deleteBuffer( this.dLineCoords );\n        this.dLineCoords = null;\n        this.dLineCoordsCapacityBytes = -1;\n        this.dLineCoordsCount = -1;\n\n        gl.deleteBuffer( this.dPointCoords );\n        this.dPointCoords = null;\n        this.dPointCoordsCapacityBytes = -1;\n        this.dPointCoordsCount = -1;\n\n        gl.deleteBuffer( this.dFillCoords );\n        this.dFillCoords = null;\n        this.dFillCoordsCapacityBytes = -1;\n        this.dFillCoordsCount = -1;\n\n        this.glIncarnation = null;\n\n        this.dLine = undefined;\n        this.dCoordInputs = undefined;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Disposer, DisposerGroup, equal, FireableListenable, IMMEDIATE, Interval1D, Interval2D, isDefined, Nullable, Ref, RefBasic, tripleEquals, X, Y } from '@metsci/gleam-util';\nimport { Axis1D, Context, createAxisCursorInputHandler1D, Painter, Pane } from '../../core';\nimport { Color, createDomPeer, cssColor, cssFloat, currentDpr, disableBlending, enablePremultipliedAlphaBlending, GL, glScissor, glViewport, PeerType, pushBufferToDevice_BYTES, putAlignedBox, putRgba, StyleProp, ValueBase2, xPixelToNdc, yUpwardPixelToNdc } from '../../support';\nimport { tickOffsetEpsilon_PX } from '../axisPainter/painter';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    attribNames: [ 'inCoords', 'inColor' ] as const,\n} );\n\nexport function attachAxisCursor( pane: Pane, axis: Axis1D, axisType: X | Y, cursorRef: Ref<number | undefined | null>, repaint: FireableListenable ): Disposer {\n    const disposers = new DisposerGroup( );\n\n    const cursorPainter = new CursorPainter( axis, axisType );\n    disposers.add( pane.addPainter( cursorPainter, +999 ) );\n\n    disposers.add( cursorRef.addListener( IMMEDIATE, ( ) => {\n        cursorPainter.coord = cursorRef.v ?? undefined;\n        repaint.fire( );\n    } ) );\n\n    const cursorHoveredRef = new RefBasic( false, tripleEquals );\n    const cursorInputHandler = createAxisCursorInputHandler1D( axis, axisType, cursorRef, cursorHoveredRef );\n    disposers.add( pane.addInputHandler( cursorInputHandler, +999 ) );\n\n    disposers.add( cursorHoveredRef.addListener( IMMEDIATE, ( ) => {\n        cursorPainter.hovered = cursorHoveredRef.v;\n        repaint.fire( );\n    } ) );\n\n    return disposers;\n}\n\nclass CoordsInputs extends ValueBase2 {\n    constructor(\n        readonly viewport_PX: Interval2D,\n        readonly axisViewport_PX: Interval1D,\n        readonly axisBounds_AXIS: Interval1D,\n        readonly cursor_AXIS: number,\n        readonly innerWidth_PX: number,\n        readonly edgeWidth_PX: number,\n        readonly innerColor: Color,\n        readonly edgeColor: Color,\n    ) {\n        super( );\n    }\n}\n\nexport class CursorPainter implements Painter {\n    readonly peer = createDomPeer( 'cursor-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly innerColor = StyleProp.create( this.style, '--inner-color', cssColor, 'rgb(0,0,0)' );\n    readonly edgeColor = StyleProp.create( this.style, '--edge-color', cssColor, 'rgb(127,127,127)' );\n    readonly innerColorHovered = StyleProp.create( this.style, '--inner-color-hovered', cssColor, this.innerColor );\n    readonly edgeColorHovered = StyleProp.create( this.style, '--edge-color-hovered', cssColor, this.edgeColor );\n    readonly innerWidth_LPX = StyleProp.create( this.style, '--inner-width-px', cssFloat, 1 );\n    readonly edgeWidth_LPX = StyleProp.create( this.style, '--edge-width-px', cssFloat, 1 );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    protected readonly axis: Axis1D;\n    protected readonly axisType: X | Y;\n\n    coord: number | undefined;\n\n    /**\n     * Some painters get a hover effect by having a hover-related CSS class added\n     * to their panes. That's not a good option here, because this painter tends\n     * to take up a very small portion of a large pane, and the large pane may have\n     * other painters that need to be hovered/unhovered independently.\n     */\n    hovered: boolean;\n\n    protected readonly vertexCount: number;\n\n    /**\n     * Vertex coords followed by vertex colors:\n     *  - Coords: x_NDC, y_NDC\n     *  - Color: r, g, b, a\n     */\n    protected hCoords: Float32Array;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsBytes: number;\n    protected dCoordsInputs: Nullable<CoordsInputs>;\n\n    constructor( axis: Axis1D, axisType: X | Y ) {\n        this.axis = axis;\n        this.axisType = axisType;\n\n        this.coord = undefined;\n        this.hovered = false;\n\n        // 3 quads = 6 triangles = 18 vertices\n        this.vertexCount = 18;\n\n        this.hCoords = new Float32Array( 6 * this.vertexCount );\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        // Get style values\n        const innerColor = ( this.hovered ? this.innerColorHovered.get( ) : this.innerColor.get( ) );\n        const edgeColor = ( this.hovered ? this.edgeColorHovered.get( ) : this.edgeColor.get( ) );\n        const innerWidth_LPX = this.innerWidth_LPX.get( );\n        const edgeWidth_LPX = this.edgeWidth_LPX.get( );\n\n        // Convert from logical pixels to device pixels\n        const dpr = currentDpr( this );\n        const innerWidth_PX = Math.round( innerWidth_LPX * dpr );\n        const edgeWidth_PX = Math.round( edgeWidth_LPX * dpr );\n\n        const cursor_AXIS = this.coord;\n        const innerVisible = ( innerColor.a > 0 && innerWidth_PX > 0 );\n        const edgeVisible = ( edgeColor.a > 0 && edgeWidth_PX > 0 );\n        if ( isDefined( cursor_AXIS ) && ( innerVisible || edgeVisible ) ) {\n            const gl = context.gl;\n\n            // Reset device resources on context reincarnation\n            if ( context.glIncarnation !== this.glIncarnation ) {\n                this.glIncarnation = context.glIncarnation;\n                this.dCoords = gl.createBuffer( );\n                this.dCoordsBytes = -1;\n                this.dCoordsInputs = null;\n            }\n\n            // Leave this binding in place for the whole method\n            gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n            // Gather coords inputs\n            const axisBounds_AXIS = this.axis.bounds;\n            const axisViewport_PX = this.axis.viewport_PX;\n            const coordsInputs = new CoordsInputs(\n                viewport_PX,\n                axisViewport_PX,\n                axisBounds_AXIS,\n                cursor_AXIS,\n                innerWidth_PX,\n                edgeWidth_PX,\n                innerColor,\n                edgeColor,\n            );\n\n            // Adjust viewport and scissor based on the axis viewport\n            let scissor_PX: Interval2D;\n            if ( this.axisType === X ) {\n                scissor_PX = Interval2D.fromXy( ( viewport_PX.x ).intersection( axisViewport_PX ), viewport_PX.y );\n                viewport_PX = Interval2D.fromXy( axisViewport_PX, viewport_PX.y );\n            }\n            else {\n                scissor_PX = Interval2D.fromXy( viewport_PX.x, ( viewport_PX.y ).intersection( axisViewport_PX ) );\n                viewport_PX = Interval2D.fromXy( viewport_PX.x, axisViewport_PX );\n            }\n            glViewport( gl, viewport_PX );\n            glScissor( gl, scissor_PX );\n\n            // Repopulate device resources, if inputs have changed\n            if ( !equal( coordsInputs, this.dCoordsInputs ) ) {\n                let i = 0;\n\n                if ( this.axisType === X ) {\n                    const wPixel_NDC = 2 / viewport_PX.w;\n                    const xCenter_PX = axisBounds_AXIS.valueToFrac( cursor_AXIS ) * axisViewport_PX.span + tickOffsetEpsilon_PX;\n                    const xMinInner_NDC = xPixelToNdc( axisViewport_PX, Math.round( xCenter_PX - 0.5*innerWidth_PX ) );\n                    const xMaxInner_NDC = xMinInner_NDC + ( innerWidth_PX * wPixel_NDC );\n                    const xMinOuter_NDC = xMinInner_NDC - ( edgeWidth_PX * wPixel_NDC );\n                    const xMaxOuter_NDC = xMaxInner_NDC + ( edgeWidth_PX * wPixel_NDC );\n\n                    const yMin_NDC = -1;\n                    const yMax_NDC = +1;\n\n                    i = putAlignedBox( this.hCoords, i, xMinOuter_NDC, xMinInner_NDC, yMin_NDC, yMax_NDC );\n                    i = putAlignedBox( this.hCoords, i, xMinInner_NDC, xMaxInner_NDC, yMin_NDC, yMax_NDC );\n                    i = putAlignedBox( this.hCoords, i, xMaxInner_NDC, xMaxOuter_NDC, yMin_NDC, yMax_NDC );\n                }\n                else {\n                    const hPixel_NDC = 2 / viewport_PX.h;\n                    const yCenter_UPX = axisBounds_AXIS.valueToFrac( cursor_AXIS ) * axisViewport_PX.span + tickOffsetEpsilon_PX;\n                    const yMinInner_NDC = yUpwardPixelToNdc( axisViewport_PX, Math.round( yCenter_UPX - 0.5*innerWidth_PX ) );\n                    const yMaxInner_NDC = yMinInner_NDC + ( innerWidth_PX * hPixel_NDC );\n                    const yMinOuter_NDC = yMinInner_NDC - ( edgeWidth_PX * hPixel_NDC );\n                    const yMaxOuter_NDC = yMaxInner_NDC + ( edgeWidth_PX * hPixel_NDC );\n\n                    const xMin_NDC = -1;\n                    const xMax_NDC = +1;\n\n                    i = putAlignedBox( this.hCoords, i, xMin_NDC, xMax_NDC, yMinOuter_NDC, yMinInner_NDC );\n                    i = putAlignedBox( this.hCoords, i, xMin_NDC, xMax_NDC, yMinInner_NDC, yMaxInner_NDC );\n                    i = putAlignedBox( this.hCoords, i, xMin_NDC, xMax_NDC, yMaxInner_NDC, yMaxOuter_NDC );\n                }\n\n                for ( let c = 0; c < 6; c++ ) {\n                    i = putRgba( this.hCoords, i, edgeColor );\n                }\n                for ( let c = 0; c < 6; c++ ) {\n                    i = putRgba( this.hCoords, i, innerColor );\n                }\n                for ( let c = 0; c < 6; c++ ) {\n                    i = putRgba( this.hCoords, i, edgeColor );\n                }\n\n                const numCoords = ( 2 * this.vertexCount ) + ( 4 * this.vertexCount );\n                //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                this.dCoordsBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dCoordsBytes, this.hCoords, numCoords );\n                this.dCoordsInputs = coordsInputs;\n            }\n\n            // Render from device resources\n            if ( this.vertexCount >= 3 ) {\n                if ( ( innerVisible && innerColor.a < 1 ) || ( edgeVisible && edgeColor.a < 1 ) ) {\n                    enablePremultipliedAlphaBlending( gl );\n                }\n                else {\n                    disableBlending( gl );\n                }\n\n                const { program, attribs } = context.getProgram( PROG_SOURCE );\n                gl.useProgram( program );\n                gl.enableVertexAttribArray( attribs.inCoords );\n                gl.enableVertexAttribArray( attribs.inColor );\n                try {\n                    //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                    gl.vertexAttribPointer( attribs.inCoords, 2, GL.FLOAT, false, 0, 0 );\n                    gl.vertexAttribPointer( attribs.inColor, 4, GL.FLOAT, false, 0, 8 * this.vertexCount );\n\n                    gl.drawArrays( GL.TRIANGLES, 0, this.vertexCount );\n                }\n                finally {\n                    gl.disableVertexAttribArray( attribs.inColor );\n                    gl.disableVertexAttribArray( attribs.inCoords );\n                    gl.useProgram( null );\n                }\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsInputs = null;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Interval1D, Interval2D, Nullable, RefBasic, Supplier, tripleEquals, X, Y } from '@metsci/gleam-util';\nimport { Context, Painter } from '../../core';\nimport { createDomPeer, cssLowercase, enablePremultipliedAlphaBlending, GL, glUniformBool, glUniformInterval1D, PeerType, putAlignedBox, StyleProp } from '../../support';\nimport { frozenSupplier } from '../../util';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    uniformNames: [\n        'AXIS_IS_VERTICAL',\n        'AXIS_LIMITS',\n        'COLOR_LIMITS',\n        'COLOR_TABLE',\n    ] as const,\n    attribNames: [\n        'inCoords',\n    ] as const,\n} );\n\nexport class GradientPainter implements Painter {\n    readonly peer = createDomPeer( 'gradient-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly colorTableName = StyleProp.create( this.style, '--color-table', cssLowercase, '' );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    axisType: X | Y;\n    axisBoundsFn: Supplier<Interval1D>;\n    colorBoundsFn: Supplier<Interval1D>;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsValid: boolean;\n    protected dColorTable: Nullable<WebGLTexture>;\n    protected dColorTableName: Nullable<string>;\n\n    constructor(\n        axisType: X | Y,\n        axisBoundsFn: Supplier<Interval1D> = frozenSupplier( Interval1D.fromEdges( 0, 1 ) ),\n        colorBoundsFn: Supplier<Interval1D> = frozenSupplier( Interval1D.fromEdges( 0, 1 ) ),\n    ) {\n        this.axisType = axisType;\n        this.axisBoundsFn = axisBoundsFn;\n        this.colorBoundsFn = colorBoundsFn;\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsValid = false;\n        this.dColorTable = null;\n        this.dColorTableName = null;\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const colorTableName = this.colorTableName.get( );\n\n        const gl = context.gl;\n\n        // Reset device resources on context reincarnation\n        if ( context.glIncarnation !== this.glIncarnation ) {\n            this.glIncarnation = context.glIncarnation;\n            this.dCoords = gl.createBuffer( );\n            this.dCoordsValid = false;\n            this.dColorTable = gl.createTexture( );\n            this.dColorTableName = null;\n        }\n\n        // Leave these bindings in place for the whole method\n        gl.activeTexture( GL.TEXTURE0 );\n        gl.bindTexture( GL.TEXTURE_2D, this.dColorTable );\n        gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n        // Repopulate device coords, if necessary\n        if ( !this.dCoordsValid ) {\n            // Coords: colorBoundsFrac, orthoFrac\n            const hCoords = new Float32Array( 12 );\n            putAlignedBox( hCoords, 0, 0, 1, 0, 1 );\n\n            //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n            gl.bufferData( GL.ARRAY_BUFFER, hCoords, GL.STATIC_DRAW );\n            this.dCoordsValid = true;\n        }\n\n        // Repopulate device color table, if inputs have changed\n        if ( colorTableName !== this.dColorTableName ) {\n            //gl.bindTexture( GL.TEXTURE_2D, this.dColorTable );\n            context.getColorTable( colorTableName ).populate( gl, GL.TEXTURE_2D );\n            this.dColorTableName = colorTableName;\n        }\n\n        // Render from device resources\n        enablePremultipliedAlphaBlending( gl );\n        gl.disable( GL.CULL_FACE );\n        const { program, attribs, uniforms } = context.getProgram( PROG_SOURCE );\n        gl.useProgram( program );\n        gl.enableVertexAttribArray( attribs.inCoords );\n        try {\n            //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n            gl.vertexAttribPointer( attribs.inCoords, 2, GL.FLOAT, false, 0, 0 );\n\n            glUniformBool( gl, uniforms.AXIS_IS_VERTICAL, this.axisType === Y );\n            glUniformInterval1D( gl, uniforms.AXIS_LIMITS, this.axisBoundsFn( ) );\n            glUniformInterval1D( gl, uniforms.COLOR_LIMITS, this.colorBoundsFn( ) );\n\n            //gl.activeTexture( GL.TEXTURE0 );\n            //gl.bindTexture( GL.TEXTURE_2D, this.dColorTable );\n            gl.uniform1i( uniforms.COLOR_TABLE, 0 );\n\n            gl.drawArrays( GL.TRIANGLES, 0, 6 );\n        }\n        finally {\n            gl.disableVertexAttribArray( attribs.inCoords );\n            gl.useProgram( null );\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        gl.deleteTexture( this.dColorTable );\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsValid = false;\n        this.dColorTable = null;\n        this.dColorTableName = null;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Interval1D, Interval2D, Nullable, RefBasic, Supplier, tripleEquals } from '@metsci/gleam-util';\nimport { Context, Painter } from '../../core';\nimport { createDomPeer, cssEnum, cssLowercase, enablePremultipliedAlphaBlending, Float32Scratch, GL, glUniformInterval1D, glUniformInterval2D, PeerType, StyleProp } from '../../support';\nimport { frozenSupplier } from '../../util';\nimport { EmptyMesh, Mesh } from './mesh';\nimport { EmptySurface, Surface } from './surface';\nimport { TileDim, TileRect } from './util';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    uniformNames: [\n        'XY_LIMITS',\n        'VALUE_TABLE',\n        'VALUE_TABLE_SIZE',\n        'COLOR_LIMITS',\n        'COLOR_TABLE',\n        'INTERP_MODE',\n    ] as const,\n    attribNames: [\n        'inCoords',\n    ] as const,\n} );\n\nexport enum HeatmapInterpMode {\n    NEAREST = 0,\n    LINEAR_BETWEEN_COLUMNS = 1,\n    LINEAR_BETWEEN_ROWS = 2,\n    BILINEAR = 3,\n}\n\ninterface DeviceTile {\n    readonly rect: TileRect;\n    readonly numCoords: number;\n    readonly coords: Nullable<WebGLBuffer>;\n    readonly values: Nullable<WebGLTexture>;\n}\n\nexport class HeatmapPainter implements Painter {\n    readonly peer = createDomPeer( 'heatmap-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly colorTableName = StyleProp.create( this.style, '--color-table', cssLowercase, '' );\n    readonly interpMode = StyleProp.create( this.style, '--interp-mode', cssEnum( HeatmapInterpMode ), 'nearest' );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    xyBoundsFn: Supplier<Interval2D>;\n    colorBoundsFn: Supplier<Interval1D>;\n\n    protected mesh: Mesh;\n    protected surface: Surface;\n\n    protected readonly scratch: Float32Scratch;\n\n    protected glIncarnation: unknown;\n    protected dColorTable: Nullable<WebGLTexture>;\n    protected dColorTableName: Nullable<string>;\n    protected dTiles: Array<DeviceTile>;\n    protected dMaxTileDataDim: number;\n    protected dMeshValid: boolean;\n    protected dSurfaceDimsValid: boolean;\n    protected dSurfaceValuesValid: boolean;\n\n    constructor(\n        xyBoundsFn?: Supplier<Interval2D>,\n        colorBoundsFn?: Supplier<Interval1D>,\n    ) {\n        this.xyBoundsFn = xyBoundsFn ?? frozenSupplier( Interval2D.fromEdges( 0, 1, 0, 1 ) );\n        this.colorBoundsFn = colorBoundsFn ?? frozenSupplier( Interval1D.fromEdges( 0, 1 ) );\n\n        this.mesh = new EmptyMesh( );\n        this.surface = new EmptySurface( );\n\n        this.scratch = new Float32Scratch( );\n\n        this.glIncarnation = null;\n        this.dColorTable = null;\n        this.dColorTableName = null;\n        this.dTiles = new Array( );\n        this.dMaxTileDataDim = 0;\n        this.dMeshValid = false;\n        this.dSurfaceDimsValid = false;\n        this.dSurfaceValuesValid = false;\n    }\n\n    setMesh( mesh: Mesh ): void {\n        if ( mesh !== this.mesh ) {\n            this.dMeshValid = false;\n            this.mesh = mesh;\n        }\n    }\n\n    setSurface( surface: Surface ): void {\n        if ( surface !== this.surface ) {\n            this.dSurfaceValuesValid = false;\n            if ( surface.rTotal !== this.surface.rTotal || surface.cTotal !== this.surface.cTotal ) {\n                this.dSurfaceDimsValid = false;\n            }\n            this.surface = surface;\n        }\n    }\n\n    // TODO: Support optional wraparound, at least horizontally\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const colorTableName = this.colorTableName.get( );\n\n        const gl = context.gl;\n\n        // The -2 leaves room for a 1-texel border on each side\n        const maxTileDataDim = gl.getParameter( GL.MAX_TEXTURE_SIZE ) - 2;\n\n        // Reset device resources on context reincarnation\n        if ( context.glIncarnation !== this.glIncarnation ) {\n            // Strictly speaking WebGL doesn't guarantee support for FLOAT textures (OES_texture_float)\n            // or LINEAR interp of FLOAT textures (OES_texture_float_linear), but they are supported in\n            // all major browsers\n            if ( !( gl instanceof WebGL2RenderingContext || ( gl.getExtension( 'OES_texture_float' ) && gl.getExtension( 'OES_texture_float_linear' ) ) ) ) {\n                throw new Error( );\n            }\n            this.glIncarnation = context.glIncarnation;\n            this.dColorTable = gl.createTexture( );\n            this.dColorTableName = null;\n            this.dTiles = new Array<DeviceTile>( );\n            this.dMaxTileDataDim = 0;\n            this.dMeshValid = false;\n            this.dSurfaceDimsValid = false;\n            this.dSurfaceValuesValid = false;\n        }\n\n        // Repopulate device color table, if necessary\n        gl.activeTexture( GL.TEXTURE0 );\n        gl.bindTexture( GL.TEXTURE_2D, this.dColorTable );\n        if ( colorTableName !== this.dColorTableName ) {\n            context.getColorTable( colorTableName ).populate( gl, GL.TEXTURE_2D );\n            this.dColorTableName = colorTableName;\n        }\n\n        // Repopulate device tiles, if necessary\n        gl.activeTexture( GL.TEXTURE1 );\n        if ( !this.dSurfaceDimsValid || maxTileDataDim !== this.dMaxTileDataDim ) {\n            // TODO: Maybe recycle device resources\n            for ( const dTile of this.dTiles ) {\n                gl.deleteBuffer( dTile.coords );\n                gl.deleteTexture( dTile.values );\n            }\n            this.dTiles.length = 0;\n\n            for ( const tileRect of getTileRects( this.surface, maxTileDataDim ) ) {\n                const dCoords = gl.createBuffer( );\n                gl.bindBuffer( GL.ARRAY_BUFFER, dCoords );\n                const numCoords = pushTileCoordsToDevice( gl, GL.ARRAY_BUFFER, this.mesh, tileRect, this.scratch );\n\n                const dValues = gl.createTexture( );\n                gl.bindTexture( GL.TEXTURE_2D, dValues );\n                pushTileValuesToDevice( gl, GL.TEXTURE_2D, this.surface, tileRect, this.scratch );\n\n                this.dTiles.push( {\n                    rect: tileRect,\n                    numCoords,\n                    coords: dCoords,\n                    values: dValues,\n                } );\n            }\n        }\n        else {\n            if ( !this.dSurfaceValuesValid ) {\n                // TileRects are a fn of surface dims, which haven't changed\n                for ( const dTile of this.dTiles ) {\n                    gl.bindTexture( GL.TEXTURE_2D, dTile.values );\n                    pushTileValuesToDevice( gl, GL.TEXTURE_2D, this.surface, dTile.rect, this.scratch );\n                }\n            }\n            if ( !this.dMeshValid ) {\n                // TileRects are a fn of surface dims, which haven't changed\n                for ( const dTile of this.dTiles ) {\n                    gl.bindBuffer( GL.ARRAY_BUFFER, dTile.coords );\n                    pushTileCoordsToDevice( gl, GL.ARRAY_BUFFER, this.mesh, dTile.rect, this.scratch );\n                }\n            }\n        }\n        this.dMaxTileDataDim = maxTileDataDim;\n        this.dSurfaceDimsValid = true;\n        this.dSurfaceValuesValid = true;\n        this.dMeshValid = true;\n\n        // Render from device resources\n        enablePremultipliedAlphaBlending( gl );\n        gl.disable( GL.CULL_FACE );\n        const { program, attribs, uniforms } = context.getProgram( PROG_SOURCE );\n        gl.useProgram( program );\n        gl.enableVertexAttribArray( attribs.inCoords );\n        try {\n            //gl.activeTexture( GL.TEXTURE0 );\n            //gl.bindTexture( GL.TEXTURE_2D, this.dColorTable );\n\n            glUniformInterval2D( gl, uniforms.XY_LIMITS, this.xyBoundsFn( ) );\n            glUniformInterval1D( gl, uniforms.COLOR_LIMITS, this.colorBoundsFn( ) );\n            gl.uniform1i( uniforms.COLOR_TABLE, 0 );\n            gl.uniform1i( uniforms.VALUE_TABLE, 1 );\n            gl.uniform1i( uniforms.INTERP_MODE, this.interpMode.get( ) );\n\n            gl.activeTexture( GL.TEXTURE1 );\n            for ( const dTile of this.dTiles ) {\n                const numVertices = Math.floor( dTile.numCoords / 4 );\n                if ( numVertices >= 3 ) {\n                    gl.uniform2f( uniforms.VALUE_TABLE_SIZE, 1+dTile.rect.cDim.count+1, 1+dTile.rect.rDim.count+1 );\n                    gl.bindTexture( GL.TEXTURE_2D, dTile.values );\n                    gl.bindBuffer( GL.ARRAY_BUFFER, dTile.coords );\n                    gl.vertexAttribPointer( attribs.inCoords, 4, GL.FLOAT, false, 0, 0 );\n                    gl.drawArrays( GL.TRIANGLES, 0, numVertices );\n                }\n            }\n        }\n        finally {\n            gl.disableVertexAttribArray( attribs.inCoords );\n            gl.useProgram( null );\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteTexture( this.dColorTable );\n        for ( const dTile of this.dTiles ) {\n            gl.deleteBuffer( dTile.coords );\n            gl.deleteTexture( dTile.values );\n        }\n\n        this.glIncarnation = null;\n        this.dColorTable = null;\n        this.dColorTableName = null;\n        this.dTiles = new Array<DeviceTile>( );\n        this.dMeshValid = false;\n        this.dSurfaceDimsValid = false;\n        this.dSurfaceValuesValid = false;\n    }\n}\n\nfunction pushTileCoordsToDevice( gl: WebGLRenderingContext, target: number, mesh: Mesh, tileRect: TileRect, scratch: Float32Scratch ): number {\n    const hTileCoords = mesh.getTileCoords( tileRect, scratch );\n    gl.bufferData( target, hTileCoords, GL.STATIC_DRAW );\n    return hTileCoords.length;\n}\n\nfunction pushTileValuesToDevice( gl: WebGLRenderingContext, target: number, surface: Surface, tileRect: TileRect, scratch: Float32Scratch ): number {\n    const hTileValues = surface.getTileValues( tileRect, scratch );\n\n    // The +2 leaves room for a 1-texel border on each side\n    const textureWidth = tileRect.cDim.count + 2;\n    const textureHeight = tileRect.rDim.count + 2;\n    if ( hTileValues.length !== textureWidth * textureHeight ) {\n        const extraText = ( hTileValues.length === tileRect.cDim.count * tileRect.rDim.count ? ' (seems to be missing the 1-texel border)' : '' );\n        throw new Error( `Heatmap surface tile has wrong value count${extraText}: required = ${textureWidth*textureHeight} (${textureWidth}x${textureHeight}), actual = ${hTileValues.length}` );\n    }\n\n    // Set to LINEAR here; shaders may round to the nearest texel\n    gl.texParameteri( target, GL.TEXTURE_MAG_FILTER, GL.LINEAR );\n    gl.texParameteri( target, GL.TEXTURE_MIN_FILTER, GL.LINEAR );\n    gl.texParameteri( target, GL.TEXTURE_WRAP_S, GL.CLAMP_TO_EDGE );\n    gl.texParameteri( target, GL.TEXTURE_WRAP_T, GL.CLAMP_TO_EDGE );\n    gl.texImage2D( target, 0, GL.LUMINANCE, textureWidth, textureHeight, 0, GL.LUMINANCE, GL.FLOAT, hTileValues );\n\n    return hTileValues.length;\n}\n\nfunction getTileRects( surface: { rTotal: number, cTotal: number }, maxTileDim: number ): Iterable<TileRect> {\n    const rDims = getBandDims( surface.rTotal, maxTileDim );\n    const cDims = getBandDims( surface.cTotal, maxTileDim );\n\n    const tileRects = new Array<TileRect>( );\n    for ( const rDim of rDims ) {\n        for ( const cDim of cDims ) {\n            tileRects.push( new TileRect( rDim, cDim ) );\n        }\n    }\n    return tileRects;\n}\n\nfunction getBandDims( totalRanks: number, maxBandDim: number ): Array<TileDim> {\n    const bandDims = new Array<TileDim>( );\n    const bandCount = Math.ceil( totalRanks / maxBandDim );\n    for ( let b = 0; b < bandCount; b++ ) {\n        const first = b * maxBandDim;\n        const count = Math.min( maxBandDim, totalRanks - first );\n        if ( count > 0 ) {\n            bandDims.push( new TileDim( totalRanks, first, count ) );\n        }\n    }\n    return bandDims;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { equal, get, Interval2D, Nullable, RefBasic, requireDefined, requireNonNull, tripleEquals, ValueObject } from '@metsci/gleam-util';\nimport { Context, Painter } from '../../core';\nimport { AnchoredImage, createDomPeer, cssFloat, enablePremultipliedAlphaBlending, GL, PeerType, put4f, StyleProp } from '../../support';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    uniformNames: [\n        'VIEWPORT_PX',\n        'ANCHOR_PX',\n        'IMAGE',\n    ] as const,\n    attribNames: [\n        'inCoords',\n    ] as const,\n} );\n\nconst EMPTY_IMAGE: AnchoredImage = get( ( ) => {\n    const canvas = document.createElement( 'canvas' );\n    canvas.width = 3;\n    canvas.height = 3;\n    const g = requireNonNull( canvas.getContext( '2d', { willReadFrequently: true } ) );\n    g.clearRect( 0, 0, 3, 3 );\n    return {\n        xAnchor: 1.5,\n        yAnchor: 1.5,\n        border: 1,\n        imageData: g.getImageData( 0, 0, 3, 3 ),\n    };\n} );\n\nexport interface InputsGen<T> {\n    ( ): T;\n}\n\nexport interface ImageGen<T> {\n    ( inputs: T ): AnchoredImage;\n}\n\nexport class ImagePainter<T extends ValueObject> implements Painter {\n    readonly peer = createDomPeer( 'image-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly xAlignViewportFrac = StyleProp.create( this.style, '--x-align-viewport-frac', cssFloat, 0 );\n    readonly yAlignViewportFrac = StyleProp.create( this.style, '--y-align-viewport-frac', cssFloat, 0 );\n    readonly xAlignImageCoord = StyleProp.create( this.style, '--x-align-image-coord', cssFloat, 0 );\n    readonly yAlignImageCoord = StyleProp.create( this.style, '--y-align-image-coord', cssFloat, 0 );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    protected readonly createInputs: InputsGen<T>;\n    protected readonly createImage: ImageGen<T>;\n\n    protected hInputs: T | undefined;\n    protected hImage: AnchoredImage;\n    protected hCoords: Float32Array;\n\n    protected glIncarnation: unknown;\n    protected dInputs: T | undefined;\n    protected dTexture: Nullable<WebGLTexture>;\n    protected dCoords: Nullable<WebGLBuffer>;\n\n    constructor( options: {\n        createInputs: InputsGen<T>,\n        createImage: ImageGen<T>,\n    } ) {\n        this.createInputs = options.createInputs;\n        this.createImage = options.createImage;\n\n        this.hInputs = undefined;\n        this.hImage = EMPTY_IMAGE;\n        this.hCoords = new Float32Array( 16 );\n\n        this.glIncarnation = null;\n        this.dInputs = undefined;\n        this.dTexture = null;\n        this.dCoords = null;\n    }\n\n    protected updateHostResources( ): void {\n        const inputs = this.createInputs( );\n        if ( !equal( inputs, this.hInputs ) ) {\n            this.hInputs = inputs;\n            this.hImage = this.createImage( this.hInputs );\n            const sprawl = getImageSprawl( this.hImage );\n\n            // We flip the T coord here, because canvas coords increase from top to bottom\n            const wBorder_FRAC = this.hImage.border / this.hImage.imageData.width;\n            const hBorder_FRAC = this.hImage.border / this.hImage.imageData.height;\n            const sLeft = 0 + wBorder_FRAC;\n            const sRight = 1 - wBorder_FRAC;\n            const tBottom = 1 - hBorder_FRAC;\n            const tTop = 0 + hBorder_FRAC;\n\n            let i = 0;\n            i = put4f( this.hCoords, i, sprawl.dxLeft_PX,  sprawl.dyTop_PX,    sLeft,  tTop    );\n            i = put4f( this.hCoords, i, sprawl.dxLeft_PX,  sprawl.dyBottom_PX, sLeft,  tBottom );\n            i = put4f( this.hCoords, i, sprawl.dxRight_PX, sprawl.dyTop_PX,    sRight, tTop    );\n            i = put4f( this.hCoords, i, sprawl.dxRight_PX, sprawl.dyBottom_PX, sRight, tBottom );\n        }\n    }\n\n    getImageInputs( ): T {\n        this.updateHostResources( );\n        return requireDefined( this.hInputs );\n    }\n\n    getImage( ): AnchoredImage {\n        this.updateHostResources( );\n        return this.hImage;\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const xAlignViewportFrac = this.xAlignViewportFrac.get( );\n        const yAlignViewportFrac = this.yAlignViewportFrac.get( );\n        const xAlignImageCoord = this.xAlignImageCoord.get( );\n        const yAlignImageCoord = this.yAlignImageCoord.get( );\n\n        const gl = context.gl;\n\n        // Reset device resources on context reincarnation\n        if ( context.glIncarnation !== this.glIncarnation ) {\n            this.glIncarnation = context.glIncarnation;\n            this.dInputs = undefined;\n            this.dTexture = gl.createTexture( );\n            this.dCoords = gl.createBuffer( );\n        }\n\n        // Leave these bindings in place for the whole method\n        gl.activeTexture( GL.TEXTURE0 );\n        gl.bindTexture( GL.TEXTURE_2D, this.dTexture );\n        gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n        // Make sure host resources are up to date\n        this.updateHostResources( );\n\n        // Make sure device resources are up to date\n        if ( !equal( this.hInputs, this.dInputs ) ) {\n            this.dInputs = this.hInputs;\n\n            //gl.bindTexture( GL.TEXTURE_2D, this.dTexture );\n            gl.texParameteri( GL.TEXTURE_2D, GL.TEXTURE_MAG_FILTER, GL.NEAREST );\n            gl.texParameteri( GL.TEXTURE_2D, GL.TEXTURE_MIN_FILTER, GL.NEAREST );\n            gl.texParameteri( GL.TEXTURE_2D, GL.TEXTURE_WRAP_S, GL.CLAMP_TO_EDGE );\n            gl.texParameteri( GL.TEXTURE_2D, GL.TEXTURE_WRAP_T, GL.CLAMP_TO_EDGE );\n            gl.texImage2D( GL.TEXTURE_2D, 0, GL.RGBA, GL.RGBA, GL.UNSIGNED_BYTE, this.hImage.imageData );\n\n            //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n            gl.bufferData( GL.ARRAY_BUFFER, this.hCoords, gl.STATIC_DRAW );\n        }\n\n        // Compute viewport coords for anchor point\n        const sprawl = getImageSprawl( this.hImage );\n        const x_PX = Math.round( xAlignViewportFrac*viewport_PX.w - xAlignImageCoord*( xAlignImageCoord < 0 ? -sprawl.dxLeft_PX : sprawl.dxRight_PX ) );\n        const y_PX = Math.round( yAlignViewportFrac*viewport_PX.h - yAlignImageCoord*( yAlignImageCoord < 0 ? -sprawl.dyBottom_PX : sprawl.dyTop_PX ) );\n\n        enablePremultipliedAlphaBlending( gl );\n        const { program, attribs, uniforms } = context.getProgram( PROG_SOURCE );\n        gl.useProgram( program );\n        gl.enableVertexAttribArray( attribs.inCoords );\n        try {\n            gl.uniform4f( uniforms.VIEWPORT_PX, 0, 0, viewport_PX.w, viewport_PX.h );\n            gl.uniform2f( uniforms.ANCHOR_PX, x_PX, y_PX );\n\n            //gl.activeTexture( GL.TEXTURE0 );\n            //gl.bindTexture( GL.TEXTURE_2D, this.dTexture );\n            gl.uniform1i( uniforms.IMAGE, 0 );\n\n            //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n            gl.vertexAttribPointer( attribs.inCoords, 4, GL.FLOAT, false, 0, 0 );\n\n            gl.drawArrays( GL.TRIANGLE_STRIP, 0, 4 );\n        }\n        finally {\n            gl.disableVertexAttribArray( attribs.inCoords );\n            gl.useProgram( null );\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteTexture( this.dTexture );\n        gl.deleteBuffer( this.dCoords );\n        this.glIncarnation = null;\n        this.dTexture = null;\n        this.dCoords = null;\n    }\n}\n\ninterface ImageSprawl {\n    dxLeft_PX: number;\n    dxRight_PX: number;\n    dyBottom_PX: number;\n    dyTop_PX: number;\n};\n\nfunction getImageSprawl( image: AnchoredImage ): ImageSprawl {\n    return {\n        dxLeft_PX: ( 0 + image.border ) - image.xAnchor,\n        dxRight_PX: ( image.imageData.width - image.border ) - image.xAnchor,\n        dyBottom_PX: image.yAnchor - ( image.imageData.height - image.border ),\n        dyTop_PX: image.yAnchor - ( 0 + image.border ),\n    };\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { get, Interval1D, Interval2D, isDefined, mapAdd, mapRequire, mapSetIfAbsent, Nullable, RefBasic, Supplier, tripleEquals } from '@metsci/gleam-util';\nimport { Context, Painter } from '../../core';\nimport { createDomPeer, cssColor, cssEnum, cssFloat, cssLowercase, currentDpr, enablePremultipliedAlphaBlending, GL, glUniformInterval1D, glUniformInterval2D, glUniformRgba, PeerType, pushBufferToDevice_BYTES, ShaderSource, StyleProp } from '../../support';\nimport { frozenSupplier } from '../../util';\n\nimport discFragShader_GLSL from './disc.frag';\nimport ringFragShader_GLSL from './ring.frag';\nimport squareFragShader_GLSL from './square.frag';\nimport xyVertShader_GLSL from './xy.vert';\nimport xycVertShader_GLSL from './xyc.vert';\nimport xycsVertShader_GLSL from './xycs.vert';\nimport xysVertShader_GLSL from './xys.vert';\n\nconst { floor, max } = Math;\n\nexport enum ScatterShape {\n    SQUARE,\n    DISC,\n    RING,\n}\n\nexport enum ScatterDimensionality {\n    XY,\n    XYC,\n    XYS,\n    XYCS,\n}\n\nconst PROG_SOURCES = get( ( ) => {\n    const fragShadersByShape_GLSL = new Map( [\n        [ ScatterShape.SQUARE, squareFragShader_GLSL ],\n        [ ScatterShape.DISC, discFragShader_GLSL ],\n        [ ScatterShape.RING, ringFragShader_GLSL ],\n    ] );\n\n    const vertShadersByDimensionality_GLSL = new Map( [\n        [ ScatterDimensionality.XY, xyVertShader_GLSL ],\n        [ ScatterDimensionality.XYC, xycVertShader_GLSL ],\n        [ ScatterDimensionality.XYS, xysVertShader_GLSL ],\n        [ ScatterDimensionality.XYCS, xycsVertShader_GLSL ],\n    ] );\n\n    const uniformNames = [\n        'XY_BOUNDS',\n\n        'FIXED_RGBA',\n        'C_BOUNDS',\n        'VARIABLE_COLOR_TABLE',\n\n        'FIXED_SIZE_PX',\n        'S_BOUNDS',\n        'VARIABLE_SIZE_LIMITS_PX',\n        'VARIABLE_SIZE_FUNC',\n\n        'THICKNESS_PX',\n        'FEATHER_PX',\n    ] as const;\n\n    const attribNames = [\n        'inCoords',\n    ] as const;\n\n    const sourcesByDimByShape = new Map<ScatterShape, Map<ScatterDimensionality, ShaderSource<typeof uniformNames, typeof attribNames>>>( );\n    for ( const [ shape, fragShader_GLSL ] of fragShadersByShape_GLSL ) {\n        const sourcesByDim = mapSetIfAbsent( sourcesByDimByShape, shape, ( ) => new Map<ScatterDimensionality, ShaderSource<typeof uniformNames, typeof attribNames>>( ) );\n        for ( const [ dim, vertShader_GLSL ] of vertShadersByDimensionality_GLSL ) {\n            mapAdd( sourcesByDim, dim, { vertShader_GLSL, fragShader_GLSL, attribNames, uniformNames } );\n        }\n    }\n    return sourcesByDimByShape;\n} );\n\nexport function adjustSizeForShape( size: number, shape: ScatterShape ): number {\n    switch ( shape ) {\n        case ScatterShape.DISC:\n        case ScatterShape.RING: {\n            // Add a few pixels so the circle's edge tends to land in the\n            // center of a pixel, and we have room to feather the edge\n            return size + 3;\n        }\n        default: {\n            return size;\n        }\n    }\n}\n\nexport enum ScatterSizeFunc {\n    LINEAR,\n    QUADRATIC,\n    SQRT,\n}\n\nexport function sizeFuncCode( sizeFunc: ScatterSizeFunc ): number {\n    switch ( sizeFunc ) {\n        case ScatterSizeFunc.LINEAR: return 0;\n        case ScatterSizeFunc.QUADRATIC: return 1;\n        case ScatterSizeFunc.SQRT: return 2;\n        default: return -1;\n    }\n}\n\nexport class ScatterPainter implements Painter {\n    readonly peer = createDomPeer( 'scatter-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly fixedColor = StyleProp.create( this.style, '--fixed-color', cssColor, 'rgb(0,0,0)' );\n    readonly variableColorTableName = StyleProp.create( this.style, '--variable-color-table', cssLowercase, '' );\n    readonly fixedSize_LPX = StyleProp.create( this.style, '--fixed-size-px', cssFloat, 8 );\n    readonly variableSizeMin_LPX = StyleProp.create( this.style, '--variable-size-min-px', cssFloat, 1 );\n    readonly variableSizeMax_LPX = StyleProp.create( this.style, '--variable-size-max-px', cssFloat, 18 );\n    readonly variableSizeFunc = StyleProp.create( this.style, '--variable-size-fn', cssEnum( ScatterSizeFunc ), 'linear' );\n    readonly shape = StyleProp.create( this.style, '--shape', cssEnum( ScatterShape ), 'disc' );\n    readonly thickness_LPX = StyleProp.create( this.style, '--thickness-px', cssFloat, 1.5 );\n\n    /**\n     * Specified in physical pixels, not logical pixels. Used for making edges\n     * look less pixelated, and pixelation is a function of physical pixel size.\n     */\n    readonly feather_PX = StyleProp.create( this.style, '--feather-dpx', cssFloat, 1.5 );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    xyBoundsFn: Supplier<Interval2D>;\n    cBoundsFn: Supplier<Interval1D>;\n    sBoundsFn: Supplier<Interval1D>;\n\n    /**\n     * Coords: x, y\n     * Coords: x, y, c\n     * Coords: x, y, s\n     * Coords: x, y, c, s\n     */\n    protected hCoords: Float32Array;\n    protected hCoordsPerPoint: number;\n    protected hDim: ScatterDimensionality | undefined;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsBytes: number;\n    protected dCoordsValid: boolean;\n    protected dColorTable: Nullable<WebGLTexture>;\n    protected dColorTableName: Nullable<string>;\n\n    constructor(\n        xyBoundsFn = frozenSupplier( Interval2D.fromEdges( 0, 1, 0, 1 ) ),\n        cBoundsFn = frozenSupplier( Interval1D.fromEdges( 0, 1 ) ),\n        sBoundsFn = frozenSupplier( Interval1D.fromEdges( 0, 1 ) ),\n    ) {\n        this.xyBoundsFn = xyBoundsFn;\n        this.cBoundsFn = cBoundsFn;\n        this.sBoundsFn = sBoundsFn;\n\n        this.hCoords = new Float32Array( 0 );\n        this.hCoordsPerPoint = -1;\n        this.hDim = undefined;\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsValid = false;\n        this.dColorTable = null;\n        this.dColorTableName = null;\n    }\n\n    setXyCoords( xyCoords: Float32Array ): void {\n        this.hCoordsPerPoint = 2;\n        this.hDim = ScatterDimensionality.XY;\n        this.hCoords = xyCoords;\n        this.dCoordsValid = false;\n    }\n\n    setXycCoords( xycCoords: Float32Array ): void {\n        this.hCoordsPerPoint = 3;\n        this.hDim = ScatterDimensionality.XYC;\n        this.hCoords = xycCoords;\n        this.dCoordsValid = false;\n    }\n\n    setXysCoords( xysCoords: Float32Array ): void {\n        this.hCoordsPerPoint = 3;\n        this.hDim = ScatterDimensionality.XYS;\n        this.hCoords = xysCoords;\n        this.dCoordsValid = false;\n    }\n\n    setXycsCoords( xycsCoords: Float32Array ): void {\n        this.hCoordsPerPoint = 4;\n        this.hDim = ScatterDimensionality.XYCS;\n        this.hCoords = xycsCoords;\n        this.dCoordsValid = false;\n    }\n\n    // TODO: Support optional wraparound, at least horizontally\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const fixedColor = this.fixedColor.get( );\n        const variableColorTableName = this.variableColorTableName.get( );\n        const fixedSize_LPX = this.fixedSize_LPX.get( );\n        const variableSizeMin_LPX = this.variableSizeMin_LPX.get( );\n        const variableSizeMax_LPX = this.variableSizeMax_LPX.get( );\n        const variableSizeFunc = this.variableSizeFunc.get( );\n        const shape = this.shape.get( );\n        const thickness_LPX = this.thickness_LPX.get( );\n        const feather_PX = this.feather_PX.get( );\n\n        // Convert from logical pixels to device pixels\n        const dpr = currentDpr( this );\n        const fixedSize_PX = adjustSizeForShape( fixedSize_LPX * dpr, shape );\n        const variableSizeLimits_PX = Interval1D.fromEdges(\n            adjustSizeForShape( variableSizeMin_LPX * dpr, shape ),\n            adjustSizeForShape( variableSizeMax_LPX * dpr, shape ),\n        );\n        const thickness_PX = thickness_LPX * dpr;\n\n        const gl = context.gl;\n\n        // Reset device resources on context reincarnation\n        if ( context.glIncarnation !== this.glIncarnation ) {\n            this.glIncarnation = context.glIncarnation;\n            this.dCoords = gl.createBuffer( );\n            this.dCoordsBytes = -1;\n            this.dCoordsValid = false;\n            this.dColorTable = gl.createTexture( );\n            this.dColorTableName = null;\n        }\n\n        // Leave these bindings in place for the whole method\n        gl.activeTexture( GL.TEXTURE0 );\n        gl.bindTexture( GL.TEXTURE_2D, this.dColorTable );\n        gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n        // Repopulate device coords, if necessary\n        if ( !this.dCoordsValid ) {\n            //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n            this.dCoordsBytes = pushBufferToDevice_BYTES( gl, GL.ARRAY_BUFFER, this.dCoordsBytes, this.hCoords );\n            this.dCoordsValid = true;\n        }\n\n        // Repopulate device color table, if inputs have changed\n        if ( variableColorTableName !== this.dColorTableName ) {\n            //gl.bindTexture( GL.TEXTURE_2D, this.dColorTable );\n            context.getColorTable( variableColorTableName ).populate( gl, GL.TEXTURE_2D );\n            this.dColorTableName = variableColorTableName;\n        }\n\n        // Render from device resources\n        const numVertices = floor( this.hCoords.length / this.hCoordsPerPoint );\n        if ( numVertices > 0 && isDefined( this.hDim ) ) {\n            const progSource = mapRequire( mapRequire( PROG_SOURCES, shape ), this.hDim );\n            const { program, attribs, uniforms } = context.getProgram( progSource );\n            enablePremultipliedAlphaBlending( gl );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inCoords );\n            try {\n                glUniformInterval2D( gl, uniforms.XY_BOUNDS, this.xyBoundsFn( ) );\n\n                //gl.activeTexture( GL.TEXTURE0 );\n                //gl.bindTexture( GL.TEXTURE_2D, this.dColorTable );\n                gl.uniform1i( uniforms.VARIABLE_COLOR_TABLE, 0 );\n                glUniformInterval1D( gl, uniforms.C_BOUNDS, this.cBoundsFn( ) );\n                glUniformRgba( gl, uniforms.FIXED_RGBA, fixedColor );\n\n                gl.uniform1i( uniforms.VARIABLE_SIZE_FUNC, sizeFuncCode( variableSizeFunc ) );\n                glUniformInterval1D( gl, uniforms.VARIABLE_SIZE_LIMITS_PX, variableSizeLimits_PX );\n                glUniformInterval1D( gl, uniforms.S_BOUNDS, this.sBoundsFn( ) );\n                gl.uniform1f( uniforms.FIXED_SIZE_PX, fixedSize_PX );\n\n                gl.uniform1f( uniforms.THICKNESS_PX, thickness_PX );\n\n                // GLSL's smoothstep chokes if feather is zero\n                gl.uniform1f( uniforms.FEATHER_PX, max( 1e-3, feather_PX ) );\n\n                //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n                gl.vertexAttribPointer( attribs.inCoords, this.hCoordsPerPoint, GL.FLOAT, false, 0, 0 );\n\n                gl.drawArrays( GL.POINTS, 0, numVertices );\n            }\n            finally {\n                gl.disableVertexAttribArray( attribs.inCoords );\n                gl.useProgram( null );\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        gl.deleteTexture( this.dColorTable );\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsBytes = -1;\n        this.dCoordsValid = false;\n        this.dColorTable = null;\n        this.dColorTableName = null;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { Interval1D, Interval2D, Nullable, RefBasic, Supplier, tripleEquals, X, Y } from '@metsci/gleam-util';\nimport { Context, Painter } from '../../core';\nimport { createDomPeer, cssColor, enablePremultipliedAlphaBlending, GL, glUniformBool, glUniformInterval1D, glUniformRgba, PeerType, putAlignedBox, StyleProp } from '../../support';\nimport { frozenSupplier } from '../../util';\n\nimport fragShader_GLSL from './shader.frag';\nimport vertShader_GLSL from './shader.vert';\n\nconst PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL,\n    fragShader_GLSL,\n    uniformNames: [\n        'AXIS_IS_VERTICAL',\n        'AXIS_LIMITS',\n        'COLOR_LIMITS',\n        'RGBA',\n    ] as const,\n    attribNames: [\n        'inCoords',\n    ] as const,\n} );\n\nexport class SolidPainter implements Painter {\n    readonly peer = createDomPeer( 'solid-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly color = StyleProp.create( this.style, '--color', cssColor, 'rgb(127,127,127)' );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    axisType: X | Y;\n    axisBoundsFn: Supplier<Interval1D>;\n    colorBoundsFn: Supplier<Interval1D>;\n\n    protected glIncarnation: unknown;\n    protected dCoords: Nullable<WebGLBuffer>;\n    protected dCoordsValid: boolean;\n\n    constructor(\n        axisType: X | Y,\n        axisBoundsFn: Supplier<Interval1D> = frozenSupplier( Interval1D.fromEdges( 0, 1 ) ),\n        colorBoundsFn: Supplier<Interval1D> = frozenSupplier( Interval1D.fromEdges( 0, 1 ) ),\n    ) {\n        this.axisType = axisType;\n        this.axisBoundsFn = axisBoundsFn;\n        this.colorBoundsFn = colorBoundsFn;\n\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsValid = false;\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const color = this.color.get( );\n\n        const gl = context.gl;\n\n        // Reset device resources on context reincarnation\n        if ( context.glIncarnation !== this.glIncarnation ) {\n            this.glIncarnation = context.glIncarnation;\n            this.dCoords = gl.createBuffer( );\n            this.dCoordsValid = false;\n        }\n\n        // Leave these bindings in place for the whole method\n        gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n\n        // Repopulate device coords, if necessary\n        if ( !this.dCoordsValid ) {\n            // Coords: colorBoundsFrac, orthoFrac\n            const hCoords = new Float32Array( 12 );\n            putAlignedBox( hCoords, 0, 0, 1, 0, 1 );\n\n            //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n            gl.bufferData( GL.ARRAY_BUFFER, hCoords, GL.STATIC_DRAW );\n            this.dCoordsValid = true;\n        }\n\n        // Render from device resources\n        enablePremultipliedAlphaBlending( gl );\n        gl.disable( GL.CULL_FACE );\n        const { program, attribs, uniforms } = context.getProgram( PROG_SOURCE );\n        gl.useProgram( program );\n        gl.enableVertexAttribArray( attribs.inCoords );\n        try {\n            //gl.bindBuffer( GL.ARRAY_BUFFER, this.dCoords );\n            gl.vertexAttribPointer( attribs.inCoords, 2, GL.FLOAT, false, 0, 0 );\n\n            glUniformBool( gl, uniforms.AXIS_IS_VERTICAL, this.axisType === Y );\n            glUniformInterval1D( gl, uniforms.AXIS_LIMITS, this.axisBoundsFn( ) );\n            glUniformInterval1D( gl, uniforms.COLOR_LIMITS, this.colorBoundsFn( ) );\n            glUniformRgba( gl, uniforms.RGBA, color );\n\n            gl.drawArrays( GL.TRIANGLE_STRIP, 0, 6 );\n        }\n        finally {\n            gl.disableVertexAttribArray( attribs.inCoords );\n            gl.useProgram( null );\n        }\n    }\n\n    dispose( context: Context ): void {\n        const gl = context.gl;\n        gl.deleteBuffer( this.dCoords );\n        this.glIncarnation = null;\n        this.dCoords = null;\n        this.dCoordsValid = false;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { equal, Interval1D, Nullable, run } from '@metsci/gleam-util';\nimport { Axis1D, AxisLabel, AxisLabelSet, EMPTY_TICKSET, Ticker, TickSet } from '../core';\nimport { createDomPeer, cssFloat, cssInteger, PeerType, StyleProp, ValueBase } from '../support';\n\nexport const linearTickIntervalFactors = Object.freeze( [ 5.0, 2.0, 1.0, 0.5, 0.2, 0.1 ] );\n\nexport class LinearTicker implements Ticker {\n    readonly peer = createDomPeer( 'linear-ticker', this, PeerType.OTHER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly majorSpacingApprox_LPX = StyleProp.create( this.style, '--approx-major-spacing-px', cssFloat, 100 );\n    readonly minorPerMajor = StyleProp.create( this.style, '--minor-per-major', cssInteger, 5 );\n\n    axisLabel: string;\n    axisUnits: string;\n    coordFactor: number;\n    coordOffset: number;\n    minMajorCount: number;\n\n    protected formatTickCanary: ValueBase | undefined;\n    protected formatTick: ( ( axisCoord: number ) => string ) | undefined;\n\n    constructor( axisLabel?: Nullable<string>, axisUnits?: Nullable<string>, coordFactor?: number, coordOffset?: number ) {\n        this.axisLabel = ( axisLabel ?? '' );\n        this.axisUnits = ( axisUnits ?? '' );\n        this.coordFactor = ( coordFactor ?? 1.0 );\n        this.coordOffset = ( coordOffset ?? 0.0 );\n        this.minMajorCount = 3;\n        this.formatTickCanary = undefined;\n        this.formatTick = undefined;\n    }\n\n    toDisplayCoord( axisCoord: number ): number {\n        return this.coordOffset + ( this.coordFactor * axisCoord );\n    }\n\n    fromDisplayCoord( displayCoord: number ): number {\n        return ( displayCoord - this.coordOffset ) / this.coordFactor;\n    }\n\n    toDisplayInterval( axisInterval: Interval1D ): Interval1D {\n        const a = this.toDisplayCoord( axisInterval.min );\n        const b = this.toDisplayCoord( axisInterval.max );\n        return Interval1D.fromEdges( Math.min( a, b ), Math.max( a, b ) );\n    }\n\n    fromDisplayInterval( displayInterval: Interval1D ): Interval1D {\n        const a = this.fromDisplayCoord( displayInterval.min );\n        const b = this.fromDisplayCoord( displayInterval.max );\n        return Interval1D.fromEdges( Math.min( a, b ), Math.max( a, b ) );\n    }\n\n    protected chooseScaleOrder( bounds: Interval1D ): number {\n        // Without the epsilon, an axis whose span is a nice round number\n        // sometimes flickers rapidly back and forth between scale orders\n        const spanEpsilon_PX = 1e-12;\n        const spanOrder = order( Math.abs( bounds.span + spanEpsilon_PX ) );\n        if ( spanOrder > 0 ) {\n            return 3 * Math.floor( ( spanOrder - 1 ) / 3 );\n        }\n        else if ( spanOrder < 0 ) {\n            return 3 * ( Math.ceil( spanOrder / 3 ) - 1 );\n        }\n        else {\n            return 0;\n        }\n    }\n\n    getTicks( axis: Nullable<Axis1D> ): TickSet {\n        if ( !axis || axis.viewport_PX.span <= 0 ) {\n            return EMPTY_TICKSET;\n        }\n\n        const majorSpacingApprox_LPX = this.majorSpacingApprox_LPX.get( );\n        const minorPerMajor = this.minorPerMajor.get( );\n\n        if ( majorSpacingApprox_LPX === null ) {\n            return EMPTY_TICKSET;\n        }\n\n        const displayBounds = this.toDisplayInterval( axis.bounds );\n\n        const majorSpacingApprox_PX = majorSpacingApprox_LPX * axis.dpr;\n        const majorCountApprox = axis.viewport_PX.span / majorSpacingApprox_PX;\n        const bestMajorSeq = findLinearTickSeq( this.minMajorCount, majorCountApprox, displayBounds );\n\n        if ( bestMajorSeq === null ) {\n            return EMPTY_TICKSET;\n        }\n        else {\n            const majors = [] as number[];\n            const majorFirst = bestMajorSeq.first;\n            const majorCount = bestMajorSeq.countCurrent;\n            const majorStep = bestMajorSeq.step;\n            for ( let i = 0; i < majorCount; i++ ) {\n                const major = majorFirst + i*majorStep;\n                if ( displayBounds.containsPoint( major ) ) {\n                    majors.push( this.fromDisplayCoord( major ) );\n                }\n            }\n\n            const minors = [] as number[];\n            const minorStep = majorStep / minorPerMajor;\n            for ( let i = -1; i < majorCount; i++ ) {\n                const major = majorFirst + i*majorStep;\n                for ( let j = 1; j < minorPerMajor; j++ ) {\n                    const minor = major + j*minorStep;\n                    if ( displayBounds.containsPoint( minor ) ) {\n                        minors.push( this.fromDisplayCoord( minor ) );\n                    }\n                }\n            }\n\n            const scaleOrder = this.chooseScaleOrder( displayBounds );\n            const scaleFactor = Math.pow( 10, -scaleOrder );\n            const precision = -order( Math.abs( majorStep * scaleFactor ) );\n            const numDecimalPlaces = Math.max( 0, precision );\n\n            // Reuse the existing `formatTick` fn if we can, so downstream caches stay valid\n            const formatTickCanary = new ValueBase( this.coordFactor, this.coordOffset, scaleFactor, numDecimalPlaces );\n            if ( !this.formatTick || !equal( formatTickCanary, this.formatTickCanary ) ) {\n                this.formatTick = axisCoord => {\n                    const scaled = this.toDisplayCoord( axisCoord ) * scaleFactor;\n                    return scaled.toFixed( numDecimalPlaces );\n                };\n                this.formatTickCanary = formatTickCanary;\n            }\n\n            const getAxisLabels = ( ) => {\n                const scaleText = run( ( ) => {\n                    switch ( scaleOrder ) {\n                        case 0: return '';\n                        case +3: return '\\u00D7' + '1,000';\n                        case -3: return '\\u00D7' + '0.001';\n                        default: return '\\u00D7' + '10^' + scaleOrder.toFixed( 0 );\n                    }\n                } );\n                const unitsText = joinWords( ' ', scaleText, this.axisUnits );\n                const suffixText = ( unitsText.length === 0 ? '' : '(' + unitsText + ')' );\n                const axisText = joinWords( ' ', this.axisLabel, suffixText );\n                return new AxisLabelSet( [ new AxisLabel( 0.5, axisText ) ], [] );\n            };\n\n            return new TickSet( majors, minors, this.formatTick, getAxisLabels );\n        }\n    }\n}\n\nexport function joinWords( separator: string, ...words: string[] ): string {\n    let s = '';\n    for ( const word of words ) {\n        if ( word.length > 0 ) {\n            if ( s.length > 0 ) {\n                s += separator;\n            }\n            s += word;\n        }\n    }\n    return s;\n}\n\nexport function order( x: number ): number {\n    return Math.floor( Math.log10( x ) );\n}\n\nexport function findPrelimLinearTickInterval( axisBounds: Interval1D, tickCountApprox: number ): number {\n    const axisMin = Math.min( axisBounds.min, axisBounds.max );\n    const axisMax = Math.max( axisBounds.min, axisBounds.max );\n    const tickStepApprox = ( axisMax - axisMin ) / tickCountApprox;\n    return Math.pow( 10, Math.round( Math.log10( tickStepApprox ) ) );\n}\n\nexport type LinearTickSeq = {\n    /**\n     * Coord of first tick\n     */\n    first: number,\n\n    /**\n     * Step from one tick to the next\n     */\n    step: number,\n\n    /**\n     * Minimum tick count for the given bounds and this step size\n     * -- not a function of first tick coord, which is useful because\n     * we want to choose tick step in a way that doesn't vary as\n     * the axis pans\n     */\n    countMin: number,\n\n    /**\n     * Actual tick count, given bounds, step, and first tick\n     */\n    countCurrent: number\n};\n\nexport function findLinearTickSeq( minTickCount: number, approxTickCount: number, axisBounds: Interval1D ): Nullable<LinearTickSeq> {\n    const tickCountTarget = Math.max( minTickCount, approxTickCount );\n    const tickStepPrelim = findPrelimLinearTickInterval( axisBounds, tickCountTarget );\n\n    let bestSeq = null as Nullable<LinearTickSeq>;\n\n    // Look for the best factor that gives us at least a minimal number of visible ticks\n    {\n        let bestMiss = Number.POSITIVE_INFINITY;\n        for ( const factor of linearTickIntervalFactors ) {\n            const seq = createLinearTickSeq( axisBounds, factor * tickStepPrelim );\n            if ( seq.countMin >= minTickCount ) {\n                const miss = Math.abs( seq.countMin - tickCountTarget );\n                if ( miss < bestMiss ) {\n                    bestSeq = seq;\n                    bestMiss = miss;\n                }\n            }\n        }\n    }\n\n    // If no factor gave us enough visible ticks, use the one that gives us the most visible ticks\n    if ( bestSeq === null ) {\n        let bestCount = -1;\n        for ( const factor of linearTickIntervalFactors ) {\n            const seq = createLinearTickSeq( axisBounds, factor * tickStepPrelim );\n            if ( seq.countMin > bestCount ) {\n                bestSeq = seq;\n                bestCount = seq.countMin;\n            }\n        }\n    }\n\n    return bestSeq;\n}\n\nexport function createLinearTickSeq( axisBounds: Interval1D, tickInterval: number ): LinearTickSeq {\n    const axisMin = Math.min( axisBounds.min, axisBounds.max );\n    const axisMax = Math.max( axisBounds.min, axisBounds.max );\n    const tickStep = Math.abs( tickInterval );\n    const tickFirst = Math.ceil( axisMin / tickStep ) * tickStep;\n    const tickCountMin = Math.floor( ( axisMax - axisMin ) / tickStep );\n    const tickCountCurrent = ( tickFirst > axisMax ? 0 : 1 + Math.floor( ( axisMax - tickFirst ) / tickStep ) );\n    return {\n        first: tickFirst,\n        step: tickStep,\n        countMin: tickCountMin,\n        countCurrent: tickCountCurrent\n    };\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { appendChild, dispose, Disposer, FireableListenable, Interval1D, Interval2D, isDefined, linkListenables, ListenableBasic, newImmutableList, newImmutableMap, Nullable, RefBasic, tripleEquals } from '@metsci/gleam-util';\nimport { Context, DragHandler, HoverHandler, InputHandler, KeyHandler, Painter, Pane, PaneKeyEvent, PaneMouseEvent, WheelHandler } from '../core';\nimport { VerticalScrollerLayout } from '../layouts/scrollerLayout';\nimport { FillPainter } from '../painters/fillPainter';\nimport { createDomPeer, cssColor, glViewport, PeerType, StyleProp } from '../support';\nimport { frozenSupplier } from '../util';\n\nexport class VerticalScrollbar {\n    readonly scrollerLayout: VerticalScrollerLayout;\n    readonly painter: VerticalScrollbarPainter;\n    readonly repaint: FireableListenable;\n    readonly pane: Pane;\n\n    constructor( scrollerLayout: VerticalScrollerLayout ) {\n        this.scrollerLayout = scrollerLayout;\n        this.painter = new VerticalScrollbarPainter( this.scrollerLayout );\n        this.repaint = new ListenableBasic( );\n\n        this.pane = new Pane( );\n        this.pane.addCssClass( 'scrollbar' );\n        this.pane.addPainter( this.painter );\n\n        attachVerticalScrollbarInputHandler( this.pane, this.scrollerLayout, this.repaint );\n    }\n\n    attachToRepaint( repaint: FireableListenable ): Disposer {\n        return linkListenables( this.repaint, repaint );\n    }\n}\n\n/**\n * Intended for the scrollable content pane. Includes scrolling\n * wheel/key handlers, but not hover/drag handlers.\n */\nexport function attachVerticalScrollableInputHandler( scrollablePane: Pane, scrollerLayout: VerticalScrollerLayout, repaint: FireableListenable ): Disposer {\n    return scrollablePane.addInputHandler( createVerticalScrollableInputHandler( scrollablePane, scrollerLayout, repaint ) );\n}\n\n/**\n * Intended for the scrollable content pane. Includes scrolling\n * wheel/key handlers, but not hover/drag handlers.\n */\nexport function createVerticalScrollableInputHandler( scrollablePane: Pane, scrollerLayout: VerticalScrollerLayout, repaint: FireableListenable ): InputHandler {\n    return {\n        getWheelHandler( ): Nullable<WheelHandler> {\n            return createWheelHandler( scrollablePane, scrollerLayout, repaint );\n        },\n        getKeyHandler( ): Nullable<KeyHandler> {\n            return createKeyHandler( scrollablePane, scrollerLayout, repaint );\n        },\n    };\n}\n\n/**\n * Intended for the scrollbar pane. Includes scrolling\n * hover/drag/wheel/key handlers.\n */\nexport function attachVerticalScrollbarInputHandler( scrollbarPane: Pane, scrollerLayout: VerticalScrollerLayout, repaint: FireableListenable ): Disposer {\n    return scrollbarPane.addInputHandler( createVerticalScrollbarInputHandler( scrollbarPane, scrollerLayout, repaint ) );\n}\n\n/**\n * Intended for the scrollbar pane. Includes scrolling\n * hover/drag/wheel/key handlers.\n */\nexport function createVerticalScrollbarInputHandler( scrollbarPane: Pane, scrollerLayout: VerticalScrollerLayout, repaint: FireableListenable ): InputHandler {\n    return {\n        getHoverHandler( ): Nullable<HoverHandler> {\n            return createHoverHandler( scrollbarPane );\n        },\n        getDragHandler( evGrab: PaneMouseEvent ): Nullable<DragHandler> {\n            if ( evGrab.button === 0 ) {\n                return createDragHandler( scrollbarPane, scrollerLayout, repaint, evGrab );\n            }\n            else {\n                return null;\n            }\n        },\n        getWheelHandler( ): Nullable<WheelHandler> {\n            return createWheelHandler( scrollbarPane, scrollerLayout, repaint );\n        },\n        getKeyHandler( ): Nullable<KeyHandler> {\n            return createKeyHandler( scrollbarPane, scrollerLayout, repaint );\n        },\n    };\n}\n\nfunction createHoverHandler( scrollbarPane: Pane ): HoverHandler {\n    return {\n        target: scrollbarPane,\n        getMouseCursorClasses: frozenSupplier( [ 'y-scroller' ] ),\n    };\n}\n\nfunction createDragHandler( scrollbarPane: Pane, scrollerLayout: VerticalScrollerLayout, repaint: FireableListenable, evGrab: PaneMouseEvent ): DragHandler {\n    // If mouse is outside the thumb, grab the center of the thumb ... which\n    // will warp the thumb so that it's centered on the mouse-press position\n    const grab_PX = evGrab.loc_PX.y;\n    const thumbBounds_PX = getVerticalScrollbarThumbBounds_PX( scrollerLayout, scrollbarPane.getViewport_PX( ).y );\n    const grabThumbFrac = ( thumbBounds_PX.containsPoint( grab_PX ) ? thumbBounds_PX.valueToFrac( grab_PX ) : 0.5 );\n\n    let mouse_PX = evGrab.loc_PX.y;\n    let repaintListenerDisposer = null as Nullable<Disposer>;\n    return {\n        target: newImmutableList( [ 'Scrollbar', scrollbarPane ] ),\n        getMouseCursorClasses: frozenSupplier( [ 'y-scroller' ] ),\n        handleGrab( ): void {\n            // Scroll on every repaint between press and release, so we get a\n            // chance to adjust the scroll position if content height changes\n            repaintListenerDisposer = repaint.addListener( ( ) => {\n                const thumbBounds_PX = getVerticalScrollbarThumbBounds_PX( scrollerLayout, scrollbarPane.getViewport_PX( ).y );\n                const thumbTop_PX = mouse_PX + ( 1.0 - grabThumbFrac )*thumbBounds_PX.span;\n                const thumbTop_FRAC = scrollbarPane.getViewport_PX( ).y.valueToFrac( thumbTop_PX );\n                const { hContent_PX } = scrollerLayout;\n                scrollerLayout.yOffset_PX = hContent_PX - ( thumbTop_FRAC * hContent_PX );\n            } );\n\n            // Update mouse loc, then trigger the repaint listener\n            mouse_PX = evGrab.loc_PX.y;\n            repaint.fire( );\n        },\n        handleDrag( evDrag: PaneMouseEvent ): void {\n            // Update mouse loc, then trigger the repaint listener\n            mouse_PX = evDrag.loc_PX.y;\n            repaint.fire( );\n        },\n        handleUngrab( ): void {\n            // Don't scroll on release, because doing so feels unpleasant when\n            // we get a simple click (no dragging between press and release),\n            // and content height changes between the press and the release\n\n            // Stop adjusting the scroll position on every repaint\n            if ( repaintListenerDisposer ) {\n                dispose( repaintListenerDisposer );\n            }\n        },\n    };\n}\n\n// TODO: Accept this as an optional arg\nconst scrollStepSize_LPX = 40;\n\nconst scrollStepsByKey = newImmutableMap( [\n    [ 'ArrowUp',   -1 ],\n    [ 'ArrowDown', +1 ],\n    [ 'PageUp',   -11 ],\n    [ 'PageDown', +11 ],\n] );\n\nfunction createKeyHandler( keyPane: Pane, scrollerLayout: VerticalScrollerLayout, repaint: FireableListenable ): KeyHandler {\n    return {\n        target: newImmutableList( [ 'Scrollbar', keyPane ] ),\n        handleKeyPress( evPress: PaneKeyEvent ): void {\n            const steps = scrollStepsByKey.get( evPress.key );\n            if ( isDefined( steps ) ) {\n                scrollerLayout.yOffset_PX += steps * scrollStepSize_LPX * evPress.dpr;\n                repaint.fire( );\n            }\n        },\n    };\n}\n\nfunction createWheelHandler( wheelPane: Pane, scrollerLayout: VerticalScrollerLayout, repaint: FireableListenable ): WheelHandler {\n    return {\n        target: newImmutableList( [ 'Scrollbar', wheelPane ] ),\n        handleWheel( evWheel: PaneMouseEvent ): void {\n            scrollerLayout.yOffset_PX += evWheel.wheelSteps * scrollStepSize_LPX * evWheel.dpr;\n            repaint.fire( );\n        },\n    };\n}\n\n/**\n * The \"thumb\" is the draggable part of the scrollbar.\n */\nexport function getVerticalScrollbarThumbBounds_PX( scrollerLayout: VerticalScrollerLayout, scrollbarViewport_PX: Interval1D ): Interval1D {\n    const { yOffset_PX, hContent_PX, hVisible_PX } = scrollerLayout;\n    const thumbBottom_FRAC = ( hContent_PX - ( yOffset_PX + hVisible_PX ) ) / hContent_PX;\n    const thumbTop_FRAC = ( hContent_PX - yOffset_PX ) / hContent_PX;\n    const yMin_PX = scrollbarViewport_PX.fracToValue( thumbBottom_FRAC );\n    const yMax_PX = scrollbarViewport_PX.fracToValue( thumbTop_FRAC );\n    return Interval1D.fromEdges( yMin_PX, yMax_PX );\n}\n\nexport class VerticalScrollbarPainter implements Painter {\n    readonly peer = createDomPeer( 'scrollbar-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly trackColor = StyleProp.create( this.style, '--track-color', cssColor, 'rgb( 212,212,212 )' );\n    readonly thumbColor = StyleProp.create( this.style, '--thumb-color', cssColor, 'rgb( 165,165,165 )' );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    protected readonly scrollerLayout: VerticalScrollerLayout;\n    protected readonly trackPainter: FillPainter;\n    protected readonly thumbPainter: FillPainter;\n\n    constructor( scrollerLayout: VerticalScrollerLayout ) {\n        this.scrollerLayout = scrollerLayout;\n\n        this.trackPainter = new FillPainter( );\n        this.trackPainter.color.getOverride = ( ) => this.trackColor.get( );\n        appendChild( this.peer, this.trackPainter.peer );\n\n        this.thumbPainter = new FillPainter( );\n        this.thumbPainter.color.getOverride = ( ) => this.thumbColor.get( );\n        appendChild( this.peer, this.thumbPainter.peer );\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        const gl = context.gl;\n        try {\n            this.trackPainter.paint( context, viewport_PX );\n\n            const thumbBounds_PX = getVerticalScrollbarThumbBounds_PX( this.scrollerLayout, viewport_PX.y );\n            const thumbViewport_PX = viewport_PX.withYEdges( Math.round( thumbBounds_PX.min ), Math.round( thumbBounds_PX.max ) );\n            glViewport( gl, thumbViewport_PX );\n            this.thumbPainter.paint( context, thumbViewport_PX );\n        }\n        finally {\n            glViewport( gl, viewport_PX );\n        }\n    }\n\n    dispose( context: Context ): void {\n        this.trackPainter.dispose( context );\n        this.thumbPainter.dispose( context );\n    }\n}\n","/*\n\n Copyright 2000, Silicon Graphics, Inc. All Rights Reserved.\n Copyright 2015, Google Inc. All Rights Reserved.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to\n deal in the Software without restriction, including without limitation the\n rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n sell copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice including the dates of first publication and\n either this permission notice or a reference to http://oss.sgi.com/projects/FreeB/\n shall be included in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n SILICON GRAPHICS, INC. BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR\n IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n Original Code. The Original Code is: OpenGL Sample Implementation,\n Version 1.2.1, released January 26, 2000, developed by Silicon Graphics,\n Inc. The Original Code is Copyright (c) 1991-2000 Silicon Graphics, Inc.\n Copyright in any portions created by third parties is as indicated\n elsewhere herein. All Rights Reserved.\n*/\n'use strict';var n;function t(a,b){return a.b===b.b&&a.a===b.a}function u(a,b){return a.b<b.b||a.b===b.b&&a.a<=b.a}function v(a,b,c){var d=b.b-a.b,e=c.b-b.b;return 0<d+e?d<e?b.a-a.a+d/(d+e)*(a.a-c.a):b.a-c.a+e/(d+e)*(c.a-a.a):0}function x(a,b,c){var d=b.b-a.b,e=c.b-b.b;return 0<d+e?(b.a-c.a)*d+(b.a-a.a)*e:0}function z(a,b){return a.a<b.a||a.a===b.a&&a.b<=b.b}function aa(a,b,c){var d=b.a-a.a,e=c.a-b.a;return 0<d+e?d<e?b.b-a.b+d/(d+e)*(a.b-c.b):b.b-c.b+e/(d+e)*(c.b-a.b):0}\nfunction ba(a,b,c){var d=b.a-a.a,e=c.a-b.a;return 0<d+e?(b.b-c.b)*d+(b.b-a.b)*e:0}function ca(a){return u(a.b.a,a.a)}function da(a){return u(a.a,a.b.a)}function A(a,b,c,d){a=0>a?0:a;c=0>c?0:c;return a<=c?0===c?(b+d)/2:b+a/(a+c)*(d-b):d+c/(a+c)*(b-d)};function ea(a){var b=B(a.b);C(b,a.c);C(b.b,a.c);D(b,a.a);return b}function E(a,b){var c=!1,d=!1;a!==b&&(b.a!==a.a&&(d=!0,F(b.a,a.a)),b.d!==a.d&&(c=!0,G(b.d,a.d)),H(b,a),d||(C(b,a.a),a.a.c=a),c||(D(b,a.d),a.d.a=a))}function I(a){var b=a.b,c=!1;a.d!==a.b.d&&(c=!0,G(a.d,a.b.d));a.c===a?F(a.a,null):(a.b.d.a=J(a),a.a.c=a.c,H(a,J(a)),c||D(a,a.d));b.c===b?(F(b.a,null),G(b.d,null)):(a.d.a=J(b),b.a.c=b.c,H(b,J(b)));fa(a)}\nfunction K(a){var b=B(a),c=b.b;H(b,a.e);b.a=a.b.a;C(c,b.a);b.d=c.d=a.d;b=b.b;H(a.b,J(a.b));H(a.b,b);a.b.a=b.a;b.b.a.c=b.b;b.b.d=a.b.d;b.f=a.f;b.b.f=a.b.f;return b}function L(a,b){var c=!1,d=B(a),e=d.b;b.d!==a.d&&(c=!0,G(b.d,a.d));H(d,a.e);H(e,b);d.a=a.b.a;e.a=b.a;d.d=e.d=a.d;a.d.a=e;c||D(d,a.d);return d}function B(a){var b=new M,c=new M,d=a.b.h;c.h=d;d.b.h=b;b.h=a;a.b.h=c;b.b=c;b.c=b;b.e=c;c.b=b;c.c=c;return c.e=b}function H(a,b){var c=a.c,d=b.c;c.b.e=b;d.b.e=a;a.c=d;b.c=c}\nfunction C(a,b){var c=b.f,d=new N(b,c);c.e=d;b.f=d;c=d.c=a;do c.a=d,c=c.c;while(c!==a)}function D(a,b){var c=b.d,d=new ga(b,c);c.b=d;b.d=d;d.a=a;d.c=b.c;c=a;do c.d=d,c=c.e;while(c!==a)}function fa(a){var b=a.h;a=a.b.h;b.b.h=a;a.b.h=b}function F(a,b){var c=a.c,d=c;do d.a=b,d=d.c;while(d!==c);c=a.f;d=a.e;d.f=c;c.e=d}function G(a,b){var c=a.a,d=c;do d.d=b,d=d.e;while(d!==c);c=a.d;d=a.b;d.d=c;c.b=d};function ha(a){var b=0;Math.abs(a[1])>Math.abs(a[0])&&(b=1);Math.abs(a[2])>Math.abs(a[b])&&(b=2);return b};var O=4*1E150;function P(a,b){a.f+=b.f;a.b.f+=b.b.f}function ia(a,b,c){a=a.a;b=b.a;c=c.a;if(b.b.a===a)return c.b.a===a?u(b.a,c.a)?0>=x(c.b.a,b.a,c.a):0<=x(b.b.a,c.a,b.a):0>=x(c.b.a,a,c.a);if(c.b.a===a)return 0<=x(b.b.a,a,b.a);b=v(b.b.a,a,b.a);a=v(c.b.a,a,c.a);return b>=a}function Q(a){a.a.i=null;var b=a.e;b.a.c=b.c;b.c.a=b.a;a.e=null}function ja(a,b){I(a.a);a.c=!1;a.a=b;b.i=a}function ka(a){var b=a.a.a;do a=R(a);while(a.a.a===b);a.c&&(b=L(S(a).a.b,a.a.e),ja(a,b),a=R(a));return a}\nfunction la(a,b,c){var d=new ma;d.a=c;d.e=na(a.f,b.e,d);return c.i=d}function oa(a,b){switch(a.s){case 100130:return 0!==(b&1);case 100131:return 0!==b;case 100132:return 0<b;case 100133:return 0>b;case 100134:return 2<=b||-2>=b}return!1}function pa(a){var b=a.a,c=b.d;c.c=a.d;c.a=b;Q(a)}function T(a,b,c){a=b;for(b=b.a;a!==c;){a.c=!1;var d=S(a),e=d.a;if(e.a!==b.a){if(!d.c){pa(a);break}e=L(b.c.b,e.b);ja(d,e)}b.c!==e&&(E(J(e),e),E(b,e));pa(a);b=d.a;a=d}return b}\nfunction U(a,b,c,d,e,f){var g=!0;do la(a,b,c.b),c=c.c;while(c!==d);for(null===e&&(e=S(b).a.b.c);;){d=S(b);c=d.a.b;if(c.a!==e.a)break;c.c!==e&&(E(J(c),c),E(J(e),c));d.f=b.f-c.f;d.d=oa(a,d.f);b.b=!0;!g&&qa(a,b)&&(P(c,e),Q(b),I(e));g=!1;b=d;e=c}b.b=!0;f&&ra(a,b)}function sa(a,b,c,d,e){var f=[b.g[0],b.g[1],b.g[2]];b.d=null;b.d=a.o?a.o(f,c,d,a.c)||null:null;null===b.d&&(e?a.n||(V(a,100156),a.n=!0):b.d=c[0])}\nfunction ta(a,b,c){var d=[null,null,null,null];d[0]=b.a.d;d[1]=c.a.d;sa(a,b.a,d,[.5,.5,0,0],!1);E(b,c)}function ua(a,b,c,d,e){var f=Math.abs(b.b-a.b)+Math.abs(b.a-a.a),g=Math.abs(c.b-a.b)+Math.abs(c.a-a.a),h=e+1;d[e]=.5*g/(f+g);d[h]=.5*f/(f+g);a.g[0]+=d[e]*b.g[0]+d[h]*c.g[0];a.g[1]+=d[e]*b.g[1]+d[h]*c.g[1];a.g[2]+=d[e]*b.g[2]+d[h]*c.g[2]}\nfunction qa(a,b){var c=S(b),d=b.a,e=c.a;if(u(d.a,e.a)){if(0<x(e.b.a,d.a,e.a))return!1;if(!t(d.a,e.a))K(e.b),E(d,J(e)),b.b=c.b=!0;else if(d.a!==e.a){var c=a.e,f=d.a.h;if(0<=f){var c=c.b,g=c.d,h=c.e,k=c.c,l=k[f];g[l]=g[c.a];k[g[l]]=l;l<=--c.a&&(1>=l?W(c,l):u(h[g[l>>1]],h[g[l]])?W(c,l):va(c,l));h[f]=null;k[f]=c.b;c.b=f}else for(c.c[-(f+1)]=null;0<c.a&&null===c.c[c.d[c.a-1]];)--c.a;ta(a,J(e),d)}}else{if(0>x(d.b.a,e.a,d.a))return!1;R(b).b=b.b=!0;K(d.b);E(J(e),d)}return!0}\nfunction wa(a,b){var c=S(b),d=b.a,e=c.a,f=d.a,g=e.a,h=d.b.a,k=e.b.a,l=new N;x(h,a.a,f);x(k,a.a,g);if(f===g||Math.min(f.a,h.a)>Math.max(g.a,k.a))return!1;if(u(f,g)){if(0<x(k,f,g))return!1}else if(0>x(h,g,f))return!1;var r=h,p=f,q=k,y=g,m,w;u(r,p)||(m=r,r=p,p=m);u(q,y)||(m=q,q=y,y=m);u(r,q)||(m=r,r=q,q=m,m=p,p=y,y=m);u(q,p)?u(p,y)?(m=v(r,q,p),w=v(q,p,y),0>m+w&&(m=-m,w=-w),l.b=A(m,q.b,w,p.b)):(m=x(r,q,p),w=-x(r,y,p),0>m+w&&(m=-m,w=-w),l.b=A(m,q.b,w,y.b)):l.b=(q.b+p.b)/2;z(r,p)||(m=r,r=p,p=m);z(q,y)||\n(m=q,q=y,y=m);z(r,q)||(m=r,r=q,q=m,m=p,p=y,y=m);z(q,p)?z(p,y)?(m=aa(r,q,p),w=aa(q,p,y),0>m+w&&(m=-m,w=-w),l.a=A(m,q.a,w,p.a)):(m=ba(r,q,p),w=-ba(r,y,p),0>m+w&&(m=-m,w=-w),l.a=A(m,q.a,w,y.a)):l.a=(q.a+p.a)/2;u(l,a.a)&&(l.b=a.a.b,l.a=a.a.a);r=u(f,g)?f:g;u(r,l)&&(l.b=r.b,l.a=r.a);if(t(l,f)||t(l,g))return qa(a,b),!1;if(!t(h,a.a)&&0<=x(h,a.a,l)||!t(k,a.a)&&0>=x(k,a.a,l)){if(k===a.a)return K(d.b),E(e.b,d),b=ka(b),d=S(b).a,T(a,S(b),c),U(a,b,J(d),d,d,!0),!0;if(h===a.a){K(e.b);E(d.e,J(e));f=c=b;g=f.a.b.a;\ndo f=R(f);while(f.a.b.a===g);b=f;f=S(b).a.b.c;c.a=J(e);e=T(a,c,null);U(a,b,e.c,d.b.c,f,!0);return!0}0<=x(h,a.a,l)&&(R(b).b=b.b=!0,K(d.b),d.a.b=a.a.b,d.a.a=a.a.a);0>=x(k,a.a,l)&&(b.b=c.b=!0,K(e.b),e.a.b=a.a.b,e.a.a=a.a.a);return!1}K(d.b);K(e.b);E(J(e),d);d.a.b=l.b;d.a.a=l.a;d.a.h=xa(a.e,d.a);d=d.a;e=[0,0,0,0];l=[f.d,h.d,g.d,k.d];d.g[0]=d.g[1]=d.g[2]=0;ua(d,f,h,e,0);ua(d,g,k,e,2);sa(a,d,l,e,!0);R(b).b=b.b=c.b=!0;return!1}\nfunction ra(a,b){for(var c=S(b);;){for(;c.b;)b=c,c=S(c);if(!b.b&&(c=b,b=R(b),null===b||!b.b))break;b.b=!1;var d=b.a,e=c.a,f;if(f=d.b.a!==e.b.a)a:{f=b;var g=S(f),h=f.a,k=g.a,l=void 0;if(u(h.b.a,k.b.a)){if(0>x(h.b.a,k.b.a,h.a)){f=!1;break a}R(f).b=f.b=!0;l=K(h);E(k.b,l);l.d.c=f.d}else{if(0<x(k.b.a,h.b.a,k.a)){f=!1;break a}f.b=g.b=!0;l=K(k);E(h.e,k.b);l.b.d.c=f.d}f=!0}f&&(c.c?(Q(c),I(e),c=S(b),e=c.a):b.c&&(Q(b),I(d),b=R(c),d=b.a));if(d.a!==e.a)if(d.b.a===e.b.a||b.c||c.c||d.b.a!==a.a&&e.b.a!==a.a)qa(a,\nb);else if(wa(a,b))break;d.a===e.a&&d.b.a===e.b.a&&(P(e,d),Q(b),I(d),b=R(c))}}\nfunction ya(a,b){a.a=b;for(var c=b.c;null===c.i;)if(c=c.c,c===b.c){var c=a,d=b,e=new ma;e.a=d.c.b;var f=c.f,g=f.a;do g=g.a;while(null!==g.b&&!f.c(f.b,e,g.b));var f=g.b,h=S(f),e=f.a,g=h.a;if(0===x(e.b.a,d,e.a))e=f.a,t(e.a,d)||t(e.b.a,d)||(K(e.b),f.c&&(I(e.c),f.c=!1),E(d.c,e),ya(c,d));else{var k=u(g.b.a,e.b.a)?f:h,h=void 0;f.d||k.c?(k===f?h=L(d.c.b,e.e):h=L(g.b.c.b,d.c).b,k.c?ja(k,h):(e=c,f=la(c,f,h),f.f=R(f).f+f.a.f,f.d=oa(e,f.f)),ya(c,d)):U(c,f,d.c,d.c,null,!0)}return}c=ka(c.i);e=S(c);f=e.a;e=T(a,\ne,null);if(e.c===f){var f=e,e=f.c,g=S(c),h=c.a,k=g.a,l=!1;h.b.a!==k.b.a&&wa(a,c);t(h.a,a.a)&&(E(J(e),h),c=ka(c),e=S(c).a,T(a,S(c),g),l=!0);t(k.a,a.a)&&(E(f,J(k)),f=T(a,g,null),l=!0);l?U(a,c,f.c,e,e,!0):(u(k.a,h.a)?d=J(k):d=h,d=L(f.c.b,d),U(a,c,d,d.c,d.c,!1),d.b.i.c=!0,ra(a,c))}else U(a,c,e.c,f,f,!0)}function za(a,b){var c=new ma,d=ea(a.b);d.a.b=O;d.a.a=b;d.b.a.b=-O;d.b.a.a=b;a.a=d.b.a;c.a=d;c.f=0;c.d=!1;c.c=!1;c.h=!0;c.b=!1;d=a.f;d=na(d,d.a,c);c.e=d};function Aa(a){this.a=new Ba;this.b=a;this.c=ia}function na(a,b,c){do b=b.c;while(null!==b.b&&!a.c(a.b,b.b,c));a=new Ba(c,b.a,b);b.a.c=a;return b.a=a};function Ba(a,b,c){this.b=a||null;this.a=b||this;this.c=c||this};function X(){this.d=Y;this.p=this.b=this.q=null;this.j=[0,0,0];this.s=100130;this.n=!1;this.o=this.a=this.e=this.f=null;this.m=!1;this.c=this.r=this.i=this.k=this.l=this.h=null}var Y=0;n=X.prototype;n.x=function(){Z(this,Y)};n.B=function(a,b){switch(a){case 100142:return;case 100140:switch(b){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=b;return}break;case 100141:this.m=!!b;return;default:V(this,100900);return}V(this,100901)};\nn.y=function(a){switch(a){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:V(this,100900)}return!1};n.A=function(a,b,c){this.j[0]=a;this.j[1]=b;this.j[2]=c};\nn.z=function(a,b){var c=b?b:null;switch(a){case 100100:case 100106:this.h=c;break;case 100104:case 100110:this.l=c;break;case 100101:case 100107:this.k=c;break;case 100102:case 100108:this.i=c;break;case 100103:case 100109:this.p=c;break;case 100105:case 100111:this.o=c;break;case 100112:this.r=c;break;default:V(this,100900)}};\nn.C=function(a,b){var c=!1,d=[0,0,0];Z(this,2);for(var e=0;3>e;++e){var f=a[e];-1E150>f&&(f=-1E150,c=!0);1E150<f&&(f=1E150,c=!0);d[e]=f}c&&V(this,100155);c=this.q;null===c?(c=ea(this.b),E(c,c.b)):(K(c),c=c.e);c.a.d=b;c.a.g[0]=d[0];c.a.g[1]=d[1];c.a.g[2]=d[2];c.f=1;c.b.f=-1;this.q=c};n.u=function(a){Z(this,Y);this.d=1;this.b=new Ca;this.c=a};n.t=function(){Z(this,1);this.d=2;this.q=null};n.v=function(){Z(this,2);this.d=1};\nn.w=function(){Z(this,1);this.d=Y;var a=this.j[0],b=this.j[1],c=this.j[2],d=!1,e=[a,b,c];if(0===a&&0===b&&0===c){for(var b=[-2*1E150,-2*1E150,-2*1E150],f=[2*1E150,2*1E150,2*1E150],c=[],g=[],d=this.b.c,a=d.e;a!==d;a=a.e)for(var h=0;3>h;++h){var k=a.g[h];k<f[h]&&(f[h]=k,g[h]=a);k>b[h]&&(b[h]=k,c[h]=a)}a=0;b[1]-f[1]>b[0]-f[0]&&(a=1);b[2]-f[2]>b[a]-f[a]&&(a=2);if(f[a]>=b[a])e[0]=0,e[1]=0,e[2]=1;else{b=0;f=g[a];c=c[a];g=[0,0,0];f=[f.g[0]-c.g[0],f.g[1]-c.g[1],f.g[2]-c.g[2]];h=[0,0,0];for(a=d.e;a!==d;a=\na.e)h[0]=a.g[0]-c.g[0],h[1]=a.g[1]-c.g[1],h[2]=a.g[2]-c.g[2],g[0]=f[1]*h[2]-f[2]*h[1],g[1]=f[2]*h[0]-f[0]*h[2],g[2]=f[0]*h[1]-f[1]*h[0],k=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],k>b&&(b=k,e[0]=g[0],e[1]=g[1],e[2]=g[2]);0>=b&&(e[0]=e[1]=e[2]=0,e[ha(f)]=1)}d=!0}g=ha(e);a=this.b.c;b=(g+1)%3;c=(g+2)%3;g=0<e[g]?1:-1;for(e=a.e;e!==a;e=e.e)e.b=e.g[b],e.a=g*e.g[c];if(d){e=0;d=this.b.a;for(a=d.b;a!==d;a=a.b)if(b=a.a,!(0>=b.f)){do e+=(b.a.b-b.b.a.b)*(b.a.a+b.b.a.a),b=b.e;while(b!==a.a)}if(0>e)for(e=this.b.c,d=e.e;d!==\ne;d=d.e)d.a=-d.a}this.n=!1;e=this.b.b;for(a=e.h;a!==e;a=d)if(d=a.h,b=a.e,t(a.a,a.b.a)&&a.e.e!==a&&(ta(this,b,a),I(a),a=b,b=a.e),b.e===a){if(b!==a){if(b===d||b===d.b)d=d.h;I(b)}if(a===d||a===d.b)d=d.h;I(a)}this.e=e=new Da;d=this.b.c;for(a=d.e;a!==d;a=a.e)a.h=xa(e,a);Ea(e);this.f=new Aa(this);za(this,-O);for(za(this,O);null!==(e=Fa(this.e));){for(;;){a:if(a=this.e,0===a.a)d=Ga(a.b);else if(d=a.c[a.d[a.a-1]],0!==a.b.a&&(a=Ga(a.b),u(a,d))){d=a;break a}if(null===d||!t(d,e))break;d=Fa(this.e);ta(this,e.c,\nd.c)}ya(this,e)}this.a=this.f.a.a.b.a.a;for(e=0;null!==(d=this.f.a.a.b);)d.h||++e,Q(d);this.f=null;e=this.e;e.b=null;e.d=null;this.e=e.c=null;e=this.b;for(a=e.a.b;a!==e.a;a=d)d=a.b,a=a.a,a.e.e===a&&(P(a.c,a),I(a));if(!this.n){e=this.b;if(this.m)for(a=e.b.h;a!==e.b;a=d)d=a.h,a.b.d.c!==a.d.c?a.f=a.d.c?1:-1:I(a);else for(a=e.a.b;a!==e.a;a=d)if(d=a.b,a.c){for(a=a.a;u(a.b.a,a.a);a=a.c.b);for(;u(a.a,a.b.a);a=a.e);b=a.c.b;for(c=void 0;a.e!==b;)if(u(a.b.a,b.a)){for(;b.e!==a&&(ca(b.e)||0>=x(b.a,b.b.a,b.e.b.a));)c=\nL(b.e,b),b=c.b;b=b.c.b}else{for(;b.e!==a&&(da(a.c.b)||0<=x(a.b.a,a.a,a.c.b.a));)c=L(a,a.c.b),a=c.b;a=a.e}for(;b.e.e!==a;)c=L(b.e,b),b=c.b}if(this.h||this.i||this.k||this.l)if(this.m)for(e=this.b,d=e.a.b;d!==e.a;d=d.b){if(d.c){this.h&&this.h(2,this.c);a=d.a;do this.k&&this.k(a.a.d,this.c),a=a.e;while(a!==d.a);this.i&&this.i(this.c)}}else{e=this.b;d=!!this.l;a=!1;b=-1;for(c=e.a.d;c!==e.a;c=c.d)if(c.c){a||(this.h&&this.h(4,this.c),a=!0);g=c.a;do d&&(f=g.b.d.c?0:1,b!==f&&(b=f,this.l&&this.l(!!b,this.c))),\nthis.k&&this.k(g.a.d,this.c),g=g.e;while(g!==c.a)}a&&this.i&&this.i(this.c)}if(this.r){e=this.b;for(a=e.a.b;a!==e.a;a=d)if(d=a.b,!a.c){b=a.a;c=b.e;g=void 0;do g=c,c=g.e,g.d=null,null===g.b.d&&(g.c===g?F(g.a,null):(g.a.c=g.c,H(g,J(g))),f=g.b,f.c===f?F(f.a,null):(f.a.c=f.c,H(f,J(f))),fa(g));while(g!==b);b=a.d;a=a.b;a.d=b;b.b=a}this.r(this.b);this.c=this.b=null;return}}this.b=this.c=null};\nfunction Z(a,b){if(a.d!==b)for(;a.d!==b;)if(a.d<b)switch(a.d){case Y:V(a,100151);a.u(null);break;case 1:V(a,100152),a.t()}else switch(a.d){case 2:V(a,100154);a.v();break;case 1:V(a,100153),a.w()}}function V(a,b){a.p&&a.p(b,a.c)};function ga(a,b){this.b=a||this;this.d=b||this;this.a=null;this.c=!1};function M(){this.h=this;this.i=this.d=this.a=this.e=this.c=this.b=null;this.f=0}function J(a){return a.b.e};function Ca(){this.c=new N;this.a=new ga;this.b=new M;this.d=new M;this.b.b=this.d;this.d.b=this.b};function N(a,b){this.e=a||this;this.f=b||this;this.d=this.c=null;this.g=[0,0,0];this.h=this.a=this.b=0};function Da(){this.c=[];this.d=null;this.a=0;this.e=!1;this.b=new Ha}function Ea(a){a.d=[];for(var b=0;b<a.a;b++)a.d[b]=b;a.d.sort(function(a){return function(b,e){return u(a[b],a[e])?1:-1}}(a.c));a.e=!0;Ia(a.b)}function xa(a,b){if(a.e){var c=a.b,d=++c.a;2*d>c.f&&(c.f*=2,c.c=Ja(c.c,c.f+1));var e;0===c.b?e=d:(e=c.b,c.b=c.c[c.b]);c.e[e]=b;c.c[e]=d;c.d[d]=e;c.h&&va(c,d);return e}c=a.a++;a.c[c]=b;return-(c+1)}\nfunction Fa(a){if(0===a.a)return Ka(a.b);var b=a.c[a.d[a.a-1]];if(0!==a.b.a&&u(Ga(a.b),b))return Ka(a.b);do--a.a;while(0<a.a&&null===a.c[a.d[a.a-1]]);return b};function Ha(){this.d=Ja([0],33);this.e=[null,null];this.c=[0,0];this.a=0;this.f=32;this.b=0;this.h=!1;this.d[1]=1}function Ja(a,b){for(var c=Array(b),d=0;d<a.length;d++)c[d]=a[d];for(;d<b;d++)c[d]=0;return c}function Ia(a){for(var b=a.a;1<=b;--b)W(a,b);a.h=!0}function Ga(a){return a.e[a.d[1]]}function Ka(a){var b=a.d,c=a.e,d=a.c,e=b[1],f=c[e];0<a.a&&(b[1]=b[a.a],d[b[1]]=1,c[e]=null,d[e]=a.b,a.b=e,0<--a.a&&W(a,1));return f}\nfunction W(a,b){for(var c=a.d,d=a.e,e=a.c,f=b,g=c[f];;){var h=f<<1;h<a.a&&u(d[c[h+1]],d[c[h]])&&(h+=1);var k=c[h];if(h>a.a||u(d[g],d[k])){c[f]=g;e[g]=f;break}c[f]=k;e[k]=f;f=h}}function va(a,b){for(var c=a.d,d=a.e,e=a.c,f=b,g=c[f];;){var h=f>>1,k=c[h];if(0===h||u(d[k],d[g])){c[f]=g;e[g]=f;break}c[f]=k;e[k]=f;f=h}};function ma(){this.e=this.a=null;this.f=0;this.c=this.b=this.h=this.d=!1}function S(a){return a.e.c.b}function R(a){return a.e.a.b};this.libtess={GluTesselator:X,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},\ngluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}};X.prototype.gluDeleteTess=X.prototype.x;\nX.prototype.gluTessProperty=X.prototype.B;X.prototype.gluGetTessProperty=X.prototype.y;X.prototype.gluTessNormal=X.prototype.A;X.prototype.gluTessCallback=X.prototype.z;X.prototype.gluTessVertex=X.prototype.C;X.prototype.gluTessBeginPolygon=X.prototype.u;X.prototype.gluTessBeginContour=X.prototype.t;X.prototype.gluTessEndContour=X.prototype.v;X.prototype.gluTessEndPolygon=X.prototype.w; if (typeof module !== 'undefined') { module.exports = this.libtess; }\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { appendCssLink, createCssLink } from '@metsci/gleam-util';\n\nconst cssUrl = new URL( './defaults.css', import.meta.url );\nconst cssLink = createCssLink( cssUrl );\nexport function createGleamGeoJsonDefaultStyle( ): HTMLLinkElement {\n    return <HTMLLinkElement>cssLink.cloneNode( true );\n}\n\nconst defaultStyle = appendCssLink( document.head, createGleamGeoJsonDefaultStyle( ) );\nexport const gleamGeoJsonDefaultStyleLoading = defaultStyle.loading;\nexport function removeGleamGeoJsonDefaultStyle( ): void {\n    defaultStyle.loading.catch( e => {\n        if ( e.reason === 'DISPOSED' ) {\n            // The dispose call below is expected to trigger this\n        }\n        else {\n            throw e;\n        }\n    } );\n    defaultStyle.disposers.dispose( );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { arraySortStable, clamp, createChainedComparator, DEG_TO_RAD, LatLon, LatLonInterpolator, LatLonInterpolatorDescriptor, latLonToXy, mapSetIfAbsent, NOOP, NormalCylindricalProjection, NormalCylindricalProjectionDescriptor, projectLatLonSegment, sphereSurfaceRingContains, toUnitSphereXyz, WGS84_EQUATORIAL_CIRCUMFERENCE_METERS, wrapNear } from '@metsci/gleam-util';\nimport { Geometry, Position } from 'geojson';\nimport libtess from 'libtess';\n\nconst { abs, max, min, PI, ceil, fround, log2, trunc } = Math;\nconst { NEGATIVE_INFINITY, POSITIVE_INFINITY } = Number;\n\nexport interface WorkerCall {\n    callKey: unknown;\n    geometry: Geometry;\n    interpDesc: LatLonInterpolatorDescriptor;\n    projDesc: NormalCylindricalProjectionDescriptor;\n    perceptibleProjDist: number;\n}\n\nexport interface WorkerResult {\n    callKey: unknown;\n    preRenderables: Array<PreRenderable>;\n}\n\nexport type PreRenderable = MarkersPreRenderable | LinesPreRenderable | PolygonsPreRenderable;\n\nexport interface MarkersPreRenderable {\n    readonly type: 'MARKERS';\n    readonly scores: RenderableScores,\n    readonly pointsA3: Float32Array,\n    readonly pointsB2: Float32Array,\n}\n\nexport interface LinesPreRenderable {\n    readonly type: 'LINES';\n    readonly scores: RenderableScores,\n    readonly trianglesA3: Float32Array,\n    readonly trianglesB2: Float32Array,\n    readonly points3: Float32Array,\n}\n\nexport interface PolygonsPreRenderable {\n    readonly type: 'POLYGONS';\n    readonly scores: RenderableScores,\n    readonly fillTriangles3: Float32Array,\n    readonly strokeTrianglesA3: Float32Array,\n    readonly strokeTrianglesB2: Float32Array,\n    readonly strokePoints3: Float32Array,\n}\n\nexport interface RenderableScores {\n    latScore: number;\n    altitudeScore: number;\n    areaScore: number;\n}\n\nexport function createPreRenderables( geometry: Geometry, interp: LatLonInterpolator, proj: NormalCylindricalProjection, perceptibleProjDist: number ): Array<PreRenderable> {\n    const results = new Array<PreRenderable>( );\n    pushPreRenderables( geometry, interp, proj, perceptibleProjDist, results );\n    return results;\n}\n\nfunction pushPreRenderables(\n    geometry: Geometry,\n    interp: LatLonInterpolator,\n    proj: NormalCylindricalProjection,\n    perceptibleProjDist: number,\n    results_OUT: Array<PreRenderable>,\n): void {\n    const splitX = getSplitX( proj );\n    switch ( geometry.type ) {\n        case 'GeometryCollection': geometry.geometries.forEach( g => pushPreRenderables( g, interp, proj, perceptibleProjDist, results_OUT ) ); break;\n        case 'Point': results_OUT.push( createMarkersPreRenderable( [ geometry.coordinates ], proj, splitX ) ); break;\n        case 'MultiPoint': results_OUT.push( createMarkersPreRenderable( geometry.coordinates, proj, splitX ) ); break;\n        case 'LineString': results_OUT.push( createLinesPreRenderable( [ geometry.coordinates ], interp, proj, perceptibleProjDist, splitX ) ); break;\n        case 'MultiLineString': results_OUT.push( createLinesPreRenderable( geometry.coordinates, interp, proj, perceptibleProjDist, splitX ) ); break;\n        case 'Polygon': results_OUT.push( createPolygonsPreRenderable( [ geometry.coordinates ], interp, proj, perceptibleProjDist, splitX ) ); break;\n        case 'MultiPolygon': results_OUT.push( createPolygonsPreRenderable( geometry.coordinates, interp, proj, perceptibleProjDist, splitX ) ); break;\n    }\n}\n\nexport function getTransferables( preRenderables: Iterable<PreRenderable> ): Array<Transferable> {\n    const transfers = new Array<Transferable>( );\n    for ( const preRenderable of preRenderables ) {\n        switch ( preRenderable.type ) {\n            case 'MARKERS': transfers.push( preRenderable.pointsA3.buffer, preRenderable.pointsB2.buffer ); break;\n            case 'LINES': transfers.push( preRenderable.trianglesA3.buffer, preRenderable.trianglesB2.buffer, preRenderable.points3.buffer ); break;\n            case 'POLYGONS': transfers.push( preRenderable.fillTriangles3.buffer, preRenderable.strokeTrianglesA3.buffer, preRenderable.strokeTrianglesB2.buffer, preRenderable.strokePoints3.buffer ); break;\n        }\n    }\n    return transfers;\n}\n\nexport interface Splitter {\n    ( x: number ): [ a: number, b: number ];\n}\n\nconst cachedSplitters = new Map<number,Splitter>( );\nfunction getSplitX( { xSpan }: { xSpan: number } ): Splitter {\n    return mapSetIfAbsent( cachedSplitters, xSpan, ( ) => createXSplitter( xSpan ) );\n}\n\n/**\n * Creates a function that takes an X coord representing a projected longitude,\n * and splits the coord into two parts, each of which can be converted to a 32-\n * bit float, transferred to the graphics device, and used there for arithmetic\n * with 46-bit precision.\n *\n * The 46-bit split values will have a number of fractional bits chosen, based\n * on the value of `xWrapSpan`, to give millimeter precision or slightly better.\n *\n * See https://help.agi.com/AGIComponents/html/BlogPrecisionsPrecisions.htm.\n */\nexport function createXSplitter( xWrapSpan: number ): Splitter {\n    const xWrapSpan_MM = 1e3*WGS84_EQUATORIAL_CIRCUMFERENCE_METERS;\n    const numFractionBits = ceil( log2( xWrapSpan_MM / xWrapSpan ) );\n    const numWholeBits = 46 - numFractionBits;\n    const numWholeBitsInBottomWord = 23 - numFractionBits;\n    const xMaxSplittable = 2**numWholeBits;\n    const aShiftFactor = 2**-numWholeBitsInBottomWord;\n    const aUnshiftFactor = 2**numWholeBitsInBottomWord;\n    return x => {\n        if ( abs( x ) >= xMaxSplittable ) {\n            // Precision loss is better than weird behavior\n            return [ fround( x ), 0 ];\n        }\n        else {\n            const a = trunc( x * aShiftFactor ) * aUnshiftFactor;\n            const b = x - a;\n            return [ fround( a ), fround( b ) ];\n        }\n    };\n}\n\nfunction positionToLatLon( p: Position ): LatLon {\n    const [ lon_DEG, lat_DEG ] = p;\n    return {\n        lat_RAD: lat_DEG * DEG_TO_RAD,\n        lon_RAD: lon_DEG * DEG_TO_RAD,\n    };\n}\n\ntype Xy = [ x: number, y: number ];\ntype Xyz = [ x: number, y: number, z: number ];\ntype XyMaybeZ = [ x: number, y: number, z?: number ];\n\nfunction createMarkersPreRenderable(\n    multiPointCoordinates: Position[],\n    proj: NormalCylindricalProjection,\n    splitX: Splitter,\n): MarkersPreRenderable {\n    const xMeridian = proj.lonToX( 0 );\n    const xWrapSpan = proj.xSpan;\n\n    // Project, relativize to xMeridian, and wrap to [-180,+180)\n    const points = new Array<Xyz>( );\n    for ( const [ lon_DEG, lat_DEG, altitude_M ] of multiPointCoordinates ) {\n        const xRaw = proj.lonToX( lon_DEG * DEG_TO_RAD );\n        const x = wrapNear( xRaw, xMeridian, xWrapSpan );\n        const y = proj.latToY( lat_DEG * DEG_TO_RAD );\n        const z = altitude_M ?? 0;\n        points.push( [ x, y, z ] );\n    }\n\n    // Sort\n    const ALTITUDES_LOW_TO_HIGH = ( a: Xyz, b: Xyz ) => ( a[2] - b[2] );\n    const LATITUDES_NORTH_TO_SOUTH = ( a: Xyz, b: Xyz ) => ( b[1] - a[1] );\n    arraySortStable( points, createChainedComparator( [ ALTITUDES_LOW_TO_HIGH, LATITUDES_NORTH_TO_SOUTH ] ) );\n\n    // Create points buffer\n    let iA = 0;\n    let iB = 0;\n    const pointsA3 = new Float32Array( 6*3*points.length );\n    const pointsB2 = new Float32Array( 6*2*points.length );\n    for ( const [ x, y ] of points ) {\n        const [ xa, xb ] = splitX( x );\n\n        iA = put3f( pointsA3, iA, xa,xb,y );\n        iA = put3f( pointsA3, iA, xa,xb,y );\n        iA = put3f( pointsA3, iA, xa,xb,y );\n        iA = put3f( pointsA3, iA, xa,xb,y );\n        iA = put3f( pointsA3, iA, xa,xb,y );\n        iA = put3f( pointsA3, iA, xa,xb,y );\n\n        iB = put2f( pointsB2, iB, 0,1 );\n        iB = put2f( pointsB2, iB, 1,1 );\n        iB = put2f( pointsB2, iB, 0,0 );\n        iB = put2f( pointsB2, iB, 0,0 );\n        iB = put2f( pointsB2, iB, 1,1 );\n        iB = put2f( pointsB2, iB, 1,0 );\n    }\n\n    return {\n        type: 'MARKERS',\n        scores: computeRenderableScores( points ),\n        pointsA3,\n        pointsB2,\n    };\n}\n\nfunction put2f( array: Float32Array, i: number, a: number, b: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    return i;\n}\n\nfunction put3f( array: Float32Array, i: number, a: number, b: number, c: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    return i;\n}\n\nfunction createLinesPreRenderable(\n    multiLineCoordinates: Position[][],\n    interp: LatLonInterpolator,\n    proj: NormalCylindricalProjection,\n    perceptibleProjDist: number,\n    splitX: Splitter,\n): LinesPreRenderable {\n    const xMeridian = proj.lonToX( 0 );\n    const xWrapSpan = proj.xSpan;\n\n    // Project, wrapping so each line segment goes the short way around\n    const lines = new Array<Array<Xy>>( );\n    for ( const lineCoords of multiLineCoordinates ) {\n        const line = new Array<Xy>( );\n\n        // Project, resampling each segment according to the min perceptible distance\n        let llPrev: LatLon | undefined = undefined;\n        for ( const llCurr of lineCoords.map( positionToLatLon ) ) {\n            if ( llPrev ) {\n                const segment = projectLatLonSegment( llPrev, llCurr, interp, proj, perceptibleProjDist, false );\n                line.push( ...segment );\n            }\n            llPrev = llCurr;\n        }\n        if ( llPrev ) {\n            line.push( latLonToXy( proj, llPrev ) );\n        }\n\n        // Modify IN PLACE, wrapping projected X coords so each step goes the short way around\n        let xPrev = xMeridian;\n        for ( const xyCurr of line ) {\n            xyCurr[0] = wrapNear( xyCurr[0], xPrev, xWrapSpan );\n            xPrev = xyCurr[0];\n        }\n\n        // Store projected line\n        if ( line.length > 0 ) {\n            lines.push( line );\n        }\n    }\n\n    // Create segments buffer\n    const trianglesA3 = new Array<number>( );\n    const trianglesB2 = new Array<number>( );\n    for ( const line of lines ) {\n        let xPrev = undefined as number | undefined;\n        let yPrev = undefined as number | undefined;\n        for ( const [ xCurr, yCurr ] of line ) {\n            if ( xPrev !== undefined && yPrev !== undefined ) {\n                const dxForward = xCurr - xPrev;\n                const dyForward = yCurr - yPrev;\n                if ( dxForward !== 0 || dyForward !== 0 ) {\n                    const [ xCurrA, xCurrB ] = splitX( xCurr );\n                    const [ xPrevA, xPrevB ] = splitX( xPrev );\n                    trianglesA3.push(\n                        xCurrA, xCurrB, yCurr,\n                        xPrevA, xPrevB, yPrev,\n                        xCurrA, xCurrB, yCurr,\n                        xCurrA, xCurrB, yCurr,\n                        xPrevA, xPrevB, yPrev,\n                        xPrevA, xPrevB, yPrev,\n                    );\n                    trianglesB2.push(\n                        -dxForward, -dyForward,\n                        -dxForward, -dyForward,\n                        +dxForward, +dyForward,\n                        +dxForward, +dyForward,\n                        -dxForward, -dyForward,\n                        +dxForward, +dyForward,\n                    );\n                }\n            }\n            xPrev = xCurr;\n            yPrev = yCurr;\n        }\n    }\n\n    // Create joins buffer\n    const points3 = new Array<number>( );\n    for ( const line of lines ) {\n        let xPrev = undefined as number | undefined;\n        let yPrev = undefined as number | undefined;\n        for ( const [ xCurr, yCurr ] of line ) {\n            if ( xCurr !== xPrev || yCurr !== yPrev ) {\n                const [ xCurrA, xCurrB ] = splitX( xCurr );\n                points3.push( xCurrA, xCurrB, yCurr );\n            }\n            xPrev = xCurr;\n            yPrev = yCurr;\n        }\n    }\n\n    return {\n        type: 'LINES',\n        scores: computeRenderableScores( lines ),\n        trianglesA3: new Float32Array( trianglesA3 ),\n        trianglesB2: new Float32Array( trianglesB2 ),\n        points3: new Float32Array( points3 ),\n    };\n}\n\nfunction createPolygonsPreRenderable(\n    multiPolygonCoordinates: Position[][][],\n    interp: LatLonInterpolator,\n    proj: NormalCylindricalProjection,\n    perceptibleProjDist: number,\n    splitX: Splitter,\n): PolygonsPreRenderable {\n    const xMeridian = proj.lonToX( 0 );\n    const xWrapSpan = proj.xSpan;\n    type PolygonEntry = { polygon: Xy[][], polygonWithPoleTweaks: Xy[][], altitudeScore: number, areaScore: number };\n    const northPole_UXYZ = [ 0, 0, +1 ] as const;\n    const southPole_UXYZ = [ 0, 0, -1 ] as const;\n    function projectRing( ring: Position[], xNearby: number ): { ring: Xy[], containsNorthPole: boolean, containsSouthPole: boolean } {\n        const ring_UXYZ = ring.map( ( [ lon_DEG, lat_DEG ] ) => toUnitSphereXyz( lat_DEG*DEG_TO_RAD, lon_DEG*DEG_TO_RAD ) );\n        const containsNorthPole = sphereSurfaceRingContains( ring_UXYZ, northPole_UXYZ );\n        const containsSouthPole = sphereSurfaceRingContains( ring_UXYZ, southPole_UXYZ );\n\n        const ring_PROJ = new Array<Xy>( );\n\n        // Project, resampling each segment according to the min perceptible distance\n        for ( let i = 0; i < ring.length; i++ ) {\n            const llPrev = positionToLatLon( ring[ ( i - 1 + ring.length ) % ring.length ] );\n            const llCurr = positionToLatLon( ring[ i ] );\n            const segment = projectLatLonSegment( llPrev, llCurr, interp, proj, perceptibleProjDist, false );\n            ring_PROJ.push( ...segment );\n        }\n\n        // Modify IN PLACE, wrapping projected X coords so each step goes the short way around\n        let xPrev = xNearby;\n        for ( const xyCurr of ring_PROJ ) {\n            xyCurr[0] = wrapNear( xyCurr[0], xPrev, xWrapSpan );\n            xPrev = xyCurr[0];\n        }\n\n        return { ring: ring_PROJ, containsNorthPole, containsSouthPole };\n    }\n\n    // Project, wrapping so each edge goes the short way around\n    const polygonEntries = new Array<PolygonEntry>( );\n    for ( const [ outer_LL, ...holes_LL ] of multiPolygonCoordinates ) {\n        if ( outer_LL.length > 0 ) {\n            const outer = projectRing( outer_LL, xMeridian );\n            const rings = [ outer ];\n\n            // Heuristic for wrapping holes so they land inside the outer ring\n            let xOuterMin = POSITIVE_INFINITY;\n            let xOuterMax = NEGATIVE_INFINITY;\n            for ( const [ x ] of outer.ring ) {\n                xOuterMin = min( xOuterMin, x );\n                xOuterMax = max( xOuterMax, x );\n            }\n            const xOuterCenter = xOuterMin + 0.5*( xOuterMax - xOuterMin );\n            for ( const hole_LL of holes_LL ) {\n                const hole = projectRing( hole_LL, xOuterCenter );\n                if ( hole.ring.length > 0 ) {\n                    rings.push( hole );\n                }\n            }\n\n            const polygon = new Array<Array<Xy>>( );\n            for ( const { ring } of rings ) {\n                polygon.push( ring );\n            }\n\n            const polygonWithPoleTweaks = new Array<Array<Xy>>( );\n            for ( const { ring, containsNorthPole, containsSouthPole } of rings ) {\n                if ( containsNorthPole ) {\n                    const yNorth = clamp( proj.minUsableY, proj.maxUsableY, proj.latToY( +0.5*PI ) );\n\n                    // Rotate vertex list so it starts with vertex nearest pole -- ensures\n                    // retrace edges we inject won't intersect the ring's existing edges\n                    let iNearPole = 0;\n                    for ( let i = 0; i < ring.length; i++ ) {\n                        if ( abs( ring[ i ][ 1 ] - yNorth ) < abs( ring[ iNearPole ][ 1 ] - yNorth ) ) {\n                            iNearPole = i;\n                        }\n                    }\n\n                    // Rewrap so each segment in the rotated list goes the short way around\n                    const ringRotated = new Array<Xy>( );\n                    let xPrev = xMeridian;\n                    for ( let i = 0; i < ring.length; i++ ) {\n                        const [ xRaw, y ] = ring[ ( iNearPole + i ) % ring.length ];\n                        const x = wrapNear( xRaw, xPrev, xWrapSpan );\n                        ringRotated.push( [ x, y ] );\n                        xPrev = x;\n                    }\n\n                    // Inject retrace vertices along the north edge of the map\n                    const [ xFirst, yFirst ] = ringRotated[ 0 ];\n                    const [ xLast ] = ringRotated[ ringRotated.length - 1 ];\n                    const xFirstWrapped = wrapNear( xFirst, xLast, xWrapSpan );\n                    polygonWithPoleTweaks.push( [ [ xFirst,yNorth ], ...ringRotated, [ xFirstWrapped,yFirst ], [ xFirstWrapped,yNorth ] ] );\n                }\n                else if ( containsSouthPole ) {\n                    const ySouth = clamp( proj.minUsableY, proj.maxUsableY, proj.latToY( -0.5*PI ) );\n\n                    // Rotate vertex list so it starts with vertex nearest pole -- ensures\n                    // retrace edges we inject won't intersect the ring's existing edges\n                    let iNearPole = 0;\n                    for ( let i = 0; i < ring.length; i++ ) {\n                        if ( abs( ring[ i ][ 1 ] - ySouth ) < abs( ring[ iNearPole ][ 1 ] - ySouth ) ) {\n                            iNearPole = i;\n                        }\n                    }\n\n                    // Rewrap so each segment in the rotated list goes the short way around\n                    const ringRotated = new Array<Xy>( );\n                    let xPrev = xMeridian;\n                    for ( let i = 0; i < ring.length; i++ ) {\n                        const [ xRaw, y ] = ring[ ( iNearPole + i ) % ring.length ];\n                        const x = wrapNear( xRaw, xPrev, xWrapSpan );\n                        ringRotated.push( [ x, y ] );\n                        xPrev = x;\n                    }\n\n                    // Inject retrace vertices along the south edge of the map\n                    const [ xFirst, yFirst ] = ringRotated[ 0 ];\n                    const [ xLast ] = ringRotated[ ringRotated.length - 1 ];\n                    const xFirstWrapped = wrapNear( xFirst, xLast, xWrapSpan );\n                    polygonWithPoleTweaks.push( [ [ xFirst,ySouth ], ...ringRotated, [ xFirstWrapped,yFirst ], [ xFirstWrapped,ySouth ] ] );\n                }\n                else {\n                    polygonWithPoleTweaks.push( ring );\n                }\n            }\n\n            polygonEntries.push( {\n                polygon,\n                polygonWithPoleTweaks,\n                altitudeScore: computeAltitudeScore( polygon ),\n                areaScore: computeAreaScore( polygonWithPoleTweaks ),\n            } );\n        }\n    }\n\n    // Sort\n    arraySortStable( polygonEntries, ( a, b ) => {\n        const altitudeComparison = a.altitudeScore - b.altitudeScore;\n        if ( altitudeComparison !== 0 ) {\n            return altitudeComparison;\n        }\n        const areaComparison = a.areaScore - b.areaScore;\n        if ( areaComparison !== 0 ) {\n            return areaComparison;\n        }\n        return 0;\n    } );\n\n    // Create fill triangles buffer\n    const fillTriangles3 = new Array<number>( );\n    const tess = new libtess.GluTesselator( );\n    tess.gluTessCallback( libtess.gluEnum.GLU_TESS_COMBINE, ( xy: Xy ) => xy );\n    tess.gluTessCallback( libtess.gluEnum.GLU_TESS_EDGE_FLAG, NOOP );\n    tess.gluTessCallback( libtess.gluEnum.GLU_TESS_ERROR, ( errorCode: number ) => { throw new Error( `Tesselation failed: error-code = ${errorCode}` ) } );\n    tess.gluTessCallback( libtess.gluEnum.GLU_TESS_VERTEX, ( [ x, y ]: Xy ) => {\n        const [ xa, xb ] = splitX( x );\n        fillTriangles3.push( xa, xb, y );\n    } );\n    tess.gluTessNormal( 0, 0, 1 );\n    for ( const { polygonWithPoleTweaks } of polygonEntries ) {\n        tess.gluTessBeginPolygon( );\n        for ( const ring of polygonWithPoleTweaks ) {\n            tess.gluTessBeginContour( );\n            for ( const xy of ring ) {\n                const [ x, y ] = xy;\n                tess.gluTessVertex( [ x, y, 0 ], xy );\n            }\n            tess.gluTessEndContour( );\n        }\n        tess.gluTessEndPolygon( );\n    }\n\n    // Create stroke triangles buffer\n    const strokeTrianglesA3 = new Array<number>( );\n    const strokeTrianglesB2 = new Array<number>( );\n    for ( const { polygon } of polygonEntries ) {\n        for ( const ring of polygon ) {\n            let [ xPrev, yPrev ] = ring[ ring.length - 1 ];\n            xPrev = wrapNear( xPrev, ring[ 0 ][ 0 ], xWrapSpan );\n            for ( const [ xCurr, yCurr ] of ring ) {\n                const dxForward = xCurr - xPrev;\n                const dyForward = yCurr - yPrev;\n                if ( dxForward !== 0 || dyForward !== 0 ) {\n                    const [ xCurrA, xCurrB ] = splitX( xCurr );\n                    const [ xPrevA, xPrevB ] = splitX( xPrev );\n                    strokeTrianglesA3.push(\n                        xCurrA, xCurrB, yCurr,\n                        xPrevA, xPrevB, yPrev,\n                        xCurrA, xCurrB, yCurr,\n                        xCurrA, xCurrB, yCurr,\n                        xPrevA, xPrevB, yPrev,\n                        xPrevA, xPrevB, yPrev,\n                    );\n                    strokeTrianglesB2.push(\n                        -dxForward, -dyForward,\n                        -dxForward, -dyForward,\n                        +dxForward, +dyForward,\n                        +dxForward, +dyForward,\n                        -dxForward, -dyForward,\n                        +dxForward, +dyForward,\n                    );\n                }\n                xPrev = xCurr;\n                yPrev = yCurr;\n            }\n        }\n    }\n\n    // Create stroke joins buffer\n    const strokePoints3 = new Array<number>( );\n    for ( const { polygon } of polygonEntries ) {\n        for ( const ring of polygon ) {\n            let [ xPrev, yPrev ] = ring[ ring.length - 1 ];\n            xPrev = wrapNear( xPrev, ring[ 0 ][ 0 ], xWrapSpan );\n            for ( const [ xCurr, yCurr ] of ring ) {\n                const dxForward = xCurr - xPrev;\n                const dyForward = yCurr - yPrev;\n                if ( dxForward !== 0 || dyForward !== 0 ) {\n                    const [ xCurrA, xCurrB ] = splitX( xCurr );\n                    strokePoints3.push( xCurrA, xCurrB, yCurr );\n                }\n                xPrev = xCurr;\n                yPrev = yCurr;\n            }\n        }\n    }\n\n    return {\n        type: 'POLYGONS',\n        scores: computeRenderableScores( polygonEntries.map( en => en.polygonWithPoleTweaks ) ),\n        fillTriangles3: new Float32Array( fillTriangles3 ),\n        strokeTrianglesA3: new Float32Array( strokeTrianglesA3 ),\n        strokeTrianglesB2: new Float32Array( strokeTrianglesB2 ),\n        strokePoints3: new Float32Array( strokePoints3 ),\n    };\n}\n\nfunction computeRenderableScores( coords: XyMaybeZ | XyMaybeZ[] | XyMaybeZ[][] | XyMaybeZ[][][] ): RenderableScores {\n    return {\n        latScore: computeLatScore( coords ),\n        altitudeScore: computeAltitudeScore( coords ),\n        areaScore: computeAreaScore( coords ),\n    };\n}\n\nfunction computeLatScore( coords: XyMaybeZ | XyMaybeZ[] | XyMaybeZ[][] | XyMaybeZ[][][] ): number {\n    if ( typeof coords[0] === 'number' ) {\n        const y = ( coords as XyMaybeZ )[1];\n        return ( typeof y === 'number' ? -y : NEGATIVE_INFINITY );\n    }\n    else {\n        let maxScore = NEGATIVE_INFINITY;\n        for ( const entry of coords as XyMaybeZ[] | XyMaybeZ[][] | XyMaybeZ[][][] ) {\n            maxScore = max( maxScore, computeLatScore( entry ) );\n        }\n        return maxScore;\n    }\n}\n\nfunction computeAltitudeScore( coords: XyMaybeZ | XyMaybeZ[] | XyMaybeZ[][] | XyMaybeZ[][][] ): number {\n    if ( typeof coords[0] === 'number' ) {\n        const altitude_M = ( coords as XyMaybeZ )[2] ?? 0;\n        return altitude_M;\n    }\n    else {\n        let maxScore = NEGATIVE_INFINITY;\n        for ( const entry of coords as XyMaybeZ[] | XyMaybeZ[][] | XyMaybeZ[][][] ) {\n            maxScore = max( maxScore, computeAltitudeScore( entry ) );\n        }\n        return maxScore;\n    }\n}\n\nfunction computeAreaScore( coords: XyMaybeZ | XyMaybeZ[] | XyMaybeZ[][] | XyMaybeZ[][][] ): number {\n    // Based on https://en.wikipedia.org/wiki/Shoelace_formula#Trapezoid_formula\n    function computeArea( ring: XyMaybeZ[] ): number {\n        let sum = 0;\n        let prev = ring[ ring.length - 1 ];\n        for ( const curr of ring ) {\n            sum += ( prev[1] + curr[1] )*( prev[0] - curr[0] );\n            prev = curr;\n        }\n        return abs( 0.5*sum );\n    }\n\n    if ( typeof coords[0] === 'number' ) {\n        return 0;\n    }\n    else if ( typeof coords[0][0] === 'number' ) {\n        const onlyRing = coords as XyMaybeZ[];\n        return -computeArea( onlyRing );\n    }\n    else if ( typeof coords[0][0][0] === 'number' ) {\n        const outerRing = ( coords as XyMaybeZ[][] )[0];\n        return -computeArea( outerRing );\n    }\n    else {\n        const polygons = coords as XyMaybeZ[][][];\n        let totalScore = 0;\n        for ( const polygon of polygons ) {\n            const outerRing = polygon[0];\n            totalScore += -computeArea( outerRing );\n        }\n        return totalScore;\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { AnchoredImage, BLACK, bufferDataF32, BufferInfo, Color, Context, createDomPeer, cssBoolean, cssColor, cssFloat, cssString, currentDpr, DomPeer, enablePremultipliedAlphaBlending, Float32Scratch, frozenSupplier, GL, glUniformInterval2D, glUniformRgba, glUniformSize2D, isfn, isstr, Painter, PeerType, RED, rgb, rgba, StyleProp, texImage2D, vertexAttribPointer } from '@metsci/gleam-core';\nimport { appendChild, arraySortStable, Comparator, createWorkerPool, Disposer, DisposerGroup, DisposerGroupMap, FireableListenable, Interval1D, Interval2D, LatLonInterpolator, LatLonInterpolatorDescriptor, LinkedMap, ListenableBasic, mapAdd, NormalCylindricalProjection, NormalCylindricalProjectionDescriptor, Nullable, RefBasic, requireNonNull, requireNonNullish, SPHERICAL_GREAT_CIRCLE_INTERPOLATOR, submitToWorkerPool, Supplier, tripleEquals, WGS84_EQUATORIAL_CIRCUMFERENCE_METERS, WorkerPool, WorkerPoolWorker } from '@metsci/gleam-util';\nimport { Feature, GeoJSON, Geometry } from 'geojson';\nimport { createXSplitter, PreRenderable, RenderableScores, WorkerResult } from './support';\n\nconst { acos, ceil, floor, min, PI, sin } = Math;\n\nimport markerFragShader_GLSL from './markerShader.frag';\nimport markerVertShader_GLSL from './markerShader.vert';\nconst MARKER_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: markerVertShader_GLSL,\n    fragShader_GLSL: markerFragShader_GLSL,\n    uniformNames: [\n        'VIEWPORT_SIZE_PX',\n        'VIEWPORT_BOUNDS_AXIS',\n        'IMAGE_TEXTURE',\n        'IMAGE_SPRAWL_PX',\n    ] as const,\n    attribNames: [\n        'inVerticesA',\n        'inVerticesB',\n        'inViewportXMins',\n    ] as const,\n} );\n\nimport lineFragShader_GLSL from './lineShader.frag';\nimport lineVertShader_GLSL from './lineShader.vert';\nconst LINE_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: lineVertShader_GLSL,\n    fragShader_GLSL: lineFragShader_GLSL,\n    uniformNames: [\n        'VIEWPORT_SIZE_PX',\n        'VIEWPORT_BOUNDS_AXIS',\n        'COLOR',\n        'THICKNESS_PX',\n        'FEATHER_PX',\n    ] as const,\n    attribNames: [\n        'inVerticesA',\n        'inVerticesB',\n        'inViewportXMins',\n    ] as const,\n} );\n\nimport joinFragShader_GLSL from './joinShader.frag';\nimport joinVertShader_GLSL from './joinShader.vert';\nconst JOIN_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: joinVertShader_GLSL,\n    fragShader_GLSL: joinFragShader_GLSL,\n    uniformNames: [\n        'VIEWPORT_BOUNDS_AXIS',\n        'COLOR',\n        'DIAMETER_PX',\n        'FEATHER_PX',\n    ] as const,\n    attribNames: [\n        'inVertices',\n        'inViewportXMins',\n    ] as const,\n} );\n\nimport fillFragShader_GLSL from './fillShader.frag';\nimport fillVertShader_GLSL from './fillShader.vert';\nconst FILL_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: fillVertShader_GLSL,\n    fragShader_GLSL: fillFragShader_GLSL,\n    uniformNames: [\n        'VIEWPORT_BOUNDS_AXIS',\n        'COLOR',\n    ] as const,\n    attribNames: [\n        'inVertices',\n        'inViewportXMins',\n    ] as const,\n} );\n\nexport type GeoJsonRenderableType = Renderable[ 'type' ];\n\nexport interface GeoJsonMarker {\n    readonly peer?: DomPeer;\n    getTexture( context: Context ): { texture: Nullable<WebGLTexture>, sprawl: ImageSprawl };\n}\n\nexport interface ImageSprawl {\n    dxLeft_PX: number;\n    dxRight_PX: number;\n    dyBottom_PX: number;\n    dyTop_PX: number;\n}\n\nexport function getImageSprawl( image: AnchoredImage ): ImageSprawl {\n    return {\n        dxLeft_PX: 0 - image.xAnchor,\n        dxRight_PX: image.imageData.width - image.xAnchor,\n        dyBottom_PX: image.yAnchor - image.imageData.height,\n        dyTop_PX: image.yAnchor - 0,\n    };\n}\n\nexport class GeoJsonMarkerPin implements GeoJsonMarker {\n    readonly peer = createDomPeer( 'geojson-marker-pin', this, PeerType.OTHER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly fillColor = StyleProp.create( this.style, '--fill-color', cssColor, RED );\n    readonly strokeColor = StyleProp.create( this.style, '--stroke-color', cssColor, BLACK );\n\n    constructor( ...cssClasses: Array<string> ) {\n        cssClasses.forEach( s => this.peer.classList.add( s ) );\n    }\n\n    getTexture( context: Context ): { texture: Nullable<WebGLTexture>, sprawl: ImageSprawl } {\n        const instanceKey = context.getObjectKey( this );\n\n        const fillColor = this.fillColor.get( );\n        const strokeColor = this.strokeColor.get( );\n        const dpr = currentDpr( this );\n\n        const dMarker = context.getTexture( `geojson-marker-pin.${instanceKey}`, [ dpr, fillColor, strokeColor ], ( gl, target ) => {\n            const hMarker = GeoJsonMarkerPin.drawImage( dpr, fillColor, strokeColor );\n            gl.texParameteri( target, GL.TEXTURE_MAG_FILTER, GL.NEAREST );\n            gl.texParameteri( target, GL.TEXTURE_MIN_FILTER, GL.NEAREST );\n            gl.texParameteri( target, GL.TEXTURE_WRAP_S, GL.CLAMP_TO_EDGE );\n            gl.texParameteri( target, GL.TEXTURE_WRAP_T, GL.CLAMP_TO_EDGE );\n            return texImage2D( gl, target, GL.RGBA, GL.UNSIGNED_BYTE, hMarker.imageData, {\n                sprawl: getImageSprawl( hMarker ),\n            } );\n        } );\n        return {\n            texture: dMarker.texture,\n            sprawl: dMarker.meta.sprawl,\n        };\n    }\n\n    static drawImage( dpr: number, fillColor: Color, strokeColor: Color ): AnchoredImage {\n        // Border avoids interpolation problems at image edges\n        const border = 1;\n\n        const r = ceil( 6*dpr );\n        const tipToCenter = 1.667*r;\n        const lineWidth = 2.5*dpr;\n\n        const phi = acos( r / tipToCenter );\n        const thetaA = 0.5*PI + phi;\n        const thetaB = 0.5*PI - phi;\n        const leftRightPad = ceil( 0.5*lineWidth );\n        const topPad = ceil( 0.5*lineWidth );\n        const bottomPad = ceil( ceil( 0.5*lineWidth ) / sin( 0.5*PI - phi ) );\n        const wTotal = 1 + 2*r + 2*leftRightPad + 2*border;\n        const hTotal = 1 + r + tipToCenter + topPad + bottomPad + 2*border;\n        const xCenter = 0.5*wTotal;\n        const yCenter = border + topPad + r;\n        const yTip = yCenter + tipToCenter;\n\n        const canvas = document.createElement( 'canvas' );\n        canvas.width = wTotal;\n        canvas.height = hTotal;\n        const g = requireNonNull( canvas.getContext( '2d', { willReadFrequently: true } ) );\n        g.clearRect( 0, 0, wTotal, hTotal );\n\n        g.moveTo( xCenter, yTip );\n        g.arc( xCenter, yCenter, r, thetaA, thetaB );\n        g.closePath( );\n\n        g.strokeStyle = strokeColor.cssString;\n        g.lineWidth = lineWidth;\n        g.stroke( );\n\n        g.fillStyle = fillColor.cssString;\n        g.fill( );\n\n        const transitionColor = rgb(\n            0.5*fillColor.r + 0.5*strokeColor.r,\n            0.5*fillColor.g + 0.5*strokeColor.g,\n            0.5*fillColor.b + 0.5*strokeColor.b,\n        );\n        g.strokeStyle = transitionColor.cssString;\n        g.lineWidth = min( 1, 0.5*lineWidth );\n        g.stroke( );\n\n        return {\n            xAnchor: xCenter,\n            yAnchor: yTip,\n            border,\n            imageData: g.getImageData( 0, 0, wTotal, hTotal ),\n        };\n    }\n}\n\ninterface ContextPlus {\n    readonly context: Context;\n    readonly painterKey: string;\n    readonly dpr: number;\n    readonly viewport_PX: Interval2D;\n    readonly viewBounds: Interval2D;\n    readonly viewProj: NormalCylindricalProjection;\n    readonly markers: Map<string,GeoJsonMarker>;\n    readonly gl: WebGLRenderingContext;\n    readonly glExt: ANGLE_instanced_arrays;\n    readonly dViewportXMins: BufferInfo;\n}\n\ntype Renderable = MarkersRenderable | LinesRenderable | PolygonsRenderable;\n\nclass MarkersRenderable {\n    readonly type = 'MARKERS';\n    readonly peer = createDomPeer( 'geojson-markers-renderable', this, PeerType.OTHER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly marker = StyleProp.create( this.style, '--marker', cssString, 'default' );\n    readonly zIndex = StyleProp.create( this.style, '--z-index', cssFloat, 0 );\n    readonly visible = StyleProp.create( this.style, '--visible', cssBoolean, true );\n\n    constructor(\n        readonly renderableKey: string,\n        readonly props: { [ name: string ]: unknown },\n        readonly scores: RenderableScores,\n        readonly pointsA3: Float32Array,\n        readonly pointsB2: Float32Array,\n    ) {\n    }\n}\n\nclass LinesRenderable {\n    readonly type = 'LINES';\n    readonly peer = createDomPeer( 'geojson-lines-renderable', this, PeerType.OTHER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly color = StyleProp.create( this.style, '--color', cssColor, BLACK );\n    readonly width_LPX = StyleProp.create( this.style, '--width-px', cssFloat, 1 );\n    readonly zIndex = StyleProp.create( this.style, '--z-index', cssFloat, 0 );\n    readonly visible = StyleProp.create( this.style, '--visible', cssBoolean, true );\n\n    constructor(\n        readonly renderableKey: string,\n        readonly props: { [ name: string ]: unknown },\n        readonly scores: RenderableScores,\n        readonly trianglesA3: Float32Array,\n        readonly trianglesB2: Float32Array,\n        readonly points3: Float32Array,\n    ) {\n    }\n}\n\nclass PolygonsRenderable {\n    readonly type = 'POLYGONS';\n    readonly peer = createDomPeer( 'geojson-polygons-renderable', this, PeerType.OTHER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly fillColor = StyleProp.create( this.style, '--fill-color', cssColor, rgba( 0,0,0, 0.25 ) );\n    readonly strokeColor = StyleProp.create( this.style, '--stroke-color', cssColor, BLACK );\n    readonly strokeWidth_LPX = StyleProp.create( this.style, '--stroke-width-px', cssFloat, 1 );\n    readonly zIndex = StyleProp.create( this.style, '--z-index', cssFloat, 0 );\n    readonly visible = StyleProp.create( this.style, '--visible', cssBoolean, true );\n\n    constructor(\n        readonly renderableKey: string,\n        readonly props: { [ name: string ]: unknown },\n        readonly scores: RenderableScores,\n        readonly fillTriangles3: Float32Array,\n        readonly strokeTrianglesA3: Float32Array,\n        readonly strokeTrianglesB2: Float32Array,\n        readonly strokePoints3: Float32Array,\n    ) {\n    }\n}\n\nexport function createRenderable( renderableKey: string, props: { [ name: string ]: unknown }, preRenderable: PreRenderable ): Renderable {\n    switch ( preRenderable.type ) {\n        case 'MARKERS': return new MarkersRenderable(\n            renderableKey,\n            props,\n            preRenderable.scores,\n            preRenderable.pointsA3,\n            preRenderable.pointsB2,\n        );\n\n        case 'LINES': return new LinesRenderable(\n            renderableKey,\n            props,\n            preRenderable.scores,\n            preRenderable.trianglesA3,\n            preRenderable.trianglesB2,\n            preRenderable.points3,\n        );\n\n        case 'POLYGONS': return new PolygonsRenderable(\n            renderableKey,\n            props,\n            preRenderable.scores,\n            preRenderable.fillTriangles3,\n            preRenderable.strokeTrianglesA3,\n            preRenderable.strokeTrianglesB2,\n            preRenderable.strokePoints3,\n        );\n    }\n}\n\nexport interface GeoJsonRenderableTweak {\n    ( renderable: Renderable, disposers: DisposerGroup ): void;\n}\n\nexport function addCssClass( cssClass: string ): GeoJsonRenderableTweak {\n    return ( renderable, disposers ) => {\n        if ( !renderable.peer.classList.contains( cssClass ) ) {\n            renderable.peer.classList.add( cssClass );\n            disposers.add( ( ) => {\n                renderable.peer.classList.remove( cssClass );\n            } );\n        }\n    };\n}\n\nexport function addCssClassFromProperty( cssClassPropertyName: string ): GeoJsonRenderableTweak {\n    return ( renderable, disposers ) => {\n        const cssClass = renderable.props[ cssClassPropertyName ];\n        if ( isstr( cssClass ) && !renderable.peer.classList.contains( cssClass ) ) {\n            renderable.peer.classList.add( cssClass );\n            disposers.add( ( ) => {\n                renderable.peer.classList.remove( cssClass );\n            } );\n        }\n    };\n}\n\nconst renderableRanksByType = {\n    POLYGONS: 1,\n    LINES: 2,\n    MARKERS: 3,\n};\nconst RENDERING_ORDER: Comparator<[ renderable: Renderable, zIndex: number ]> = ( a, b ) => {\n    const [ aRenderable, aZIndex ] = a;\n    const [ bRenderable, bZIndex ] = b;\n\n    const typeComparison = renderableRanksByType[ aRenderable.type ] - renderableRanksByType[ bRenderable.type ];\n    if ( typeComparison !== 0 ) {\n        return typeComparison;\n    }\n\n    const zIndexComparison = aZIndex - bZIndex;\n    if ( zIndexComparison !== 0 ) {\n        return zIndexComparison;\n    }\n\n    const altitudeComparison = aRenderable.scores.altitudeScore - bRenderable.scores.altitudeScore;\n    if ( altitudeComparison !== 0 ) {\n        return altitudeComparison;\n    }\n\n    if ( aRenderable.type === 'MARKERS' && bRenderable.type === 'MARKERS' ) {\n        const latComparison = aRenderable.scores.latScore - bRenderable.scores.latScore;\n        if ( latComparison !== 0 ) {\n            return latComparison;\n        }\n    }\n\n    const areaComparison = aRenderable.scores.areaScore - bRenderable.scores.areaScore;\n    if ( areaComparison !== 0 ) {\n        return areaComparison;\n    }\n\n    return 0;\n};\n\nexport interface PreRenderablesFactoryFn {\n    ( geometry: Geometry, interp: LatLonInterpolator, proj: NormalCylindricalProjection, perceptibleProjDist: number ): Promise<ReadonlyArray<PreRenderable>>;\n}\n\n// Bundler is configured to output a bundle at this location\n// Resolve relative URLs at load-time, in case a polyfill relies on document.currentScript\nconst preRenderablesWorkerUrl = new URL( './worker.worker.js', import.meta.url );\n\nexport function createPreRenderablesWorkerPool( options?: {\n    workerCount?: number,\n    workerCredentials?: RequestCredentials,\n} ): WorkerPool {\n    const workerCount = options?.workerCount ?? min( 2, navigator.hardwareConcurrency );\n    return createWorkerPool( workerCount, i => new Worker( preRenderablesWorkerUrl, {\n        name: `GeoJsonPreRenderables-${ i.toFixed( 0 ).padStart( 2, '0' ) }`,\n        credentials: options?.workerCredentials,\n    } ) );\n}\n\nexport function createPreRenderableFactory( workerPool: WorkerPool ): PreRenderablesFactoryFn {\n    return ( geometry, interp, proj, perceptibleProjDist ) => {\n        return submitToWorkerPool( workerPool, ( worker, callKey ) => {\n            return createPreRenderablesAsync( worker, callKey, geometry, interp.desc, proj.desc, perceptibleProjDist );\n        } );\n    };\n}\n\nexport function createPreRenderablesAsync(\n    worker: WorkerPoolWorker,\n    callKey: unknown,\n    geometry: Geometry,\n    interpDesc: LatLonInterpolatorDescriptor,\n    projDesc: NormalCylindricalProjectionDescriptor,\n    perceptibleProjDist: number,\n): Promise<ReadonlyArray<PreRenderable>> {\n    // Send a request to the worker\n    worker.postMessage( { callKey, geometry, interpDesc, projDesc, perceptibleProjDist } );\n\n    // Wait for a response, or worker termination\n    return new Promise( ( resolve, reject ) => {\n        worker.termination.addListener( { once: true }, ( ) => {\n            reject( 'Worker was terminated' );\n        } );\n        const messageListener = ( ev: MessageEvent<WorkerResult> ) => {\n            const result = ev.data;\n            if ( result.callKey === callKey ) {\n                worker.removeEventListener( 'message', messageListener );\n                resolve( result.preRenderables );\n            }\n        };\n        worker.addEventListener( 'message', messageListener );\n    } );\n}\n\nexport interface GeoJsonPreRenderOptionsFn {\n    ( geometry: Geometry, props: { [ name: string ]: unknown } ): GeoJsonPreRenderOptions;\n}\n\nexport interface GeoJsonPreRenderOptions {\n    interp?: LatLonInterpolator;\n    perceptibleDistance_M?: number;\n}\n\nexport class GeoJsonPainter implements Painter {\n    readonly peer = createDomPeer( 'geojson-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    readonly viewProj: NormalCylindricalProjection;\n    protected readonly splitX: ( x: number ) => [ a: number, b: number ];\n    viewBoundsFn: Supplier<Interval2D>;\n    protected readonly preRenderDefaults: Required<GeoJsonPreRenderOptions>;\n    protected readonly createPreRenderables: PreRenderablesFactoryFn;\n    protected readonly repaint: FireableListenable;\n\n    protected readonly markers: Map<string,GeoJsonMarker>;\n    protected readonly disposersByMarkerKey: DisposerGroupMap<string>;\n    protected readonly renderablesByDataKey: LinkedMap< string, { visible: boolean, renderables: Array<Renderable> } >;\n    protected readonly disposersByDataKey: DisposerGroupMap<string>;\n    protected readonly scratch: Float32Scratch;\n\n    constructor(\n        viewProj: NormalCylindricalProjection,\n        createPreRenderables: PreRenderablesFactoryFn,\n        viewBoundsFn?: Supplier<Interval2D>,\n        preRenderDefaults?: GeoJsonPreRenderOptions,\n    ) {\n        this.viewProj = viewProj;\n        this.splitX = createXSplitter( this.viewProj.xSpan );\n        this.viewBoundsFn = viewBoundsFn ?? frozenSupplier( Interval2D.fromEdges( 0, 1, 0, 1 ) );\n        this.preRenderDefaults = {\n            interp: preRenderDefaults?.interp ?? SPHERICAL_GREAT_CIRCLE_INTERPOLATOR,\n            perceptibleDistance_M: preRenderDefaults?.perceptibleDistance_M ?? 100,\n        };\n        this.createPreRenderables = createPreRenderables;\n        this.repaint = new ListenableBasic( );\n\n        this.markers = new Map( );\n        this.disposersByMarkerKey = new DisposerGroupMap( );\n        this.renderablesByDataKey = new LinkedMap( );\n        this.disposersByDataKey = new DisposerGroupMap( );\n        this.scratch = new Float32Scratch( );\n\n        this.registerMarker( 'default', new GeoJsonMarkerPin( 'default' ) );\n    }\n\n    attachToRepaint( repaint: FireableListenable ): Disposer {\n        return this.repaint.addListener( ( ) => {\n            repaint.fire( );\n        } );\n    }\n\n    /**\n     * The recommended convention is to add a CSS class matching `markerKey` to `marker.peer`.\n     * For example: `marker.peer.classList.add( markerKey )`. This isn't required, but in most\n     * cases it makes it easier to keep track of which marker styles are used by which renderable\n     * styles.\n     */\n    registerMarker( markerKey: string, marker: GeoJsonMarker ): Disposer {\n        this.disposersByMarkerKey.disposeFor( markerKey );\n\n        const disposers = this.disposersByMarkerKey.get( markerKey );\n        if ( marker.peer ) {\n            disposers.add( appendChild( this.peer, marker.peer ) );\n        }\n        disposers.add( mapAdd( this.markers, markerKey, marker ) );\n        return disposers;\n    }\n\n    putData(\n        dataKey: string,\n        geojson: GeoJSON,\n        tweaks?: ReadonlyArray<GeoJsonRenderableTweak>,\n        preRenderOptions?: GeoJsonPreRenderOptions | GeoJsonPreRenderOptionsFn,\n    ): Disposer {\n        this.disposersByDataKey.disposeFor( dataKey );\n\n        const disposers = this.disposersByDataKey.get( dataKey );\n        disposers.add( ( ) => this.repaint.fire( ) );\n\n        const renderables = new Array<Renderable>( );\n        disposers.add( mapAdd( this.renderablesByDataKey, dataKey, { visible: true, renderables } ) );\n\n        let canceled = false;\n        disposers.add( ( ) => ( canceled = true ) );\n\n        const renderablesByGeometry = new Array<Array<Renderable>>( );\n        const addGeometry = async ( geometry: Geometry, props: { [ name: string ]: unknown } ) => {\n            const geometryNum = renderablesByGeometry.length;\n            const renderablesForGeometry = new Array<Renderable>( );\n            renderablesByGeometry.push( renderablesForGeometry );\n\n            const preRenderOptions2 = isfn( preRenderOptions ) ? preRenderOptions( geometry, props ) : preRenderOptions;\n            const interp = preRenderOptions2?.interp ?? this.preRenderDefaults.interp;\n            const perceptibleDistance_M = preRenderOptions2?.perceptibleDistance_M ?? this.preRenderDefaults.perceptibleDistance_M;\n            const perceptibleProjDist = perceptibleDistance_M * this.viewProj.xSpan / WGS84_EQUATORIAL_CIRCUMFERENCE_METERS;\n\n            const preRenderables = await this.createPreRenderables( geometry, interp, this.viewProj, perceptibleProjDist );\n            if ( canceled ) {\n                return;\n            }\n\n            for ( const preRenderable of preRenderables ) {\n                const renderableKey = `${dataKey}[${geometryNum}][${renderablesForGeometry.length}]`;\n                renderablesForGeometry.push( createRenderable( renderableKey, props, preRenderable ) );\n            }\n            if ( tweaks ) {\n                for ( const renderable of renderablesForGeometry ) {\n                    for ( const tweak of tweaks ) {\n                        try {\n                            tweak( renderable, disposers );\n                        }\n                        catch ( e ) {\n                            console.warn( 'Failed to apply GeoJSON renderable tweak', e );\n                        }\n                    }\n                }\n            }\n            for ( const renderable of renderablesForGeometry ) {\n                disposers.add( appendChild( this.peer, renderable.peer ) );\n            }\n\n            renderables.length = 0;\n            renderables.push( ...renderablesByGeometry.flat( ) );\n            this.repaint.fire( );\n        }\n\n        const addFeature = ( feature: Feature ) => {\n            addGeometry( feature.geometry, feature.properties ?? {} );\n        };\n\n        switch ( geojson.type ) {\n            case 'FeatureCollection': geojson.features.forEach( f => addFeature( f ) ); break;\n            case 'Feature': addFeature( geojson ); break;\n            default: addGeometry( geojson, {} ); break;\n        }\n\n        return disposers;\n    }\n\n    hasData( dataKey: string ): boolean {\n        return this.renderablesByDataKey.has( dataKey );\n    }\n\n    setDataVisible( dataKey: string, visible: boolean ): void {\n        const en = this.renderablesByDataKey.get( dataKey );\n        if ( en && en.visible !== visible ) {\n            en.visible = visible;\n            this.repaint.fire( );\n        }\n    }\n\n    removeData( dataKey: string ): void {\n        this.disposersByDataKey.disposeFor( dataKey );\n    }\n\n    clearData( ): void {\n        this.disposersByDataKey.dispose( );\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        if ( this.renderablesByDataKey.size > 0 ) {\n            const painterKey = context.getObjectKey( this );\n            const viewBounds = this.viewBoundsFn( );\n            // TODO: Support lines/polygons that wrap around more than once\n            const xViewMin = viewBounds.xMin;\n            const xWrapSpan = this.viewProj.xSpan;\n            // Renderables are wrapped near lon=0, so consider map bounds to be lon=[-PI,+PI)\n            const xMapBounds = Interval1D.fromRect( this.viewProj.lonToX( -PI ), xWrapSpan );\n            const xWrapNumMin = floor( xMapBounds.valueToFrac( viewBounds.xMin ) - 1.0 );\n            const xWrapNumMax = floor( xMapBounds.valueToFrac( viewBounds.xMax ) + 1.0 );\n            const xWrapCount = xWrapNumMax - xWrapNumMin + 1;\n            const dViewportXMins = context.getBuffer( `geojson.${painterKey}.viewportXMins`, [ xViewMin, xWrapSpan, xWrapNumMin, xWrapCount ], ( gl, target ) => {\n                const xs2 = this.scratch.getTempSpace( 2*xWrapCount );\n                for ( let i = 0; i < xWrapCount; i++ ) {\n                    const x = viewBounds.xMin - ( xWrapNumMin + i )*xWrapSpan;\n                    const [ xa, xb ] = this.splitX( x );\n                    xs2[ 2*i + 0 ] = xa;\n                    xs2[ 2*i + 1 ] = xb;\n                }\n                return bufferDataF32( gl, target, xs2, 2 );\n            } );\n            const contextPlus: ContextPlus = {\n                context,\n                painterKey,\n                dpr: currentDpr( this ),\n                viewport_PX,\n                viewBounds,\n                viewProj: this.viewProj,\n                markers: this.markers,\n                gl: context.gl,\n                glExt: requireNonNullish( context.gl.getExtension( 'ANGLE_instanced_arrays' ) ),\n                dViewportXMins,\n            };\n            const renderablePairs = new Array<[ renderable: Renderable, zIndex: number ]>( );\n            for ( const [ _, { visible, renderables } ] of this.renderablesByDataKey ) {\n                if ( visible ) {\n                    for ( const renderable of renderables ) {\n                        if ( renderable.visible.get( ) ) {\n                            renderablePairs.push( [ renderable, renderable.zIndex.get( ) ] );\n                        }\n                    }\n                }\n            }\n            arraySortStable( renderablePairs, RENDERING_ORDER );\n            enablePremultipliedAlphaBlending( context.gl );\n            for ( const [ renderable ] of renderablePairs ) {\n                switch ( renderable.type ) {\n                    case 'MARKERS': this.drawMarkers( contextPlus, renderable ); break;\n                    case 'LINES': this.drawLines( contextPlus, renderable ); break;\n                    case 'POLYGONS': this.drawPolygons( contextPlus, renderable ); break;\n                }\n            }\n        }\n    }\n\n    protected drawMarkers( contextPlus: ContextPlus, renderable: MarkersRenderable ): void {\n        const { context, painterKey, viewport_PX, viewBounds, markers, gl, glExt, dViewportXMins } = contextPlus;\n        const { renderableKey, pointsA3, pointsB2 } = renderable;\n        const markerKey = renderable.marker.get( );\n        const marker = markers.get( markerKey );\n\n        // Marker\n        if ( marker ) {\n            const dMarker = marker.getTexture( context );\n            const dVerticesA = context.getBuffer( `geojson.${painterKey}.marker.verticesA.${renderableKey}`, [ renderable ], ( gl, target ) => {\n                return bufferDataF32( gl, target, pointsA3, 3 );\n            } );\n            const dVerticesB = context.getBuffer( `geojson.${painterKey}.marker.verticesB.${renderableKey}`, [ renderable ], ( gl, target ) => {\n                return bufferDataF32( gl, target, pointsB2, 2 );\n            } );\n            const { program, attribs, uniforms } = context.getProgram( MARKER_PROG_SOURCE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inVerticesA );\n            gl.enableVertexAttribArray( attribs.inVerticesB );\n            gl.enableVertexAttribArray( attribs.inViewportXMins );\n            glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 1 );\n            try {\n                glUniformSize2D( gl, uniforms.VIEWPORT_SIZE_PX, viewport_PX.span );\n                glUniformInterval2D( gl, uniforms.VIEWPORT_BOUNDS_AXIS, viewBounds );\n\n                gl.activeTexture( GL.TEXTURE0 );\n                gl.bindTexture( GL.TEXTURE_2D, dMarker.texture );\n                gl.uniform1i( uniforms.IMAGE_TEXTURE, 0 );\n\n                const sprawl = dMarker.sprawl;\n                gl.uniform4f( uniforms.IMAGE_SPRAWL_PX, sprawl.dxLeft_PX, sprawl.dxRight_PX, sprawl.dyTop_PX, sprawl.dyBottom_PX );\n\n                vertexAttribPointer( gl, attribs.inVerticesA, dVerticesA );\n                vertexAttribPointer( gl, attribs.inVerticesB, dVerticesB );\n                vertexAttribPointer( gl, attribs.inViewportXMins, dViewportXMins );\n\n                glExt.drawArraysInstancedANGLE( GL.TRIANGLES, 0, dVerticesA.meta.unitCount, dViewportXMins.meta.unitCount );\n            }\n            finally {\n                glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 0 );\n                gl.disableVertexAttribArray( attribs.inViewportXMins );\n                gl.disableVertexAttribArray( attribs.inVerticesB );\n                gl.disableVertexAttribArray( attribs.inVerticesA );\n                gl.useProgram( null );\n            }\n        }\n    }\n\n    protected drawLines( contextPlus: ContextPlus, renderable: LinesRenderable ): void {\n        const { context, painterKey, dpr, viewport_PX, viewBounds, gl, glExt, dViewportXMins } = contextPlus;\n        const { renderableKey, trianglesA3, trianglesB2, points3 } = renderable;\n        const color = renderable.color.get( );\n        const width_LPX = renderable.width_LPX.get( );\n        const width_PX = width_LPX * dpr;\n        const feather_PX = 1.5;\n\n        // Joins\n        if ( color && color.a > 0 && width_PX > 1 ) {\n            const dVertices = context.getBuffer( `geojson.${painterKey}.line.points.${renderableKey}`, [ renderable ], ( gl, target ) => {\n                return bufferDataF32( gl, target, points3, 3 );\n            } );\n            const { program, attribs, uniforms } = context.getProgram( JOIN_PROG_SOURCE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inVertices );\n            gl.enableVertexAttribArray( attribs.inViewportXMins );\n            glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 1 );\n            try {\n                glUniformInterval2D( gl, uniforms.VIEWPORT_BOUNDS_AXIS, viewBounds );\n                glUniformRgba( gl, uniforms.COLOR, color );\n                gl.uniform1f( uniforms.DIAMETER_PX, width_PX );\n                gl.uniform1f( uniforms.FEATHER_PX, feather_PX );\n\n                vertexAttribPointer( gl, attribs.inVertices, dVertices );\n                vertexAttribPointer( gl, attribs.inViewportXMins, dViewportXMins );\n\n                glExt.drawArraysInstancedANGLE( GL.POINTS, 0, dVertices.meta.unitCount, dViewportXMins.meta.unitCount );\n            }\n            finally {\n                glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 0 );\n                gl.disableVertexAttribArray( attribs.inViewportXMins );\n                gl.disableVertexAttribArray( attribs.inVertices );\n                gl.useProgram( null );\n            }\n        }\n\n        // Segments\n        if ( color && color.a > 0 && width_PX > 0 ) {\n            const dVerticesA = context.getBuffer( `geojson.${painterKey}.line.trianglesA.${renderableKey}`, [ renderable ], ( gl, target ) => {\n                return bufferDataF32( gl, target, trianglesA3, 3 );\n            } );\n            const dVerticesB = context.getBuffer( `geojson.${painterKey}.line.trianglesB.${renderableKey}`, [ renderable ], ( gl, target ) => {\n                return bufferDataF32( gl, target, trianglesB2, 2 );\n            } );\n            const { program, attribs, uniforms } = context.getProgram( LINE_PROG_SOURCE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inVerticesA );\n            gl.enableVertexAttribArray( attribs.inVerticesB );\n            gl.enableVertexAttribArray( attribs.inViewportXMins );\n            glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 1 );\n            try {\n                glUniformSize2D( gl, uniforms.VIEWPORT_SIZE_PX, viewport_PX.span );\n                glUniformInterval2D( gl, uniforms.VIEWPORT_BOUNDS_AXIS, viewBounds );\n                glUniformRgba( gl, uniforms.COLOR, color );\n                gl.uniform1f( uniforms.THICKNESS_PX, width_PX );\n                gl.uniform1f( uniforms.FEATHER_PX, feather_PX );\n\n                vertexAttribPointer( gl, attribs.inVerticesA, dVerticesA );\n                vertexAttribPointer( gl, attribs.inVerticesB, dVerticesB );\n                vertexAttribPointer( gl, attribs.inViewportXMins, dViewportXMins );\n\n                glExt.drawArraysInstancedANGLE( GL.TRIANGLES, 0, dVerticesA.meta.unitCount, dViewportXMins.meta.unitCount );\n            }\n            finally {\n                glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 0 );\n                gl.disableVertexAttribArray( attribs.inViewportXMins );\n                gl.disableVertexAttribArray( attribs.inVerticesB );\n                gl.disableVertexAttribArray( attribs.inVerticesA );\n                gl.useProgram( null );\n            }\n        }\n    }\n\n    protected drawPolygons( contextPlus: ContextPlus, renderable: PolygonsRenderable ): void {\n        const { context, painterKey, dpr, viewport_PX, viewBounds, gl, glExt, dViewportXMins } = contextPlus;\n        const { renderableKey, fillTriangles3, strokeTrianglesA3, strokeTrianglesB2, strokePoints3 } = renderable;\n        const fillColor = renderable.fillColor.get( );\n        const strokeColor = renderable.strokeColor.get( );\n        const strokeWidth_LPX = renderable.strokeWidth_LPX.get( );\n        const strokeWidth_PX = strokeWidth_LPX * dpr;\n        const strokeFeather_PX = 1.5;\n\n        // TODO: Improve behavior when member polygons overlap -- currently draws all fills, then all strokes\n\n        // Fill\n        if ( fillColor && fillColor.a > 0 ) {\n            const dVertices = context.getBuffer( `geojson.${painterKey}.polygon.fillTriangles.${renderableKey}`, [ renderable ], ( gl, target ) => {\n                return bufferDataF32( gl, target, fillTriangles3, 3 );\n            } );\n            const { program, attribs, uniforms } = context.getProgram( FILL_PROG_SOURCE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inVertices );\n            gl.enableVertexAttribArray( attribs.inViewportXMins );\n            glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 1 );\n            try {\n                glUniformInterval2D( gl, uniforms.VIEWPORT_BOUNDS_AXIS, viewBounds );\n                glUniformRgba( gl, uniforms.COLOR, fillColor );\n\n                vertexAttribPointer( gl, attribs.inVertices, dVertices );\n                vertexAttribPointer( gl, attribs.inViewportXMins, dViewportXMins );\n\n                glExt.drawArraysInstancedANGLE( GL.TRIANGLES, 0, dVertices.meta.unitCount, dViewportXMins.meta.unitCount );\n            }\n            finally {\n                glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 0 );\n                gl.disableVertexAttribArray( attribs.inViewportXMins );\n                gl.disableVertexAttribArray( attribs.inVertices );\n                gl.useProgram( null );\n            }\n        }\n\n        // Stroke joins\n        if ( strokeColor && strokeColor.a > 0 && strokeWidth_PX > 1 ) {\n            const dVertices = context.getBuffer( `geojson.${painterKey}.polygon.strokePoints.${renderableKey}`, [ renderable ], ( gl, target ) => {\n                return bufferDataF32( gl, target, strokePoints3, 3 );\n            } );\n            const { program, attribs, uniforms } = context.getProgram( JOIN_PROG_SOURCE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inVertices );\n            gl.enableVertexAttribArray( attribs.inViewportXMins );\n            glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 1 );\n            try {\n                glUniformInterval2D( gl, uniforms.VIEWPORT_BOUNDS_AXIS, viewBounds );\n                glUniformRgba( gl, uniforms.COLOR, strokeColor );\n                gl.uniform1f( uniforms.DIAMETER_PX, strokeWidth_PX );\n                gl.uniform1f( uniforms.FEATHER_PX, strokeFeather_PX );\n\n                vertexAttribPointer( gl, attribs.inVertices, dVertices );\n                vertexAttribPointer( gl, attribs.inViewportXMins, dViewportXMins );\n\n                glExt.drawArraysInstancedANGLE( GL.POINTS, 0, dVertices.meta.unitCount, dViewportXMins.meta.unitCount );\n            }\n            finally {\n                glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 0 );\n                gl.disableVertexAttribArray( attribs.inViewportXMins );\n                gl.disableVertexAttribArray( attribs.inVertices );\n                gl.useProgram( null );\n            }\n        }\n\n        // Stroke segments\n        if ( strokeColor && strokeColor.a > 0 && strokeWidth_PX > 0 ) {\n            const dVerticesA = context.getBuffer( `geojson.${painterKey}.polygon.strokeTrianglesA.${renderableKey}`, [ renderable ], ( gl, target ) => {\n                return bufferDataF32( gl, target, strokeTrianglesA3, 3 );\n            } );\n            const dVerticesB = context.getBuffer( `geojson.${painterKey}.polygon.strokeTrianglesB.${renderableKey}`, [ renderable ], ( gl, target ) => {\n                return bufferDataF32( gl, target, strokeTrianglesB2, 2 );\n            } );\n            const { program, attribs, uniforms } = context.getProgram( LINE_PROG_SOURCE );\n            gl.useProgram( program );\n            gl.enableVertexAttribArray( attribs.inVerticesA );\n            gl.enableVertexAttribArray( attribs.inVerticesB );\n            gl.enableVertexAttribArray( attribs.inViewportXMins );\n            glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 1 );\n            try {\n                glUniformSize2D( gl, uniforms.VIEWPORT_SIZE_PX, viewport_PX.span );\n                glUniformInterval2D( gl, uniforms.VIEWPORT_BOUNDS_AXIS, viewBounds );\n                glUniformRgba( gl, uniforms.COLOR, strokeColor );\n                gl.uniform1f( uniforms.THICKNESS_PX, strokeWidth_PX );\n                gl.uniform1f( uniforms.FEATHER_PX, strokeFeather_PX );\n\n                vertexAttribPointer( gl, attribs.inVerticesA, dVerticesA );\n                vertexAttribPointer( gl, attribs.inVerticesB, dVerticesB );\n                vertexAttribPointer( gl, attribs.inViewportXMins, dViewportXMins );\n\n                glExt.drawArraysInstancedANGLE( GL.TRIANGLES, 0, dVerticesA.meta.unitCount, dViewportXMins.meta.unitCount );\n            }\n            finally {\n                glExt.vertexAttribDivisorANGLE( attribs.inViewportXMins, 0 );\n                gl.disableVertexAttribArray( attribs.inViewportXMins );\n                gl.disableVertexAttribArray( attribs.inVerticesB );\n                gl.disableVertexAttribArray( attribs.inVerticesA );\n                gl.useProgram( null );\n            }\n        }\n    }\n\n    dispose( context: Context ): void {\n        // Device resources are all context-owned, and will get pruned automatically\n        this.disposersByDataKey.dispose( );\n    }\n}\n","const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!apply) {\n  apply = function (fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!freeze) {\n  freeze = function (x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function (x) {\n    return x;\n  };\n}\n\nif (!construct) {\n  construct = function (Func, args) {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\nexport function unapply(func) {\n  return (thisArg, ...args) => apply(func, thisArg, args);\n}\n\nexport function unconstruct(func) {\n  return (...args) => construct(func, args);\n}\n\n/* Add properties to a lookup table */\nexport function addToSet(set, array, transformCaseFunc) {\n  transformCaseFunc = transformCaseFunc ? transformCaseFunc : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/* Shallow clone an object */\nexport function clone(object) {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    newObject[property] = value;\n  }\n\n  return newObject;\n}\n\n/* This method automatically checks if the prop is function\n * or getter and behaves accordingly. */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue(element) {\n    console.warn('fallback value for', element);\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n};\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n]);\n\n// SVG\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n]);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n]);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'fedropshadow',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n]);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n]);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n]);\n\nexport const text = freeze(['#text']);\n","import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'xmlns',\n  'slot',\n]);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n]);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n]);\n","import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\n","import * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayPop,\n  arrayPush,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n} from './utils.js';\n\nconst getGlobal = () => (typeof window === 'undefined' ? null : window);\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {Document} document The document object (to determine policy name suffix)\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported).\n */\nconst _createTrustedTypesPolicy = function (trustedTypes, document) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (\n    document.currentScript &&\n    document.currentScript.hasAttribute(ATTR_NAME)\n  ) {\n    suffix = document.currentScript.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nfunction createDOMPurify(window = getGlobal()) {\n  const DOMPurify = (root) => createDOMPurify(root);\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = VERSION;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (!window || !window.document || window.document.nodeType !== 9) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  const originalDocument = window.document;\n\n  let { document } = window;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  const trustedTypesPolicy = _createTrustedTypesPolicy(\n    trustedTypes,\n    originalDocument\n  );\n  const emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    typeof implementation.createHTMLDocument !== 'undefined';\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? (PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE)\n        : (PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE);\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS =\n      'ALLOWED_TAGS' in cfg\n        ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n        : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR =\n      'ALLOWED_ATTR' in cfg\n        ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n        : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES =\n      'ALLOWED_NAMESPACES' in cfg\n        ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n        : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES =\n      'ADD_URI_SAFE_ATTR' in cfg\n        ? addToSet(\n            clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n            cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n            transformCaseFunc // eslint-disable-line indent\n          ) // eslint-disable-line indent\n        : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS =\n      'ADD_DATA_URI_TAGS' in cfg\n        ? addToSet(\n            clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n            cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n            transformCaseFunc // eslint-disable-line indent\n          ) // eslint-disable-line indent\n        : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS =\n      'FORBID_CONTENTS' in cfg\n        ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n        : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS =\n      'FORBID_TAGS' in cfg\n        ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n        : {};\n    FORBID_ATTR =\n      'FORBID_ATTR' in cfg\n        ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n        : {};\n    USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, [...TAGS.text]);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  const HTML_INTEGRATION_POINTS = addToSet({}, [\n    'foreignobject',\n    'desc',\n    'title',\n    'annotation-xml',\n  ]);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, TAGS.svg);\n  addToSet(ALL_SVG_TAGS, TAGS.svgFilters);\n  addToSet(ALL_SVG_TAGS, TAGS.svgDisallowed);\n\n  const ALL_MATHML_TAGS = addToSet({}, TAGS.mathMl);\n  addToSet(ALL_MATHML_TAGS, TAGS.mathMlDisallowed);\n\n  /**\n   *\n   *\n   * @param  {Element} element a DOM element whose namespace is being checked\n   * @returns {boolean} Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element) {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  const _forceRemove = function (node) {\n    arrayPush(DOMPurify.removed, { element: node });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      node.parentNode.removeChild(node);\n    } catch (_) {\n      node.remove();\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  const _removeAttribute = function (name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node,\n      });\n    }\n\n    node.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\"\" attributes\n    if (name === 'is' && !ALLOWED_ATTR[name]) {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(node);\n        } catch (_) {}\n      } else {\n        try {\n          node.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty) {\n    /* Create a HTML document */\n    let doc;\n    let leadingWhitespace;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * _createIterator\n   *\n   * @param  {Document} root document/fragment to create iterator for\n   * @return {Iterator} iterator instance\n   */\n  const _createIterator = function (root) {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT,\n      null,\n      false\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  const _isClobbered = function (elm) {\n    return (\n      elm instanceof HTMLFormElement &&\n      (typeof elm.nodeName !== 'string' ||\n        typeof elm.textContent !== 'string' ||\n        typeof elm.removeChild !== 'function' ||\n        !(elm.attributes instanceof NamedNodeMap) ||\n        typeof elm.removeAttribute !== 'function' ||\n        typeof elm.setAttribute !== 'function' ||\n        typeof elm.namespaceURI !== 'string' ||\n        typeof elm.insertBefore !== 'function' ||\n        typeof elm.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * _isNode\n   *\n   * @param  {Node} obj object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  const _isNode = function (object) {\n    return typeof Node === 'object'\n      ? object instanceof Node\n      : object &&\n          typeof object === 'object' &&\n          typeof object.nodeType === 'number' &&\n          typeof object.nodeName === 'string';\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  const _executeHook = function (entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    arrayForEach(hooks[entryPoint], (hook) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode) {\n    let content;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      (!_isNode(currentNode.content) ||\n        !_isNode(currentNode.content.firstElementChild)) &&\n      regExpTest(/<[/\\w]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        )\n          return false;\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        )\n          return false;\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            parentNode.insertBefore(\n              cloneNode(childNodes[i], true),\n              getNextSibling(currentNode)\n            );\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get noscript mXSS */\n    if (\n      (tagName === 'noscript' || tagName === 'noembed') &&\n      regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      content = stringReplace(content, MUSTACHE_EXPR, ' ');\n      content = stringReplace(content, ERB_EXPR, ' ');\n      content = stringReplace(content, TMPLIT_EXPR, ' ');\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_basicCustomElementTest(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n      // eslint-disable-next-line no-negated-condition\n    } else if (!value) {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    } else {\n      return false;\n    }\n\n    return true;\n  };\n\n  /**\n   * _basicCustomElementCheck\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   * @param {string} tagName name of the tag of the node to sanitize\n   */\n  const _basicCustomElementTest = function (tagName) {\n    return tagName.indexOf('-') > 0;\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode) {\n    let attr;\n    let value;\n    let lcName;\n    let l;\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n    };\n    l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      attr = attributes[l];\n      const { name, namespaceURI } = attr;\n      value = name === 'value' ? attr.value : stringTrim(attr.value);\n      lcName = transformCaseFunc(name);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        value = stringReplace(value, MUSTACHE_EXPR, ' ');\n        value = stringReplace(value, ERB_EXPR, ' ');\n        value = stringReplace(value, TMPLIT_EXPR, ' ');\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            case 'TrustedScriptURL':\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            default:\n              break;\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        arrayPop(DOMPurify.removed);\n      } catch (_) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment) {\n    let shadowNode;\n    const shadowIterator = _createIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} configuration object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body;\n    let importedNode;\n    let currentNode;\n    let returnNode;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      // eslint-disable-next-line no-negated-condition\n      if (typeof dirty.toString !== 'function') {\n        throw typeErrorCreate('toString is not a function');\n      } else {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmod) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n      serializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n      serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR, ' ');\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function (cfg) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {string} tag Tag name of containing element.\n   * @param  {string} attr Attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   * @return {Function} removed(popped) hook\n   */\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      return arrayPop(hooks[entryPoint]);\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   *\n   */\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n","'use strict';\n\nmodule.exports = Point;\n\n/**\n * A standalone point geometry with useful accessor, comparison, and\n * modification methods.\n *\n * @class Point\n * @param {Number} x the x-coordinate. this could be longitude or screen\n * pixels, or any other sort of unit.\n * @param {Number} y the y-coordinate. this could be latitude or screen\n * pixels, or any other sort of unit.\n * @example\n * var point = new Point(-77, 38);\n */\nfunction Point(x, y) {\n    this.x = x;\n    this.y = y;\n}\n\nPoint.prototype = {\n\n    /**\n     * Clone this point, returning a new point that can be modified\n     * without affecting the old one.\n     * @return {Point} the clone\n     */\n    clone: function() { return new Point(this.x, this.y); },\n\n    /**\n     * Add this point's x & y coordinates to another point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    add:     function(p) { return this.clone()._add(p); },\n\n    /**\n     * Subtract this point's x & y coordinates to from point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    sub:     function(p) { return this.clone()._sub(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    multByPoint:    function(p) { return this.clone()._multByPoint(p); },\n\n    /**\n     * Divide this point's x & y coordinates by point,\n     * yielding a new point.\n     * @param {Point} p the other point\n     * @return {Point} output point\n     */\n    divByPoint:     function(p) { return this.clone()._divByPoint(p); },\n\n    /**\n     * Multiply this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    mult:    function(k) { return this.clone()._mult(k); },\n\n    /**\n     * Divide this point's x & y coordinates by a factor,\n     * yielding a new point.\n     * @param {Point} k factor\n     * @return {Point} output point\n     */\n    div:     function(k) { return this.clone()._div(k); },\n\n    /**\n     * Rotate this point around the 0, 0 origin by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @return {Point} output point\n     */\n    rotate:  function(a) { return this.clone()._rotate(a); },\n\n    /**\n     * Rotate this point around p point by an angle a,\n     * given in radians\n     * @param {Number} a angle to rotate around, in radians\n     * @param {Point} p Point to rotate around\n     * @return {Point} output point\n     */\n    rotateAround:  function(a,p) { return this.clone()._rotateAround(a,p); },\n\n    /**\n     * Multiply this point by a 4x1 transformation matrix\n     * @param {Array<Number>} m transformation matrix\n     * @return {Point} output point\n     */\n    matMult: function(m) { return this.clone()._matMult(m); },\n\n    /**\n     * Calculate this point but as a unit vector from 0, 0, meaning\n     * that the distance from the resulting point to the 0, 0\n     * coordinate will be equal to 1 and the angle from the resulting\n     * point to the 0, 0 coordinate will be the same as before.\n     * @return {Point} unit vector point\n     */\n    unit:    function() { return this.clone()._unit(); },\n\n    /**\n     * Compute a perpendicular point, where the new y coordinate\n     * is the old x coordinate and the new x coordinate is the old y\n     * coordinate multiplied by -1\n     * @return {Point} perpendicular point\n     */\n    perp:    function() { return this.clone()._perp(); },\n\n    /**\n     * Return a version of this point with the x & y coordinates\n     * rounded to integers.\n     * @return {Point} rounded point\n     */\n    round:   function() { return this.clone()._round(); },\n\n    /**\n     * Return the magitude of this point: this is the Euclidean\n     * distance from the 0, 0 coordinate to this point's x and y\n     * coordinates.\n     * @return {Number} magnitude\n     */\n    mag: function() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n\n    /**\n     * Judge whether this point is equal to another point, returning\n     * true or false.\n     * @param {Point} other the other point\n     * @return {boolean} whether the points are equal\n     */\n    equals: function(other) {\n        return this.x === other.x &&\n               this.y === other.y;\n    },\n\n    /**\n     * Calculate the distance from this point to another point\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    dist: function(p) {\n        return Math.sqrt(this.distSqr(p));\n    },\n\n    /**\n     * Calculate the distance from this point to another point,\n     * without the square root step. Useful if you're comparing\n     * relative distances.\n     * @param {Point} p the other point\n     * @return {Number} distance\n     */\n    distSqr: function(p) {\n        var dx = p.x - this.x,\n            dy = p.y - this.y;\n        return dx * dx + dy * dy;\n    },\n\n    /**\n     * Get the angle from the 0, 0 coordinate to this point, in radians\n     * coordinates.\n     * @return {Number} angle\n     */\n    angle: function() {\n        return Math.atan2(this.y, this.x);\n    },\n\n    /**\n     * Get the angle from this point to another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleTo: function(b) {\n        return Math.atan2(this.y - b.y, this.x - b.x);\n    },\n\n    /**\n     * Get the angle between this point and another point, in radians\n     * @param {Point} b the other point\n     * @return {Number} angle\n     */\n    angleWith: function(b) {\n        return this.angleWithSep(b.x, b.y);\n    },\n\n    /*\n     * Find the angle of the two vectors, solving the formula for\n     * the cross product a x b = |a||b|sin() for .\n     * @param {Number} x the x-coordinate\n     * @param {Number} y the y-coordinate\n     * @return {Number} the angle in radians\n     */\n    angleWithSep: function(x, y) {\n        return Math.atan2(\n            this.x * y - this.y * x,\n            this.x * x + this.y * y);\n    },\n\n    _matMult: function(m) {\n        var x = m[0] * this.x + m[1] * this.y,\n            y = m[2] * this.x + m[3] * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _add: function(p) {\n        this.x += p.x;\n        this.y += p.y;\n        return this;\n    },\n\n    _sub: function(p) {\n        this.x -= p.x;\n        this.y -= p.y;\n        return this;\n    },\n\n    _mult: function(k) {\n        this.x *= k;\n        this.y *= k;\n        return this;\n    },\n\n    _div: function(k) {\n        this.x /= k;\n        this.y /= k;\n        return this;\n    },\n\n    _multByPoint: function(p) {\n        this.x *= p.x;\n        this.y *= p.y;\n        return this;\n    },\n\n    _divByPoint: function(p) {\n        this.x /= p.x;\n        this.y /= p.y;\n        return this;\n    },\n\n    _unit: function() {\n        this._div(this.mag());\n        return this;\n    },\n\n    _perp: function() {\n        var y = this.y;\n        this.y = this.x;\n        this.x = -y;\n        return this;\n    },\n\n    _rotate: function(angle) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = cos * this.x - sin * this.y,\n            y = sin * this.x + cos * this.y;\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _rotateAround: function(angle, p) {\n        var cos = Math.cos(angle),\n            sin = Math.sin(angle),\n            x = p.x + cos * (this.x - p.x) - sin * (this.y - p.y),\n            y = p.y + sin * (this.x - p.x) + cos * (this.y - p.y);\n        this.x = x;\n        this.y = y;\n        return this;\n    },\n\n    _round: function() {\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        return this;\n    }\n};\n\n/**\n * Construct a point from an array if necessary, otherwise if the input\n * is already a Point, or an unknown type, return it unchanged\n * @param {Array<Number>|Point|*} a any kind of input value\n * @return {Point} constructed point, or passed-through value.\n * @example\n * // this\n * var point = Point.convert([0, 1]);\n * // is equivalent to\n * var point = new Point(0, 1);\n */\nPoint.convert = function (a) {\n    if (a instanceof Point) {\n        return a;\n    }\n    if (Array.isArray(a)) {\n        return new Point(a[0], a[1]);\n    }\n    return a;\n};\n","'use strict';\n\nvar Point = require('@mapbox/point-geometry');\n\nmodule.exports = VectorTileFeature;\n\nfunction VectorTileFeature(pbf, end, extent, keys, values) {\n    // Public\n    this.properties = {};\n    this.extent = extent;\n    this.type = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._geometry = -1;\n    this._keys = keys;\n    this._values = values;\n\n    pbf.readFields(readFeature, this, end);\n}\n\nfunction readFeature(tag, feature, pbf) {\n    if (tag == 1) feature.id = pbf.readVarint();\n    else if (tag == 2) readTag(pbf, feature);\n    else if (tag == 3) feature.type = pbf.readVarint();\n    else if (tag == 4) feature._geometry = pbf.pos;\n}\n\nfunction readTag(pbf, feature) {\n    var end = pbf.readVarint() + pbf.pos;\n\n    while (pbf.pos < end) {\n        var key = feature._keys[pbf.readVarint()],\n            value = feature._values[pbf.readVarint()];\n        feature.properties[key] = value;\n    }\n}\n\nVectorTileFeature.types = ['Unknown', 'Point', 'LineString', 'Polygon'];\n\nVectorTileFeature.prototype.loadGeometry = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        lines = [],\n        line;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n\n            if (cmd === 1) { // moveTo\n                if (line) lines.push(line);\n                line = [];\n            }\n\n            line.push(new Point(x, y));\n\n        } else if (cmd === 7) {\n\n            // Workaround for https://github.com/mapbox/mapnik-vector-tile/issues/90\n            if (line) {\n                line.push(line[0].clone()); // closePolygon\n            }\n\n        } else {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    if (line) lines.push(line);\n\n    return lines;\n};\n\nVectorTileFeature.prototype.bbox = function() {\n    var pbf = this._pbf;\n    pbf.pos = this._geometry;\n\n    var end = pbf.readVarint() + pbf.pos,\n        cmd = 1,\n        length = 0,\n        x = 0,\n        y = 0,\n        x1 = Infinity,\n        x2 = -Infinity,\n        y1 = Infinity,\n        y2 = -Infinity;\n\n    while (pbf.pos < end) {\n        if (length <= 0) {\n            var cmdLen = pbf.readVarint();\n            cmd = cmdLen & 0x7;\n            length = cmdLen >> 3;\n        }\n\n        length--;\n\n        if (cmd === 1 || cmd === 2) {\n            x += pbf.readSVarint();\n            y += pbf.readSVarint();\n            if (x < x1) x1 = x;\n            if (x > x2) x2 = x;\n            if (y < y1) y1 = y;\n            if (y > y2) y2 = y;\n\n        } else if (cmd !== 7) {\n            throw new Error('unknown command ' + cmd);\n        }\n    }\n\n    return [x1, y1, x2, y2];\n};\n\nVectorTileFeature.prototype.toGeoJSON = function(x, y, z) {\n    var size = this.extent * Math.pow(2, z),\n        x0 = this.extent * x,\n        y0 = this.extent * y,\n        coords = this.loadGeometry(),\n        type = VectorTileFeature.types[this.type],\n        i, j;\n\n    function project(line) {\n        for (var j = 0; j < line.length; j++) {\n            var p = line[j], y2 = 180 - (p.y + y0) * 360 / size;\n            line[j] = [\n                (p.x + x0) * 360 / size - 180,\n                360 / Math.PI * Math.atan(Math.exp(y2 * Math.PI / 180)) - 90\n            ];\n        }\n    }\n\n    switch (this.type) {\n    case 1:\n        var points = [];\n        for (i = 0; i < coords.length; i++) {\n            points[i] = coords[i][0];\n        }\n        coords = points;\n        project(coords);\n        break;\n\n    case 2:\n        for (i = 0; i < coords.length; i++) {\n            project(coords[i]);\n        }\n        break;\n\n    case 3:\n        coords = classifyRings(coords);\n        for (i = 0; i < coords.length; i++) {\n            for (j = 0; j < coords[i].length; j++) {\n                project(coords[i][j]);\n            }\n        }\n        break;\n    }\n\n    if (coords.length === 1) {\n        coords = coords[0];\n    } else {\n        type = 'Multi' + type;\n    }\n\n    var result = {\n        type: \"Feature\",\n        geometry: {\n            type: type,\n            coordinates: coords\n        },\n        properties: this.properties\n    };\n\n    if ('id' in this) {\n        result.id = this.id;\n    }\n\n    return result;\n};\n\n// classifies an array of rings into polygons with outer rings and holes\n\nfunction classifyRings(rings) {\n    var len = rings.length;\n\n    if (len <= 1) return [rings];\n\n    var polygons = [],\n        polygon,\n        ccw;\n\n    for (var i = 0; i < len; i++) {\n        var area = signedArea(rings[i]);\n        if (area === 0) continue;\n\n        if (ccw === undefined) ccw = area < 0;\n\n        if (ccw === area < 0) {\n            if (polygon) polygons.push(polygon);\n            polygon = [rings[i]];\n\n        } else {\n            polygon.push(rings[i]);\n        }\n    }\n    if (polygon) polygons.push(polygon);\n\n    return polygons;\n}\n\nfunction signedArea(ring) {\n    var sum = 0;\n    for (var i = 0, len = ring.length, j = len - 1, p1, p2; i < len; j = i++) {\n        p1 = ring[i];\n        p2 = ring[j];\n        sum += (p2.x - p1.x) * (p1.y + p2.y);\n    }\n    return sum;\n}\n","'use strict';\n\nvar VectorTileFeature = require('./vectortilefeature.js');\n\nmodule.exports = VectorTileLayer;\n\nfunction VectorTileLayer(pbf, end) {\n    // Public\n    this.version = 1;\n    this.name = null;\n    this.extent = 4096;\n    this.length = 0;\n\n    // Private\n    this._pbf = pbf;\n    this._keys = [];\n    this._values = [];\n    this._features = [];\n\n    pbf.readFields(readLayer, this, end);\n\n    this.length = this._features.length;\n}\n\nfunction readLayer(tag, layer, pbf) {\n    if (tag === 15) layer.version = pbf.readVarint();\n    else if (tag === 1) layer.name = pbf.readString();\n    else if (tag === 5) layer.extent = pbf.readVarint();\n    else if (tag === 2) layer._features.push(pbf.pos);\n    else if (tag === 3) layer._keys.push(pbf.readString());\n    else if (tag === 4) layer._values.push(readValueMessage(pbf));\n}\n\nfunction readValueMessage(pbf) {\n    var value = null,\n        end = pbf.readVarint() + pbf.pos;\n\n    while (pbf.pos < end) {\n        var tag = pbf.readVarint() >> 3;\n\n        value = tag === 1 ? pbf.readString() :\n            tag === 2 ? pbf.readFloat() :\n            tag === 3 ? pbf.readDouble() :\n            tag === 4 ? pbf.readVarint64() :\n            tag === 5 ? pbf.readVarint() :\n            tag === 6 ? pbf.readSVarint() :\n            tag === 7 ? pbf.readBoolean() : null;\n    }\n\n    return value;\n}\n\n// return feature `i` from this layer as a `VectorTileFeature`\nVectorTileLayer.prototype.feature = function(i) {\n    if (i < 0 || i >= this._features.length) throw new Error('feature index out of bounds');\n\n    this._pbf.pos = this._features[i];\n\n    var end = this._pbf.readVarint() + this._pbf.pos;\n    return new VectorTileFeature(this._pbf, end, this.extent, this._keys, this._values);\n};\n","'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 32767 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim | 0);\n            triangles.push(ear.i / dim | 0);\n            triangles.push(next.i / dim | 0);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    var p = c.next;\n    while (p !== a) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(x0, y0, minX, minY, invSize),\n        maxZ = zOrder(x1, y1, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim | 0);\n            triangles.push(p.i / dim | 0);\n            triangles.push(b.i / dim | 0);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize, 0);\n                earcutLinked(c, triangles, dim, minX, minY, invSize, 0);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    var bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    var bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    filterPoints(bridgeReverse, bridgeReverse.next);\n    return filterPoints(bridge, bridge.next);\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                m = p.x < p.next.x ? p : p.next;\n                if (x === hx) return m; // hole touches outer segment; pick leftmost endpoint\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === 0) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = (x - minX) * invSize | 0;\n    y = (y - minY) * invSize | 0;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) >= (ax - px) * (cy - py) &&\n           (ax - px) * (by - py) >= (bx - px) * (ay - py) &&\n           (bx - px) * (cy - py) >= (cx - px) * (by - py);\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = 0;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n","'use strict';\n\nmodule.exports = Pbf;\n\nvar ieee754 = require('ieee754');\n\nfunction Pbf(buf) {\n    this.buf = ArrayBuffer.isView && ArrayBuffer.isView(buf) ? buf : new Uint8Array(buf || 0);\n    this.pos = 0;\n    this.type = 0;\n    this.length = this.buf.length;\n}\n\nPbf.Varint  = 0; // varint: int32, int64, uint32, uint64, sint32, sint64, bool, enum\nPbf.Fixed64 = 1; // 64-bit: double, fixed64, sfixed64\nPbf.Bytes   = 2; // length-delimited: string, bytes, embedded messages, packed repeated fields\nPbf.Fixed32 = 5; // 32-bit: float, fixed32, sfixed32\n\nvar SHIFT_LEFT_32 = (1 << 16) * (1 << 16),\n    SHIFT_RIGHT_32 = 1 / SHIFT_LEFT_32;\n\n// Threshold chosen based on both benchmarking and knowledge about browser string\n// data structures (which currently switch structure types at 12 bytes or more)\nvar TEXT_DECODER_MIN_LENGTH = 12;\nvar utf8TextDecoder = typeof TextDecoder === 'undefined' ? null : new TextDecoder('utf8');\n\nPbf.prototype = {\n\n    destroy: function() {\n        this.buf = null;\n    },\n\n    // === READING =================================================================\n\n    readFields: function(readField, result, end) {\n        end = end || this.length;\n\n        while (this.pos < end) {\n            var val = this.readVarint(),\n                tag = val >> 3,\n                startPos = this.pos;\n\n            this.type = val & 0x7;\n            readField(tag, result, this);\n\n            if (this.pos === startPos) this.skip(val);\n        }\n        return result;\n    },\n\n    readMessage: function(readField, result) {\n        return this.readFields(readField, result, this.readVarint() + this.pos);\n    },\n\n    readFixed32: function() {\n        var val = readUInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    readSFixed32: function() {\n        var val = readInt32(this.buf, this.pos);\n        this.pos += 4;\n        return val;\n    },\n\n    // 64-bit int handling is based on github.com/dpw/node-buffer-more-ints (MIT-licensed)\n\n    readFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readUInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readSFixed64: function() {\n        var val = readUInt32(this.buf, this.pos) + readInt32(this.buf, this.pos + 4) * SHIFT_LEFT_32;\n        this.pos += 8;\n        return val;\n    },\n\n    readFloat: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 23, 4);\n        this.pos += 4;\n        return val;\n    },\n\n    readDouble: function() {\n        var val = ieee754.read(this.buf, this.pos, true, 52, 8);\n        this.pos += 8;\n        return val;\n    },\n\n    readVarint: function(isSigned) {\n        var buf = this.buf,\n            val, b;\n\n        b = buf[this.pos++]; val  =  b & 0x7f;        if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 7;  if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 14; if (b < 0x80) return val;\n        b = buf[this.pos++]; val |= (b & 0x7f) << 21; if (b < 0x80) return val;\n        b = buf[this.pos];   val |= (b & 0x0f) << 28;\n\n        return readVarintRemainder(val, isSigned, this);\n    },\n\n    readVarint64: function() { // for compatibility with v2.0.1\n        return this.readVarint(true);\n    },\n\n    readSVarint: function() {\n        var num = this.readVarint();\n        return num % 2 === 1 ? (num + 1) / -2 : num / 2; // zigzag encoding\n    },\n\n    readBoolean: function() {\n        return Boolean(this.readVarint());\n    },\n\n    readString: function() {\n        var end = this.readVarint() + this.pos;\n        var pos = this.pos;\n        this.pos = end;\n\n        if (end - pos >= TEXT_DECODER_MIN_LENGTH && utf8TextDecoder) {\n            // longer strings are fast with the built-in browser TextDecoder API\n            return readUtf8TextDecoder(this.buf, pos, end);\n        }\n        // short strings are fast with our custom implementation\n        return readUtf8(this.buf, pos, end);\n    },\n\n    readBytes: function() {\n        var end = this.readVarint() + this.pos,\n            buffer = this.buf.subarray(this.pos, end);\n        this.pos = end;\n        return buffer;\n    },\n\n    // verbose for performance reasons; doesn't affect gzipped size\n\n    readPackedVarint: function(arr, isSigned) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readVarint(isSigned));\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readVarint(isSigned));\n        return arr;\n    },\n    readPackedSVarint: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSVarint());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSVarint());\n        return arr;\n    },\n    readPackedBoolean: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readBoolean());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readBoolean());\n        return arr;\n    },\n    readPackedFloat: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFloat());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFloat());\n        return arr;\n    },\n    readPackedDouble: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readDouble());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readDouble());\n        return arr;\n    },\n    readPackedFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed32());\n        return arr;\n    },\n    readPackedSFixed32: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed32());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed32());\n        return arr;\n    },\n    readPackedFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readFixed64());\n        return arr;\n    },\n    readPackedSFixed64: function(arr) {\n        if (this.type !== Pbf.Bytes) return arr.push(this.readSFixed64());\n        var end = readPackedEnd(this);\n        arr = arr || [];\n        while (this.pos < end) arr.push(this.readSFixed64());\n        return arr;\n    },\n\n    skip: function(val) {\n        var type = val & 0x7;\n        if (type === Pbf.Varint) while (this.buf[this.pos++] > 0x7f) {}\n        else if (type === Pbf.Bytes) this.pos = this.readVarint() + this.pos;\n        else if (type === Pbf.Fixed32) this.pos += 4;\n        else if (type === Pbf.Fixed64) this.pos += 8;\n        else throw new Error('Unimplemented type: ' + type);\n    },\n\n    // === WRITING =================================================================\n\n    writeTag: function(tag, type) {\n        this.writeVarint((tag << 3) | type);\n    },\n\n    realloc: function(min) {\n        var length = this.length || 16;\n\n        while (length < this.pos + min) length *= 2;\n\n        if (length !== this.length) {\n            var buf = new Uint8Array(length);\n            buf.set(this.buf);\n            this.buf = buf;\n            this.length = length;\n        }\n    },\n\n    finish: function() {\n        this.length = this.pos;\n        this.pos = 0;\n        return this.buf.subarray(0, this.length);\n    },\n\n    writeFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeSFixed32: function(val) {\n        this.realloc(4);\n        writeInt32(this.buf, val, this.pos);\n        this.pos += 4;\n    },\n\n    writeFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeSFixed64: function(val) {\n        this.realloc(8);\n        writeInt32(this.buf, val & -1, this.pos);\n        writeInt32(this.buf, Math.floor(val * SHIFT_RIGHT_32), this.pos + 4);\n        this.pos += 8;\n    },\n\n    writeVarint: function(val) {\n        val = +val || 0;\n\n        if (val > 0xfffffff || val < 0) {\n            writeBigVarint(val, this);\n            return;\n        }\n\n        this.realloc(4);\n\n        this.buf[this.pos++] =           val & 0x7f  | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] = ((val >>>= 7) & 0x7f) | (val > 0x7f ? 0x80 : 0); if (val <= 0x7f) return;\n        this.buf[this.pos++] =   (val >>> 7) & 0x7f;\n    },\n\n    writeSVarint: function(val) {\n        this.writeVarint(val < 0 ? -val * 2 - 1 : val * 2);\n    },\n\n    writeBoolean: function(val) {\n        this.writeVarint(Boolean(val));\n    },\n\n    writeString: function(str) {\n        str = String(str);\n        this.realloc(str.length * 4);\n\n        this.pos++; // reserve 1 byte for short string length\n\n        var startPos = this.pos;\n        // write the string directly to the buffer and see how much was written\n        this.pos = writeUtf8(this.buf, str, this.pos);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeFloat: function(val) {\n        this.realloc(4);\n        ieee754.write(this.buf, val, this.pos, true, 23, 4);\n        this.pos += 4;\n    },\n\n    writeDouble: function(val) {\n        this.realloc(8);\n        ieee754.write(this.buf, val, this.pos, true, 52, 8);\n        this.pos += 8;\n    },\n\n    writeBytes: function(buffer) {\n        var len = buffer.length;\n        this.writeVarint(len);\n        this.realloc(len);\n        for (var i = 0; i < len; i++) this.buf[this.pos++] = buffer[i];\n    },\n\n    writeRawMessage: function(fn, obj) {\n        this.pos++; // reserve 1 byte for short message length\n\n        // write the message directly to the buffer and see how much was written\n        var startPos = this.pos;\n        fn(obj, this);\n        var len = this.pos - startPos;\n\n        if (len >= 0x80) makeRoomForExtraLength(startPos, len, this);\n\n        // finally, write the message length in the reserved place and restore the position\n        this.pos = startPos - 1;\n        this.writeVarint(len);\n        this.pos += len;\n    },\n\n    writeMessage: function(tag, fn, obj) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeRawMessage(fn, obj);\n    },\n\n    writePackedVarint:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedVarint, arr);   },\n    writePackedSVarint:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSVarint, arr);  },\n    writePackedBoolean:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedBoolean, arr);  },\n    writePackedFloat:    function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFloat, arr);    },\n    writePackedDouble:   function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedDouble, arr);   },\n    writePackedFixed32:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed32, arr);  },\n    writePackedSFixed32: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed32, arr); },\n    writePackedFixed64:  function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedFixed64, arr);  },\n    writePackedSFixed64: function(tag, arr) { if (arr.length) this.writeMessage(tag, writePackedSFixed64, arr); },\n\n    writeBytesField: function(tag, buffer) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeBytes(buffer);\n    },\n    writeFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFixed32(val);\n    },\n    writeSFixed32Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeSFixed32(val);\n    },\n    writeFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeFixed64(val);\n    },\n    writeSFixed64Field: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeSFixed64(val);\n    },\n    writeVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeVarint(val);\n    },\n    writeSVarintField: function(tag, val) {\n        this.writeTag(tag, Pbf.Varint);\n        this.writeSVarint(val);\n    },\n    writeStringField: function(tag, str) {\n        this.writeTag(tag, Pbf.Bytes);\n        this.writeString(str);\n    },\n    writeFloatField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed32);\n        this.writeFloat(val);\n    },\n    writeDoubleField: function(tag, val) {\n        this.writeTag(tag, Pbf.Fixed64);\n        this.writeDouble(val);\n    },\n    writeBooleanField: function(tag, val) {\n        this.writeVarintField(tag, Boolean(val));\n    }\n};\n\nfunction readVarintRemainder(l, s, p) {\n    var buf = p.buf,\n        h, b;\n\n    b = buf[p.pos++]; h  = (b & 0x70) >> 4;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 3;  if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 10; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 17; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x7f) << 24; if (b < 0x80) return toNum(l, h, s);\n    b = buf[p.pos++]; h |= (b & 0x01) << 31; if (b < 0x80) return toNum(l, h, s);\n\n    throw new Error('Expected varint not more than 10 bytes');\n}\n\nfunction readPackedEnd(pbf) {\n    return pbf.type === Pbf.Bytes ?\n        pbf.readVarint() + pbf.pos : pbf.pos + 1;\n}\n\nfunction toNum(low, high, isSigned) {\n    if (isSigned) {\n        return high * 0x100000000 + (low >>> 0);\n    }\n\n    return ((high >>> 0) * 0x100000000) + (low >>> 0);\n}\n\nfunction writeBigVarint(val, pbf) {\n    var low, high;\n\n    if (val >= 0) {\n        low  = (val % 0x100000000) | 0;\n        high = (val / 0x100000000) | 0;\n    } else {\n        low  = ~(-val % 0x100000000);\n        high = ~(-val / 0x100000000);\n\n        if (low ^ 0xffffffff) {\n            low = (low + 1) | 0;\n        } else {\n            low = 0;\n            high = (high + 1) | 0;\n        }\n    }\n\n    if (val >= 0x10000000000000000 || val < -0x10000000000000000) {\n        throw new Error('Given varint doesn\\'t fit into 10 bytes');\n    }\n\n    pbf.realloc(10);\n\n    writeBigVarintLow(low, high, pbf);\n    writeBigVarintHigh(high, pbf);\n}\n\nfunction writeBigVarintLow(low, high, pbf) {\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos++] = low & 0x7f | 0x80; low >>>= 7;\n    pbf.buf[pbf.pos]   = low & 0x7f;\n}\n\nfunction writeBigVarintHigh(high, pbf) {\n    var lsb = (high & 0x07) << 4;\n\n    pbf.buf[pbf.pos++] |= lsb         | ((high >>>= 3) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f | ((high >>>= 7) ? 0x80 : 0); if (!high) return;\n    pbf.buf[pbf.pos++]  = high & 0x7f;\n}\n\nfunction makeRoomForExtraLength(startPos, len, pbf) {\n    var extraLen =\n        len <= 0x3fff ? 1 :\n        len <= 0x1fffff ? 2 :\n        len <= 0xfffffff ? 3 : Math.floor(Math.log(len) / (Math.LN2 * 7));\n\n    // if 1 byte isn't enough for encoding message length, shift the data to the right\n    pbf.realloc(extraLen);\n    for (var i = pbf.pos - 1; i >= startPos; i--) pbf.buf[i + extraLen] = pbf.buf[i];\n}\n\nfunction writePackedVarint(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeVarint(arr[i]);   }\nfunction writePackedSVarint(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeSVarint(arr[i]);  }\nfunction writePackedFloat(arr, pbf)    { for (var i = 0; i < arr.length; i++) pbf.writeFloat(arr[i]);    }\nfunction writePackedDouble(arr, pbf)   { for (var i = 0; i < arr.length; i++) pbf.writeDouble(arr[i]);   }\nfunction writePackedBoolean(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeBoolean(arr[i]);  }\nfunction writePackedFixed32(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed32(arr[i]);  }\nfunction writePackedSFixed32(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed32(arr[i]); }\nfunction writePackedFixed64(arr, pbf)  { for (var i = 0; i < arr.length; i++) pbf.writeFixed64(arr[i]);  }\nfunction writePackedSFixed64(arr, pbf) { for (var i = 0; i < arr.length; i++) pbf.writeSFixed64(arr[i]); }\n\n// Buffer code below from https://github.com/feross/buffer, MIT-licensed\n\nfunction readUInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] * 0x1000000);\n}\n\nfunction writeInt32(buf, val, pos) {\n    buf[pos] = val;\n    buf[pos + 1] = (val >>> 8);\n    buf[pos + 2] = (val >>> 16);\n    buf[pos + 3] = (val >>> 24);\n}\n\nfunction readInt32(buf, pos) {\n    return ((buf[pos]) |\n        (buf[pos + 1] << 8) |\n        (buf[pos + 2] << 16)) +\n        (buf[pos + 3] << 24);\n}\n\nfunction readUtf8(buf, pos, end) {\n    var str = '';\n    var i = pos;\n\n    while (i < end) {\n        var b0 = buf[i];\n        var c = null; // codepoint\n        var bytesPerSequence =\n            b0 > 0xEF ? 4 :\n            b0 > 0xDF ? 3 :\n            b0 > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence > end) break;\n\n        var b1, b2, b3;\n\n        if (bytesPerSequence === 1) {\n            if (b0 < 0x80) {\n                c = b0;\n            }\n        } else if (bytesPerSequence === 2) {\n            b1 = buf[i + 1];\n            if ((b1 & 0xC0) === 0x80) {\n                c = (b0 & 0x1F) << 0x6 | (b1 & 0x3F);\n                if (c <= 0x7F) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 3) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0xC | (b1 & 0x3F) << 0x6 | (b2 & 0x3F);\n                if (c <= 0x7FF || (c >= 0xD800 && c <= 0xDFFF)) {\n                    c = null;\n                }\n            }\n        } else if (bytesPerSequence === 4) {\n            b1 = buf[i + 1];\n            b2 = buf[i + 2];\n            b3 = buf[i + 3];\n            if ((b1 & 0xC0) === 0x80 && (b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n                c = (b0 & 0xF) << 0x12 | (b1 & 0x3F) << 0xC | (b2 & 0x3F) << 0x6 | (b3 & 0x3F);\n                if (c <= 0xFFFF || c >= 0x110000) {\n                    c = null;\n                }\n            }\n        }\n\n        if (c === null) {\n            c = 0xFFFD;\n            bytesPerSequence = 1;\n\n        } else if (c > 0xFFFF) {\n            c -= 0x10000;\n            str += String.fromCharCode(c >>> 10 & 0x3FF | 0xD800);\n            c = 0xDC00 | c & 0x3FF;\n        }\n\n        str += String.fromCharCode(c);\n        i += bytesPerSequence;\n    }\n\n    return str;\n}\n\nfunction readUtf8TextDecoder(buf, pos, end) {\n    return utf8TextDecoder.decode(buf.subarray(pos, end));\n}\n\nfunction writeUtf8(buf, str, pos) {\n    for (var i = 0, c, lead; i < str.length; i++) {\n        c = str.charCodeAt(i); // code point\n\n        if (c > 0xD7FF && c < 0xE000) {\n            if (lead) {\n                if (c < 0xDC00) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                    lead = c;\n                    continue;\n                } else {\n                    c = lead - 0xD800 << 10 | c - 0xDC00 | 0x10000;\n                    lead = null;\n                }\n            } else {\n                if (c > 0xDBFF || (i + 1 === str.length)) {\n                    buf[pos++] = 0xEF;\n                    buf[pos++] = 0xBF;\n                    buf[pos++] = 0xBD;\n                } else {\n                    lead = c;\n                }\n                continue;\n            }\n        } else if (lead) {\n            buf[pos++] = 0xEF;\n            buf[pos++] = 0xBF;\n            buf[pos++] = 0xBD;\n            lead = null;\n        }\n\n        if (c < 0x80) {\n            buf[pos++] = c;\n        } else {\n            if (c < 0x800) {\n                buf[pos++] = c >> 0x6 | 0xC0;\n            } else {\n                if (c < 0x10000) {\n                    buf[pos++] = c >> 0xC | 0xE0;\n                } else {\n                    buf[pos++] = c >> 0x12 | 0xF0;\n                    buf[pos++] = c >> 0xC & 0x3F | 0x80;\n                }\n                buf[pos++] = c >> 0x6 & 0x3F | 0x80;\n            }\n            buf[pos++] = c & 0x3F | 0x80;\n        }\n    }\n    return pos;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { appendCssLink, createCssLink } from '@metsci/gleam-util';\n\nconst cssUrl = new URL( './defaults.css', import.meta.url );\nconst cssLink = createCssLink( cssUrl );\nexport function createGleamMvtDefaultStyle( ): HTMLLinkElement {\n    return <HTMLLinkElement>cssLink.cloneNode( true );\n}\n\nconst defaultStyle = appendCssLink( document.head, createGleamMvtDefaultStyle( ) );\nexport const gleamMvtDefaultStyleLoading = defaultStyle.loading;\nexport function removeGleamMvtDefaultStyle( ): void {\n    defaultStyle.loading.catch( e => {\n        if ( e.reason === 'DISPOSED' ) {\n            // The dispose call below is expected to trigger this\n        }\n        else {\n            throw e;\n        }\n    } );\n    defaultStyle.disposers.dispose( );\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { appendChild, Disposer, DisposerGroup, NormalCylindricalProjection } from '@metsci/gleam-util';\nimport DOMPurify from 'dompurify';\n\n/**\n * Table of contents for a set of tiles. This interface definition is based on\n * https://github.com/mapbox/tilejson-spec/blob/master/3.0.0/README.md, and is\n * augmented for ease of use with (1) other versions of the spec, and (2) real-\n * world tile sets.\n */\nexport interface TileSetToc {\n    tilejson: string;\n    tiles: Array<string>;\n\n    vector_layers?: Array<{\n        id: string;\n        minzoom: number;\n        maxzoom: number;\n        description: string;\n        fields: {\n            [ name: string ]: string;\n        };\n    }>;\n\n    name?: string;\n    description?: string;\n    version?: string;\n    attribution?: string;\n\n    formatter?: string;\n    template?: string;\n    legend?: string;\n    scheme?: string;\n\n    grids?: Array<string>;\n    data?: Array<string>;\n    resolution?: number;\n    minzoom?: number;\n    maxzoom?: number;\n    bounds?: [\n        westLon_DEG: number,\n        southLat_DEG: number,\n        eastLon_DEG: number,\n        northLat_DEG: number,\n    ];\n    center?: [\n        lon_DEG: number,\n        lat_DEG: number,\n        zoomLevel: number,\n    ];\n\n    crs?: string;\n    crs_wkt?: string;\n    extent?: Array<number>;\n    [ name: string ]: unknown;\n}\n\nexport const TOC_DEFAULT_BOUNDS = [ -180, -85.05112877980659, 180, 85.0511287798066 ] as const;\nexport const TOC_DEFAULT_SCHEME = 'xyz' as const;\nexport const TOC_DEFAULT_MINZOOM = 0;\nexport const TOC_DEFAULT_MAXZOOM = 30;\nexport const TOC_DEFAULT_CRS = 'EPSG:3857';\n\nexport async function fetchTileSetToc( url: string, reqInit: RequestInit ): Promise<TileSetToc> {\n    const resp = await self.fetch( new Request( url, reqInit ) );\n    if ( resp.status !== 200 ) {\n        throw new Error( `Fetch failed: url = ${resp.url}, status = ${resp.status} (${resp.statusText})` );\n    }\n    return await resp.json( ) as TileSetToc;\n}\n\nexport function areProjectionsCompatible( proj: NormalCylindricalProjection, toc: { crs?: string } ): boolean {\n    const tocCrsKey = ( toc.crs ?? TOC_DEFAULT_CRS ).toUpperCase( );\n    return proj.compatibleCrsKeys.has( tocCrsKey );\n}\n\nexport function addMvtAttributionElement( parent: Node, tocPromise: Promise<TileSetToc> ): Disposer {\n    const disposers = new DisposerGroup( );\n\n    let alreadyDisposed = false;\n    disposers.add( ( ) => {\n        alreadyDisposed = true;\n    } );\n\n    tocPromise.then( toc => {\n        if ( !alreadyDisposed && toc.attribution ) {\n            const attributionDiv = document.createElement( 'div' );\n            attributionDiv.classList.add( 'mvt-attribution' );\n            attributionDiv.innerHTML = DOMPurify.sanitize( toc.attribution );\n            disposers.add( appendChild( parent, attributionDiv ) );\n        }\n    } );\n\n    return disposers;\n}\n\nexport const FEATURE_TYPE_UNKNOWN = 0 as const;\nexport const FEATURE_TYPE_POINT = 1 as const;\nexport const FEATURE_TYPE_LINE = 2 as const;\nexport const FEATURE_TYPE_POLYGON = 3 as const;\nexport type FeatureType = typeof FEATURE_TYPE_UNKNOWN | typeof FEATURE_TYPE_POINT | typeof FEATURE_TYPE_LINE | typeof FEATURE_TYPE_POLYGON;\n\nexport interface TileIndex {\n    zoomLevel: number;\n    columnIndex: number;\n    rowIndex: number;\n}\n\nexport interface TileEntryPending {\n    status: 'pending';\n    tileIndex: TileIndex;\n    tileUrl: string;\n    expiresAfterFrameNum: number;\n    fetchController: AbortController;\n}\nexport interface TileEntryReady {\n    status: 'ready';\n    tileIndex: TileIndex;\n    tileUrl: string;\n    expiresAfterFrameNum: number | undefined;\n    renderGroups: RenderGroupsMap;\n}\nexport interface TileEntryUnavailable {\n    status: 'unavailable';\n    tileIndex: TileIndex;\n    tileUrl: string;\n    expiresAfterTime_PMILLIS: number;\n}\nexport type TileEntry = TileEntryPending | TileEntryReady | TileEntryUnavailable;\n\nexport interface TilesViewport {\n    z: number;\n\n    cMin: number;\n    cMax: number;\n    cCenter: number;\n\n    rMin: number;\n    rMax: number;\n    rCenter: number;\n}\n\nexport interface RenderGroupsMap {\n    lineGroupsByStem: Map<string,Array<RenderGroupLines>>;\n    polygonGroupsByStem: Map<string,Array<RenderGroupPolygons>>;\n}\n\nexport interface RenderGroupLines {\n    extent: number;\n    coords: LineCoords;\n}\nexport interface LineCoords {\n    /**\n     * Coords: x_STEPS, y_STEPS, dxForward_STEPS (unnormalized), dyForward_STEPS (unnormalized)\n     */\n    triangleCoords4: Int16Array;\n    triangleVertexCount: number;\n\n    /**\n     * Coords: x_STEPS, y_STEPS\n     */\n    pointCoords2: Int16Array;\n    pointVertexCount: number;\n}\n\nexport interface RenderGroupPolygons {\n    extent: number;\n    coords: PolygonCoords;\n}\nexport interface PolygonCoords {\n    /**\n     * x_STEPS, y_STEPS\n     */\n    triangleCoords2: Int16Array;\n    triangleVertexCount: number;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { VectorTile, VectorTileFeature, VectorTileLayer } from '@mapbox/vector-tile';\nimport { Comparator, isDefined, mod, Supplier, wrapDelta } from '@metsci/gleam-util';\nimport earcut from 'earcut';\nimport Pbf from 'pbf';\nimport quickselect from 'quickselect';\nimport { FEATURE_TYPE_LINE, FEATURE_TYPE_POINT, FEATURE_TYPE_POLYGON, LineCoords, PolygonCoords, RenderGroupLines, RenderGroupPolygons, RenderGroupsMap, TileIndex, TilesViewport } from '../support';\n\nconst { abs, pow } = Math;\n\n/**\n * Orders zoom levels:\n *  - 0\n *  - zView\n *  - zView - 1\n *  - zView - 2\n *  - ...\n *  - 1\n *  - Levels outside of [0,zView]\n */\nexport function createZoomLevelComparator( zView: number ): Comparator<number> {\n    return ( a, b ) => {\n        if ( a === b ) return 0;\n\n        // Level zero gets highest priority\n        if ( a === 0 ) return -1;\n        if ( b === 0 ) return -1;\n\n        // Munge out-of-range levels so they end up with low priority\n        if ( a < 0 || a > zView ) {\n            a = -abs( a - zView );\n        }\n        if ( b < 0 || b > zView ) {\n            b = -abs( b - zView );\n        }\n\n        // Decreasing order from zCurr to 1\n        return ( b - a );\n    };\n}\n\nexport function createTileIndexComparator( view: TilesViewport ): Comparator<TileIndex> {\n    const compareZoomLevels = createZoomLevelComparator( view.z );\n    return ( a, b ) => {\n        const zComparison = compareZoomLevels( a.zoomLevel, b.zoomLevel );\n        if ( zComparison !== 0 ) return zComparison;\n\n        // Tiles whose centers are near the view center get higher priority\n        const zAB = a.zoomLevel;\n        const zAdjustFactor = pow( 2, zAB - view.z );\n        const cCount = 1 << view.z;\n        const cCenter = mod( view.cCenter * zAdjustFactor, cCount );\n        const rCenter = view.rCenter * zAdjustFactor;\n        const cDeltaA = wrapDelta( a.columnIndex - cCenter, cCount );\n        const cDeltaB = wrapDelta( b.columnIndex - cCenter, cCount );\n        const rDeltaA = a.rowIndex - rCenter;\n        const rDeltaB = b.rowIndex - rCenter;\n        const aDistSqFromCenter = cDeltaA*cDeltaA + rDeltaA*rDeltaA;\n        const bDistSqFromCenter = cDeltaB*cDeltaB + rDeltaB*rDeltaB;\n        return ( aDistSqFromCenter - bDistSqFromCenter );\n    };\n}\n\nexport interface WorkerCall {\n    callKey: unknown;\n    viewUpdate: TilesViewport;\n    queryArgs?: [ tileIndex: TileIndex, tileBuffer: Readonly<ArrayBuffer> ];\n}\n\nexport interface WorkerResult {\n    callKey: unknown;\n\n    /**\n     * Missing iff the query was preempted.\n     */\n    queryResult?: RenderGroupsMap;\n}\n\n// TODO: Wish we could take a getGroupStem fn arg, but a closure can't be passed to a worker\nexport function createRenderGroups( tileIndex: TileIndex, tileBuffer: Readonly<ArrayBuffer> ): RenderGroupsMap {\n    // Convert features into coord buffers\n    // TODO: Try parallelizing using a worker pool\n    const linesByExtentByStem = new Map<string,Map<number,Array<LineCoords>>>( );\n    const polygonsByExtentByStem = new Map<string,Map<number,Array<PolygonCoords>>>( );\n    const tile = new VectorTile( new Pbf( tileBuffer ) );\n    for ( const layer of Object.values( tile.layers ) ) {\n        for ( const feature of getLayerFeatures( layer ) ) {\n            const geometry = feature.loadGeometry( );\n            const stem = getGroupStem( tileIndex, layer, feature, geometry );\n            switch ( feature.type ) {\n                case FEATURE_TYPE_POINT: {\n                    // TODO: Support point features\n                }\n                break;\n\n                case FEATURE_TYPE_LINE: {\n                    const coords = getLineFeatureCoords( geometry );\n                    if ( coords.triangleCoords4.length > 0 || coords.pointCoords2.length > 0 ) {\n                        const linesByExtent = mapSetIfAbsent( linesByExtentByStem, stem, ( ) => new Map<number,Array<LineCoords>>( ) );\n                        const lines = mapSetIfAbsent( linesByExtent, feature.extent, ( ) => [] );\n                        lines.push( coords );\n                    }\n                }\n                break;\n\n                case FEATURE_TYPE_POLYGON: {\n                    const coords = getPolygonFeatureCoords( geometry, 500 );\n                    if ( coords.triangleCoords2.length > 0 ) {\n                        const polygonsByExtent = mapSetIfAbsent( polygonsByExtentByStem, stem, ( ) => new Map<number,Array<PolygonCoords>>( ) );\n                        const polygons = mapSetIfAbsent( polygonsByExtent, feature.extent, ( ) => [] );\n                        polygons.push( coords );\n                    }\n                }\n                break;\n            }\n        }\n    }\n\n    // Combine line coord buffers that are in the same group and have the same layer extent\n    const lineGroupsByStem = new Map<string,Array<RenderGroupLines>>( );\n    for ( const [ stem, coordsByLayerExtent ] of linesByExtentByStem ) {\n        for ( const [ extent, coords ] of coordsByLayerExtent ) {\n            const triangleCoords4 = concatInt16Arrays( coords.map( c => c.triangleCoords4 ) );\n            const pointCoords2 = concatInt16Arrays( coords.map( c => c.pointCoords2 ) );\n            mapSetIfAbsent( lineGroupsByStem, stem, ( ) => [] ).push( {\n                extent,\n                coords: {\n                    triangleCoords4,\n                    triangleVertexCount: triangleCoords4.length >>> 2,\n                    pointCoords2,\n                    pointVertexCount: pointCoords2.length >>> 1,\n                },\n            } );\n        }\n    }\n\n    // Combine polygon coord buffers that are in the same group and have the same layer extent\n    const polygonGroupsByStem = new Map<string,Array<RenderGroupPolygons>>( );\n    for ( const [ stem, coordsByLayerExtent ] of polygonsByExtentByStem ) {\n        for ( const [ extent, coords ] of coordsByLayerExtent ) {\n            const triangleCoords2 = concatInt16Arrays( coords.map( c => c.triangleCoords2 ) );\n            mapSetIfAbsent( polygonGroupsByStem, stem, ( ) => [] ).push( {\n                extent,\n                coords: {\n                    triangleCoords2,\n                    triangleVertexCount: triangleCoords2.length >>> 1,\n                },\n            } );\n        }\n    }\n\n    // Add a pseudo-feature for tile background, so high-res tiles won't\n    // have empty spots where a low-res tile underneath can show through\n    mapSetIfAbsent( polygonGroupsByStem, 'background', ( ) => [] ).push( {\n        extent: 1,\n        coords: {\n            triangleCoords2: new Int16Array( [\n                0,1, 0,0, 1,1,\n                1,1, 0,0, 1,0,\n            ] ),\n            triangleVertexCount: 6,\n        },\n    } );\n\n    return { lineGroupsByStem, polygonGroupsByStem };\n}\n\nfunction mapSetIfAbsent<K,V>( map: Map<K,V>, key: K, createValueFn: Supplier<V> ): V {\n    if ( !map.has( key ) ) {\n        map.set( key, createValueFn( ) );\n    }\n    return map.get( key )!;\n}\n\nfunction getLayerFeatures( layer: VectorTileLayer ): Array<VectorTileFeature> {\n    const result = new Array<VectorTileFeature>( );\n    for ( let i = 0; i < layer.length; i++ ) {\n        result.push( layer.feature( i ) );\n    }\n    return result;\n}\n\nexport type FeatureGeometry = Array<Array<{ x: number, y: number }>>;\n\n/**\n * Returns the stem of a CSS classname to be used when styling the given feature.\n * The full CSS classname will be the returned stem, plus a suffix based on the\n * feature type. For example, if this fn returns `landcover_sand` and the feature\n * is of type area, the CSS classname will be `landcover_sand_area`.\n */\nfunction getGroupStem( tileIndex: TileIndex, layer: VectorTileLayer, feature: VectorTileFeature, geometry: Readonly<FeatureGeometry> ): string {\n    const props = feature.properties;\n    const layerIs = ( layerName: string ): boolean => ( layer.name === layerName );\n    const classIs = ( className: string ): boolean => ( props.class === className );\n    const classHasAny = ( ...substrs: ReadonlyArray<string> ): boolean => strHasAny( props.class, substrs );\n    const classHas = ( substr: string ): boolean => classHasAny( substr );\n    const subclassHasAny = ( ...substrs: ReadonlyArray<string> ): boolean => strHasAny( props.subclass, substrs );\n    const isBridge = ( props.brunnel === 'bridge' );\n    const isTunnel = ( props.brunnel === 'tunnel' );\n    const isIntermittent = ( props.intermittent === 1 );\n    const isPolygon = ( feature.type === FEATURE_TYPE_POLYGON );\n\n    if ( layerIs( 'landcover' ) && classHas( 'sand' ) ) return 'landcover_sand';\n    if ( layerIs( 'landcover' ) && subclassHasAny( 'glacier', 'ice_shelf' ) ) return 'landcover_glacier';\n\n    if ( layerIs( 'water' ) && isIntermittent ) return 'water_intermittent';\n    if ( layerIs( 'water' ) && isTunnel ) return 'water_tunnel';\n    if ( layerIs( 'water' ) ) return 'water';\n\n    if ( layerIs( 'waterway' ) && isTunnel ) return 'waterway_tunnel';\n    if ( layerIs( 'waterway' ) && isBridge ) return 'waterway_bridge';\n    if ( layerIs( 'waterway' ) && isIntermittent ) return 'waterway_intermittent';\n    if ( layerIs( 'waterway' ) ) return 'waterway';\n\n    if ( layerIs( 'transportation' ) && classIs( 'pier' ) && isPolygon ) return 'road_area_pier';\n    if ( layerIs( 'transportation' ) && isBridge && isPolygon ) return 'road_area_bridge';\n    if ( layerIs( 'transportation' ) && classHas( 'pier' ) ) return 'road_pier';\n    if ( layerIs( 'transportation' ) && isBridge && classHasAny( 'primary', 'secondary', 'tertiary', 'trunk' ) ) return 'bridge';\n\n    if ( layerIs( 'boundary' ) && typeof props.admin_level === 'number' && props.admin_level <= 2 ) {\n        const { zoomLevel, columnIndex } = tileIndex;\n        const maxColumnIndex = ( 1 << zoomLevel ) - 1;\n        const { extent } = feature;\n        const xs = geometry.flat( ).map( p => p.x );\n        const isLeftEdge = ( columnIndex === 0 && xs.every( x => ( x <= 0 ) ) );\n        const isRightEdge = ( columnIndex === maxColumnIndex && xs.every( x => ( x >= extent ) ) );\n        const isAntimeridian = ( isLeftEdge || isRightEdge );\n        return `${ isAntimeridian ? 'antimeridian' : 'countryborder' }${ !!props.disputed ? '_disputed' : '' }${ !!props.maritime ? '_maritime' : '' }`;\n    }\n\n    return layer.name + ( props.class ? '_' + props.class : '' );\n}\n\nexport function strHasAny( str: string | unknown, substrs: ReadonlyArray<string> ): boolean {\n    if ( typeof str === 'string' ) {\n        for ( const substr of substrs ) {\n            if ( str.includes( substr ) ) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nexport function concatInt16Arrays( arrays: ReadonlyArray<Int16Array> ): Int16Array {\n    const count = arrays.reduce( ( sum, a ) => sum + a.length, 0 );\n    const result = new Int16Array( count );\n    let i = 0;\n    for ( const a of arrays ) {\n        result.set( a, i );\n        i += a.length;\n    }\n    return result;\n}\n\nexport function getLineFeatureCoords( lineStrips: ReadonlyArray<ReadonlyArray<{ x: number, y: number }>> ): LineCoords {\n    let lineCount = 0;\n    let pointCount = 0;\n    for ( const lineStrip of lineStrips ) {\n        if ( lineStrip.length > 0 ) {\n            lineCount += lineStrip.length - 1;\n            pointCount += lineStrip.length;\n        }\n    }\n    const triangleVertexCount = 2*3*lineCount;\n    const triangleCoords4 = new Int16Array( 4*triangleVertexCount );\n    const pointVertexCount = 1*pointCount;\n    const pointCoords2 = new Int16Array( 2*pointVertexCount );\n\n    let iTriangle = 0;\n    let iPoint = 0;\n    for ( const lineStrip of lineStrips ) {\n        for ( let i = 1; i < lineStrip.length; i++ ) {\n            const { x: x0, y: y0 } = lineStrip[ i-1 ];\n            const { x: x1, y: y1 } = lineStrip[ i+0 ];\n            const dxForward = x1 - x0;\n            const dyForward = y1 - y0;\n            iTriangle = put4s( triangleCoords4, iTriangle, x1, y1, -dxForward, -dyForward );\n            iTriangle = put4s( triangleCoords4, iTriangle, x0, y0, -dxForward, -dyForward );\n            iTriangle = put4s( triangleCoords4, iTriangle, x1, y1, +dxForward, +dyForward );\n            iTriangle = put4s( triangleCoords4, iTriangle, x1, y1, +dxForward, +dyForward );\n            iTriangle = put4s( triangleCoords4, iTriangle, x0, y0, -dxForward, -dyForward );\n            iTriangle = put4s( triangleCoords4, iTriangle, x0, y0, +dxForward, +dyForward );\n        }\n        for ( const { x, y } of lineStrip ) {\n            iPoint = put2s( pointCoords2, iPoint, x, y );\n        }\n    }\n    return { triangleCoords4, triangleVertexCount, pointCoords2, pointVertexCount };\n}\n\nfunction put2s( array: Int16Array, i: number, a: number, b: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    return i;\n}\n\nfunction put4s( array: Int16Array, i: number, a: number, b: number, c: number, d: number ): number {\n    array[ i++ ] = a;\n    array[ i++ ] = b;\n    array[ i++ ] = c;\n    array[ i++ ] = d;\n    return i;\n}\n\nexport function getPolygonFeatureCoords( rings: ReadonlyArray<ReadonlyArray<{ x: number, y: number }>>, polygonHoleLimit: number | undefined ): PolygonCoords {\n    type Xy = [ x: number, y: number ];\n    type Ring = { xys: Array<Xy>, signedArea: number };\n    type Polygon = Array<Ring>;\n\n    const rings2 = rings.map( ring => {\n        const xys: Array<Xy> = ring.map( p => [ p.x, p.y ] );\n        return { xys, signedArea: computeSignedArea( xys ) };\n    } );\n\n    // Convert the arbitrarily nested polygon (which could be e.g. an ocean containing an\n    // island containing a lake containing a smaller island) to a set of simpler polygons,\n    // each with a set of holes but no nested rings beyond that\n    const polygons = new Array<Polygon>( );\n    let currPolygon: Polygon | undefined = undefined;\n    let firstRingSignedArea: number | undefined = undefined;\n    for ( const ring of rings2 ) {\n        if ( ring.signedArea === 0 ) {\n            continue;\n        }\n        if ( firstRingSignedArea === undefined ) {\n            firstRingSignedArea = ring.signedArea;\n        }\n\n        if ( ( ring.signedArea < 0 ) !== ( firstRingSignedArea < 0 ) ) {\n            // Ring is a hole in the current polygon\n            currPolygon!.push( ring );\n        }\n        else {\n            // Ring starts a new polygon\n            if ( currPolygon ) {\n                polygons.push( currPolygon );\n            }\n            currPolygon = [ ring ];\n        }\n    }\n    if ( currPolygon ) {\n        polygons.push( currPolygon );\n    }\n\n    const triangles = new Array<number>( );\n    for ( let polygon of polygons ) {\n        // Earcut's worst-case complexity scales quadratically. In practice it's\n        // fast unless there are a large number of holes. ... Here we use the same\n        // workaround Mapbox does, which is to retain the N largest holes and\n        // discard the rest.\n        //\n        // When we discard a hole, we don't have enough information to recursively\n        // discard rings nested within it. Specifically, given two rings whose\n        // signed areas with the same sign, we can't tell whether they are siblings,\n        // or grandparent and grandchild. As a result, we can end up e.g. retaining\n        // an island but discarding the lake it's in. ... It's not clear how to fix\n        // that, and it doesn't seem to cause noticeable problems in practice.\n        if ( isDefined( polygonHoleLimit ) && polygon.length > 1+polygonHoleLimit ) {\n            // Leave index 0 alone; that's the polygons's outer ring. Partially sort\n            // the hole rings, which start at index 1, to find the N largest holes.\n            quickselect( polygon, polygonHoleLimit, 1, polygon.length - 1, ( a, b ) => {\n                return abs( b.signedArea ) - abs( a.signedArea );\n            } );\n            // Keep the outer ring and the N largest holes. Discard the rest.\n            polygon = polygon.slice( 0, 1+polygonHoleLimit );\n        }\n\n        // Triangulate\n        const { vertices, holes, dimensions } = earcut.flatten( polygon.map( ring => ring.xys ) );\n        const vertexIndices = earcut( vertices, holes, dimensions );\n        for ( const vertexIndex of vertexIndices ) {\n            triangles.push( vertices[ 2*vertexIndex + 0 ] );\n            triangles.push( vertices[ 2*vertexIndex + 1 ] );\n        }\n    }\n    return {\n        triangleCoords2: new Int16Array( triangles ),\n        triangleVertexCount: triangles.length >> 1,\n    };\n}\n\nexport function computeSignedArea( ring: ReadonlyArray<[ x: number, y: number ]> ): number {\n    // Based on https://en.wikipedia.org/wiki/Shoelace_formula#Trapezoid_formula\n    let sum = 0;\n    let prev = ring[ ring.length - 1 ];\n    for ( const curr of ring ) {\n        sum += ( prev[1] + curr[1] )*( prev[0] - curr[0] );\n        prev = curr;\n    }\n    return 0.5*sum;\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { arraySortStable, createWorkerPool, Disposer, FireableListenable, getNow_PMILLIS, IMMEDIATE, ListenableBasic, MERCATOR_PROJ, mod, run, submitToWorkerPool, WGS84_EQUATORIAL_CIRCUMFERENCE_METERS, WorkerPool, WorkerPoolWorker } from '@metsci/gleam-util';\nimport { areProjectionsCompatible, RenderGroupsMap, TileEntry, TileEntryReady, TileIndex, TileSetToc, TilesViewport, TOC_DEFAULT_CRS } from '../support';\nimport { createTileIndexComparator, WorkerResult } from './cacheSupport';\n\nconst { floor, max, min } = Math;\n\nfunction getTileUrl( toc: TileSetToc, tileIndex: TileIndex ): string {\n    const { zoomLevel, columnIndex, rowIndex } = tileIndex;\n    const rowCount = 1 << zoomLevel;\n    const columnCount = rowCount;\n    const rowIndex_TMS = rowCount - rowIndex - 1;\n\n    const prefix = ( columnIndex % 16 ).toString( 16 ) + ( rowIndex % 16 ).toString( 16 );\n    const z = zoomLevel.toFixed( 0 );\n    const x = columnIndex.toFixed( 0 );\n    const y = ( toc.scheme === 'tms' ? rowIndex_TMS : rowIndex ).toFixed( 0 );\n    const quadKey = getBingMapsQuadKey( tileIndex );\n\n    const urlTemplates = toc.tiles;\n    const roundRobinIndex = ( columnIndex + rowIndex ) % urlTemplates.length;\n    const urlTemplate = urlTemplates[ roundRobinIndex ];\n    const url = urlTemplate\n                 .replace( /{prefix}/g, prefix )\n                 .replace( /{z}/g, z )\n                 .replace( /{x}/g, x )\n                 .replace( /{y}/g, y )\n                 .replace( /{quadkey}/g, quadKey );\n\n    // MvtPainter requires view projection to be compatible with toc projection, so if toc\n    // projection is mercator-compatible we can assume tileIndex is linear in mercator coords\n    if ( areProjectionsCompatible( MERCATOR_PROJ, toc ) ) {\n        // This gives behavior equivalent to widely used third-party libraries\n        const xMin_3857 = WGS84_EQUATORIAL_CIRCUMFERENCE_METERS*( ( columnIndex + 0 )/columnCount - 0.5 );\n        const xMax_3857 = WGS84_EQUATORIAL_CIRCUMFERENCE_METERS*( ( columnIndex + 1 )/columnCount - 0.5 );\n        const yMin_3857 = WGS84_EQUATORIAL_CIRCUMFERENCE_METERS*( ( rowIndex_TMS + 0 )/rowCount - 0.5 );\n        const yMax_3857 = WGS84_EQUATORIAL_CIRCUMFERENCE_METERS*( ( rowIndex_TMS + 1 )/rowCount - 0.5 );\n        return url.replace( /{bbox-epsg-3857}/g, `${xMin_3857},${yMin_3857},${xMax_3857},${yMax_3857}` );\n    }\n    else if ( url.indexOf( '{bbox-epsg-3857}' ) ) {\n        // TODO: Reproject bbox from projected coords to EPSG:3857\n        const crsString = toc.crs ?? ( TOC_DEFAULT_CRS + ' (by default)' );\n        throw new Error( `Tile URL templates with {bbox-epsg-3857} are only supported when projection is compatible with EPSG:3857: crs = ${crsString}, url-template = ${urlTemplate}` );\n    }\n    else {\n        return url;\n    }\n}\n\nfunction getBingMapsQuadKey( tileIndex: TileIndex ): string {\n    const { zoomLevel, columnIndex, rowIndex } = tileIndex;\n    let result = '';\n    for ( let z = zoomLevel; z > 0; z-- ) {\n        const bitmask = 1 << ( z - 1 );\n        const digit = ( ( ( columnIndex & bitmask ) ? 1 : 0 ) + ( ( rowIndex & bitmask ) ? 2 : 0 ) );\n        result += digit.toFixed( 0 );\n    }\n    return result;\n}\n\nfunction getAncestorTileKeys( zoomLevel: number, columnIndex: number, rowIndex: number ): Array<[ tileKey: string, tileIndex: TileIndex ]> {\n    const result = new Array<[ tileKey: string, tileIndex: TileIndex ]>( );\n    let z = zoomLevel;\n    let c = columnIndex;\n    let r = rowIndex;\n    while ( z >= 0 ) {\n        result.push( [\n            `z=${z},x=${c},y=${r}`,\n            { zoomLevel: z, columnIndex: c, rowIndex: r },\n        ] );\n        z--;\n        c = floor( c / 2 );\n        r = floor( r / 2 );\n    }\n    return result;\n}\n\nexport interface RenderGroupsFactoryFn {\n    ( view: TilesViewport, tileIndex: TileIndex, tileBuffer: Readonly<ArrayBuffer> ): Promise<RenderGroupsMap | undefined>;\n}\n\n// Bundler is configured to output a bundle at this location\n// Resolve relative URLs at load-time, in case a polyfill relies on document.currentScript\nconst cacheWorkerUrl = new URL( './cacheWorker.worker.js', import.meta.url );\n\nexport function createCacheWorkerPool( options?: {\n    workerCount?: number,\n    workerCredentials?: RequestCredentials,\n} ): WorkerPool {\n    const workerCount = options?.workerCount ?? min( 12, navigator.hardwareConcurrency );\n    return createWorkerPool( workerCount, i => new Worker( cacheWorkerUrl, {\n        name: `MvtCache-${ i.toFixed( 0 ).padStart( 2, '0' ) }`,\n        credentials: options?.workerCredentials,\n    } ) );\n}\n\nexport function createRenderGroupsFactory( cacheWorkerPool: WorkerPool ): RenderGroupsFactoryFn {\n    return ( view, tileIndex, tileBuffer ) => {\n        return submitToWorkerPool( cacheWorkerPool, ( cacheWorker, callKey ) => {\n            return createRenderGroupsAsync( cacheWorker, callKey, view, tileIndex, tileBuffer );\n        } );\n    };\n}\n\nexport function createRenderGroupsAsync( cacheWorker: WorkerPoolWorker, callKey: unknown, view: TilesViewport, tileIndex: TileIndex, tileBuffer: Readonly<ArrayBuffer> ): Promise<RenderGroupsMap | undefined> {\n    // Send a request to the worker\n    cacheWorker.postMessage( {\n        callKey,\n        viewUpdate: view,\n        queryArgs: [ tileIndex, tileBuffer ],\n    }, [ tileBuffer ] );\n\n    // Wait for a response, or worker termination\n    return new Promise( ( resolve, reject ) => {\n        cacheWorker.termination.addListener( { once: true }, ( ) => {\n            reject( 'Worker was terminated' );\n        } );\n        const messageListener = ( ev: MessageEvent<WorkerResult> ) => {\n            const result = ev.data;\n            if ( result.callKey === callKey ) {\n                cacheWorker.removeEventListener( 'message', messageListener );\n                resolve( result.queryResult );\n            }\n        };\n        cacheWorker.addEventListener( 'message', messageListener );\n    } );\n}\n\nexport class MvtCache {\n    readonly tocPromise: Promise<Readonly<TileSetToc>>;\n    protected toc: Readonly<TileSetToc> | undefined;\n    protected readonly tileEntries: Map<string,TileEntry>;\n    protected readonly createRenderGroups: RenderGroupsFactoryFn;\n    protected readonly repaint: FireableListenable;\n\n    /**\n     * For typical usage call `createRenderGroupsFactory( createCacheWorkerPool( ) )`\n     * for the `createRenderGroups` arg. This uses the `cacheWorker.worker.js` script,\n     * and assumes the toolchain used to build the application will (A) include the\n     * worker script with the application's browser-accessible assets, and (B) detect\n     * `new URL( <path-relative-to-source-file>, import.meta.url )` expressions and\n     * rewrite them to point to the appropriate browser-accessible assets.\n     *\n     * Alternatively, the caller may pass in a custom function. This probably won't be\n     * any easier from an asset-bookkeeping perspective -- ultimately something has to\n     * make the worker script accessible to the browser, and pass the script's browser-\n     * accessible URL into the `Worker` constructor. But it gives the caller additional\n     * control.\n     */\n    constructor( tocPromise: Promise<Readonly<TileSetToc>>, createRenderGroups: RenderGroupsFactoryFn ) {\n        this.tocPromise = tocPromise;\n        this.toc = undefined;\n        this.tileEntries = new Map( );\n        this.createRenderGroups = createRenderGroups;\n        this.repaint = new ListenableBasic( );\n        tocPromise.then( toc => {\n            this.toc = toc;\n            this.repaint.fire( );\n        } );\n    }\n\n    attachToRepaint( repaint: FireableListenable ): Disposer {\n        return this.repaint.addListener( IMMEDIATE, ( ) => {\n            repaint.fire( );\n        } );\n    }\n\n    getTilesToRender( frameNum: number, view: TilesViewport ): Array<TileEntryReady> {\n        // No tiles are ready until we finish fetching the toc\n        if ( !this.toc ) {\n            return [];\n        }\n\n        // Identify unique wrapped column indices\n        const cs = new Set<number>( );\n        const tocColumnCount = 1 << view.z;\n        for ( let cRaw = view.cMin; cRaw <= view.cMax; cRaw++ ) {\n            cs.add( mod( cRaw, tocColumnCount ) );\n        }\n\n        // Identify row indices\n        const rs = new Set<number>( );\n        const tocRowCount = 1 << view.z;\n        for ( let r = max( 0, view.rMin ); r <= min( tocRowCount-1, view.rMax ); r++ ) {\n            rs.add( r );\n        }\n\n        // Identify missing tiles\n        const tilesToFetch = new Array<[ tileKey: string, tileIndex: TileIndex ]>( );\n        for ( const r of rs ) {\n            for ( const c of cs ) {\n                for ( const [ tileKey, tileIndex ] of getAncestorTileKeys( view.z, c, r ) ) {\n                    if ( !this.tileEntries.has( tileKey ) ) {\n                        tilesToFetch.push( [ tileKey, tileIndex ] );\n                    }\n                }\n            }\n        }\n        const compareTileIndices = createTileIndexComparator( view );\n        tilesToFetch.sort( ( a, b ) => compareTileIndices( a[1], b[1] ) );\n\n        // Request tiles from server\n        for ( const [ tileKey, tileIndex ] of tilesToFetch ) {\n            const tileUrl = getTileUrl( this.toc, tileIndex );\n            const fetchController = new AbortController( );\n            this.tileEntries.set( tileKey, {\n                status: 'pending',\n                tileUrl,\n                tileIndex,\n                expiresAfterFrameNum: frameNum + 1,\n                fetchController,\n            } );\n            run( async ( ) => {\n                try {\n                    const resp = await self.fetch( new Request( tileUrl, {\n                        method: 'GET',\n                        mode: 'cors',\n                        credentials: 'same-origin',\n                        signal: fetchController.signal,\n                    } ) );\n                    if ( !this.tileEntries.has( tileKey ) ) {\n                        return;\n                    }\n                    if ( resp.status !== 200 ) {\n                        throw new Error( `Fetch failed: url = ${resp.url}, status = ${resp.status} (${resp.statusText})` );\n                    }\n\n                    const tileBuffer = await resp.arrayBuffer( );\n                    if ( !this.tileEntries.has( tileKey ) ) {\n                        return;\n                    }\n\n                    const renderGroups = await this.createRenderGroups( view, tileIndex, tileBuffer );\n                    if ( !renderGroups ) {\n                        return;\n                    }\n                    if ( !this.tileEntries.has( tileKey ) ) {\n                        return;\n                    }\n\n                    this.tileEntries.set( tileKey, {\n                        status: 'ready',\n                        tileUrl,\n                        tileIndex,\n                        expiresAfterFrameNum: undefined,\n                        renderGroups,\n                    } );\n                }\n                catch ( e ) {\n                    if ( !this.tileEntries.has( tileKey ) ) {\n                        // Do nothing\n                    }\n                    else if ( e instanceof DOMException && e.name === 'AbortError' ) {\n                        // Do nothing\n                    }\n                    else {\n                        // TODO: Get cache expiry info from resp headers?\n                        const millisUntilRetry = 10*60e3;\n                        console.warn( `Tile ${tileUrl} is unavailable: time-until-retry = ${1e-3*millisUntilRetry} seconds\\n`, e );\n                        this.tileEntries.set( tileKey, {\n                            status: 'unavailable',\n                            tileUrl,\n                            tileIndex,\n                            expiresAfterTime_PMILLIS: getNow_PMILLIS( ) + millisUntilRetry,\n                        } );\n                    }\n                }\n                finally {\n                    this.repaint.fire( );\n                }\n            } );\n        }\n\n        // Identify tiles to render, and bump their expiration counters\n        const tileEntriesToRender = new Set<TileEntryReady>( );\n        for ( const r of rs ) {\n            for ( const c of cs ) {\n                // If the tile at (z,c,r) is ready to render, then include it. Otherwise check its\n                // parent (which has lower resolution but is better than nothing), grandparent, etc.\n                let bestTileEntry: TileEntryReady | undefined = undefined;\n                for ( const [ tileKey ] of getAncestorTileKeys( view.z, c, r ) ) {\n                    const tileEntry = this.tileEntries.get( tileKey );\n                    switch ( tileEntry?.status ) {\n                        case 'pending': {\n                            tileEntry.expiresAfterFrameNum = frameNum + 1;\n                        }\n                        break;\n\n                        case 'ready': {\n                            tileEntry.expiresAfterFrameNum = frameNum + 1;\n                            if ( !bestTileEntry ) {\n                                bestTileEntry = tileEntry;\n                            }\n                        }\n                        break;\n                    }\n                }\n                if ( bestTileEntry ) {\n                    tileEntriesToRender.add( bestTileEntry );\n                }\n            }\n        }\n\n        // Discard expired tiles\n        for ( const [ tileKey, tileEntry ] of this.tileEntries ) {\n            switch ( tileEntry.status ) {\n                case 'pending': {\n                    if ( frameNum > tileEntry.expiresAfterFrameNum ) {\n                        this.tileEntries.delete( tileKey );\n                        tileEntry.fetchController.abort( );\n                    }\n                }\n                break;\n\n                case 'ready': {\n                    if ( tileEntry.expiresAfterFrameNum === undefined ) {\n                        // Last use is unknown but must have been on or before the current frame\n                        tileEntry.expiresAfterFrameNum = frameNum + 1;\n                    }\n                    else if ( frameNum > tileEntry.expiresAfterFrameNum ) {\n                        this.tileEntries.delete( tileKey );\n                    }\n                }\n                break;\n\n                case 'unavailable': {\n                    if ( getNow_PMILLIS( ) > tileEntry.expiresAfterTime_PMILLIS ) {\n                        // Tile is now eligible for another attempt\n                        this.tileEntries.delete( tileKey );\n                    }\n                }\n                break;\n            }\n        }\n\n        // Sort tiles to be rendered low-res to high-res\n        const tileEntriesInRenderOrder = new Array( ...tileEntriesToRender );\n        arraySortStable( tileEntriesInRenderOrder, ( a, b ) => {\n            return ( a.tileIndex.zoomLevel - b.tileIndex.zoomLevel );\n        } );\n        return tileEntriesInRenderOrder;\n    }\n\n    dispose( ): void {\n        this.tileEntries.clear( );\n    }\n}\n","/**\n * Copyright (c) 2022, Metron, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n *  * Neither the name of the copyright holder nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nimport { bufferDataF32, bufferDataI16, Color, Context, createDomPeer, cssArray, cssColor, cssFloat, CssParser, currentDpr, DomPeer, enablePremultipliedAlphaBlending, frozenSupplier, GL, glUniformRgba, GRAY, Painter, PeerType, put4f, StyleProp, UnboundStyleProp, UNPARSEABLE, vertexAttribPointer } from '@metsci/gleam-core';\nimport { clamp, DEG_TO_RAD, Interval2D, mapRequire, mapSetIfAbsent, mod, NormalCylindricalProjection, Point2D, RefBasic, requireNonNullish, Supplier, tripleEquals } from '@metsci/gleam-util';\nimport { MvtCache } from '../cache';\nimport { areProjectionsCompatible, FeatureType, FEATURE_TYPE_LINE, FEATURE_TYPE_POINT, FEATURE_TYPE_POLYGON, RenderGroupLines, RenderGroupPolygons, TileIndex, TileSetToc, TilesViewport, TOC_DEFAULT_BOUNDS, TOC_DEFAULT_CRS, TOC_DEFAULT_MAXZOOM, TOC_DEFAULT_MINZOOM } from '../support';\n\nconst { floor, log2, PI, round } = Math;\n\nimport fillFragShader_GLSL from './fillShader.frag';\nimport fillVertShader_GLSL from './fillShader.vert';\nconst FILL_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: fillVertShader_GLSL,\n    fragShader_GLSL: fillFragShader_GLSL,\n    uniformNames: [\n        'VIEWPORT_SIZE_PX',\n        'COLOR',\n    ] as const,\n    attribNames: [\n        'inCoords',\n        'inXyOriginAndStep_PX',\n    ] as const,\n} );\n\nimport lineFragShader_GLSL from './lineShader.frag';\nimport lineVertShader_GLSL from './lineShader.vert';\nconst LINE_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: lineVertShader_GLSL,\n    fragShader_GLSL: lineFragShader_GLSL,\n    uniformNames: [\n        'VIEWPORT_SIZE_PX',\n        'COLOR',\n        'THICKNESS_PX',\n        'FEATHER_PX',\n    ] as const,\n    attribNames: [\n        'inCoords',\n        'inXyOriginAndStep_PX',\n    ] as const,\n} );\n\nimport pointFragShader_GLSL from './pointShader.frag';\nimport pointVertShader_GLSL from './pointShader.vert';\nconst POINT_PROG_SOURCE = Object.freeze( {\n    vertShader_GLSL: pointVertShader_GLSL,\n    fragShader_GLSL: pointFragShader_GLSL,\n    uniformNames: [\n        'VIEWPORT_SIZE_PX',\n        'COLOR',\n        'DIAMETER_PX',\n        'FEATHER_PX',\n    ] as const,\n    attribNames: [\n        'inCoords',\n        'inXyOriginAndStep_PX',\n    ] as const,\n} );\n\nfunction projectTocBounds( toc: TileSetToc, toProj: NormalCylindricalProjection ): Interval2D {\n    const [ westLon_DEG, southLat_DEG, eastLon_DEG, northLat_DEG ] = toc.bounds ?? TOC_DEFAULT_BOUNDS;\n    const xMin = toProj.lonToX( westLon_DEG * DEG_TO_RAD );\n    const xMax = toProj.lonToX( eastLon_DEG * DEG_TO_RAD );\n    const yMin = toProj.latToY( southLat_DEG * DEG_TO_RAD );\n    const yMax = toProj.latToY( northLat_DEG * DEG_TO_RAD );\n    return Interval2D.fromEdges( xMin, xMax, yMin, yMax );\n}\n\nfunction boxToFracOfOtherBox( box: Interval2D, otherBox: Interval2D ): Interval2D {\n    const xMin = otherBox.x.valueToFrac( box.xMin );\n    const xMax = otherBox.x.valueToFrac( box.xMax );\n    const yMin = otherBox.y.valueToFrac( box.yMin );\n    const yMax = otherBox.y.valueToFrac( box.yMax );\n    return Interval2D.fromEdges( xMin, xMax, yMin, yMax );\n}\n\nfunction boxFromFracOfOtherBox( frac: Interval2D, otherBox: Interval2D ): Interval2D {\n    const xMin = otherBox.x.fracToValue( frac.xMin );\n    const xMax = otherBox.x.fracToValue( frac.xMax );\n    const yMin = otherBox.y.fracToValue( frac.yMin );\n    const yMax = otherBox.y.fracToValue( frac.yMax );\n    return Interval2D.fromEdges( xMin, xMax, yMin, yMax );\n}\n\nfunction getTilesInView( tocBounds: Interval2D, viewBounds: Interval2D, zoomLevel: number ): TilesViewport {\n    const tocRowCount = 1 << zoomLevel;\n    const tocColumnCount = tocRowCount;\n    const viewBounds_TOCFRAC = boxToFracOfOtherBox( viewBounds, tocBounds );\n    const viewCenter = viewBounds.fracToValue( new Point2D( 0.5, 0.5 ) );\n    const viewCenter_TOCFRAC = tocBounds.valueToFrac( viewCenter );\n    return {\n        z: zoomLevel,\n\n        cMin: floor( viewBounds_TOCFRAC.xMin * tocColumnCount ),\n        cMax: floor( viewBounds_TOCFRAC.xMax * tocColumnCount ),\n        cCenter: viewCenter_TOCFRAC.x * tocColumnCount,\n\n        rMin: floor( ( 1.0 - viewBounds_TOCFRAC.yMax ) * tocRowCount ),\n        rMax: floor( ( 1.0 - viewBounds_TOCFRAC.yMin ) * tocRowCount ),\n        rCenter: ( 1.0 - viewCenter_TOCFRAC.y ) * tocRowCount,\n    };\n}\n\nfunction getProjectedTileBounds( tocBounds: Interval2D, tileIndex: TileIndex ): Interval2D {\n    const { zoomLevel, columnIndex, rowIndex } = tileIndex;\n    const oneOverTocRowCount = 1.0 / ( 1 << zoomLevel );\n    const oneOverTocColumnCount = oneOverTocRowCount;\n    const xMin_TOCFRAC = ( columnIndex + 0 ) * oneOverTocColumnCount;\n    const xMax_TOCFRAC = ( columnIndex + 1 ) * oneOverTocColumnCount;\n    const yMin_TOCFRAC = 1.0 - ( ( rowIndex + 0 ) * oneOverTocRowCount );\n    const yMax_TOCFRAC = 1.0 - ( ( rowIndex + 1 ) * oneOverTocRowCount );\n    const tileBounds_TOCFRAC = Interval2D.fromEdges( xMin_TOCFRAC, xMax_TOCFRAC, yMin_TOCFRAC, yMax_TOCFRAC );\n    return boxFromFracOfOtherBox( tileBounds_TOCFRAC, tocBounds );\n}\n\nfunction getViewColumnIndicesByWrappedColumnIndexByZoomLevel( view: TilesViewport ): Array<Map<number,Array<number>>> {\n    const csByCWrappedByZ = new Array<Map<number,Array<number>>>( );\n    let { z, cMin, cMax } = view;\n    while ( z >= 0 ) {\n        const csByCWrapped = new Map<number,Array<number>>( );\n        const cCount = 1 << z;\n        for ( let c = cMin; c <= cMax; c++ ) {\n            const cWrapped = mod( c, cCount );\n            mapSetIfAbsent( csByCWrapped, cWrapped, ( ) => [] ).push( c );\n        }\n        csByCWrappedByZ[ z ] = csByCWrapped;\n\n        z--;\n        cMin = floor( cMin / 2 );\n        cMax = floor( cMax / 2 );\n    }\n    return csByCWrappedByZ;\n}\n\ninterface StyleEntry {\n    readonly peer: DomPeer;\n    readonly style: CSSStyleDeclaration;\n}\n\nexport const cssRenderGroupKey = new CssParser<{ stem: string, type: FeatureType }>( 'e.g. landcover_sand_area', s => {\n    const i = s.lastIndexOf( '_' );\n    if ( i >= 0 ) {\n        const stem = s.substring( 0, i );\n        switch ( s.substring( i + 1 ) ) {\n            case 'point': return { stem, type: FEATURE_TYPE_POINT };\n            case 'line': return { stem, type: FEATURE_TYPE_LINE };\n            case 'area': return { stem, type: FEATURE_TYPE_POLYGON };\n        }\n    }\n    return UNPARSEABLE;\n} );\n\nexport class MvtPainter implements Painter {\n    readonly peer = createDomPeer( 'mvt-painter', this, PeerType.PAINTER );\n    readonly style = window.getComputedStyle( this.peer );\n\n    readonly renderGroupKeys = StyleProp.create( this.style, '--render-groups', cssArray( cssRenderGroupKey ), 'background_area, water_area, waterway_line' );\n    readonly featureFillColor = UnboundStyleProp.create( '--fill-color', cssColor, GRAY, 100 );\n    readonly featureLineColor = UnboundStyleProp.create( '--line-color', cssColor, GRAY, 100 );\n    readonly featureLineThickness_LPX = UnboundStyleProp.create( '--line-thickness-px', cssFloat, 1, 100 );\n\n    readonly visible = new RefBasic( true, tripleEquals );\n\n    readonly viewProj: NormalCylindricalProjection;\n    viewBoundsFn: Supplier<Interval2D>;\n\n    protected readonly cache: MvtCache;\n    protected toc: Readonly<TileSetToc> | undefined;\n    protected tocBounds: Interval2D | undefined;\n    protected readonly stylesByGroupKey: Map<string,StyleEntry>;\n\n    constructor(\n        cache: MvtCache,\n        viewProj: NormalCylindricalProjection,\n        viewBoundsFn: Supplier<Interval2D> = frozenSupplier( Interval2D.fromEdges( 0, 1, 0, 1 ) ),\n    ) {\n        this.viewProj = viewProj;\n        this.viewBoundsFn = viewBoundsFn;\n\n        this.cache = cache;\n        this.tocBounds = undefined;\n        this.stylesByGroupKey = new Map( );\n        this.cache.tocPromise.then( toc => {\n            if ( !areProjectionsCompatible( viewProj, toc ) ) {\n                throw new Error( `Tile coords are not compatible with view projection: tile-crs=${toc.crs ?? TOC_DEFAULT_CRS}, view-proj=${viewProj.name}` );\n            }\n            this.toc = toc;\n            this.tocBounds = projectTocBounds( this.toc, this.viewProj );\n        } );\n    }\n\n    paint( context: Context, viewport_PX: Interval2D ): void {\n        if ( !this.toc || !this.tocBounds ) {\n            return;\n        }\n\n        const gl = context.gl;\n        const glExt = requireNonNullish( gl.getExtension( 'ANGLE_instanced_arrays' ) );\n\n        // Painter-level style values\n        const renderGroupKeys = this.renderGroupKeys.get( );\n\n        // Cache feature style values, so we don't repeat CSS lookups for every individual feature\n        const fillColorsByGroupKey = new Map<string,Color>( );\n        const getFillColor = ( groupKey: string ) => {\n            return mapSetIfAbsent( fillColorsByGroupKey, groupKey, ( ) => {\n                const groupStyle = this.getRenderGroupStyle( groupKey );\n                return this.featureFillColor.get( groupStyle );\n            } );\n        };\n        const lineColorsByGroupKey = new Map<string,Color>( );\n        const getLineColor = ( groupKey: string ) => {\n            return mapSetIfAbsent( lineColorsByGroupKey, groupKey, ( ) => {\n                const groupStyle = this.getRenderGroupStyle( groupKey );\n                return this.featureLineColor.get( groupStyle );\n            } );\n        };\n        const lineThicknessesByGroupKey_LPX = new Map<string,number>( );\n        const getLineThickness_LPX = ( groupKey: string ) => {\n            return mapSetIfAbsent( lineThicknessesByGroupKey_LPX, groupKey, ( ) => {\n                const groupStyle = this.getRenderGroupStyle( groupKey );\n                return this.featureLineThickness_LPX.get( groupStyle );\n            } );\n        };\n\n        // Conversion between logical pixels and device pixels\n        const lpxToPx = currentDpr( this );\n        const pxToLpx = 1.0 / lpxToPx;\n\n        // Select visible zoom level\n        const viewBounds = this.viewBoundsFn( );\n        const yPerLpx = viewBounds.h / ( viewport_PX.h * pxToLpx );\n        const radPerY = this.viewProj.maxDLatDY_RAD( );\n        const rootTileNominalGrainsPerRad = 360 / PI;\n        const rootTileNominalGrainsPerLpx = rootTileNominalGrainsPerRad * radPerY * yPerLpx;\n        const zoomLevel = clamp(\n            this.toc.minzoom ?? TOC_DEFAULT_MINZOOM,\n            this.toc.maxzoom ?? TOC_DEFAULT_MAXZOOM,\n            round( -log2( rootTileNominalGrainsPerLpx ) ),\n        );\n\n        // Identify tiles to render\n        const tilesInView = getTilesInView( this.tocBounds, viewBounds, zoomLevel );\n        const tileEntriesToRender = this.cache.getTilesToRender( context.frameNum, tilesInView );\n\n        // Define fn for updating origin-and-step device buffer\n        const getXyOriginAndSteps = ( tileUrl: string, extent: number, perInstanceTileBounds_PX: ReadonlyArray<Interval2D> ) => {\n            const dXyOriginAndStepKey = `${tileUrl}::${extent}::xyOriginAndStep4`;\n            return context.getBuffer( dXyOriginAndStepKey, [ context.frameNum ], ( gl, target ) => {\n                const xyOriginAndStep4 = new Float32Array( 4*perInstanceTileBounds_PX.length );\n                let i = 0;\n                for ( const tileBounds_PX of perInstanceTileBounds_PX ) {\n                    const xOrigin_PX = tileBounds_PX.xMin;\n                    const yOrigin_PX = tileBounds_PX.yMin;\n                    const xStep_PX = tileBounds_PX.w / extent;\n                    const yStep_PX = tileBounds_PX.h / extent;\n                    i = put4f( xyOriginAndStep4, i, xOrigin_PX, yOrigin_PX, xStep_PX, yStep_PX );\n                }\n                return bufferDataF32( gl, target, xyOriginAndStep4, 4 );\n            } );\n        };\n\n        // Define fn for painting line segments\n        const paintLineSegments = ( tileUrl: string, perInstanceTileBounds_PX: ReadonlyArray<Interval2D>, stem: string, groups: Array<RenderGroupLines> | undefined ) => {\n            if ( groups && groups.some( g => ( g.coords.triangleVertexCount >= 3 ) ) ) {\n                const groupKey = `${stem}_line`;\n                const thickness_PX = getLineThickness_LPX( groupKey ) * lpxToPx;\n                const color = getLineColor( groupKey );\n                if ( thickness_PX > 0 && color.a > 0 ) {\n                    const { program, attribs, uniforms } = context.getProgram( LINE_PROG_SOURCE );\n                    gl.useProgram( program );\n                    gl.enableVertexAttribArray( attribs.inCoords );\n                    gl.enableVertexAttribArray( attribs.inXyOriginAndStep_PX );\n                    glExt.vertexAttribDivisorANGLE( attribs.inXyOriginAndStep_PX, 1 );\n                    try {\n                        gl.uniform2f( uniforms.VIEWPORT_SIZE_PX, viewport_PX.w, viewport_PX.h );\n                        gl.uniform1f( uniforms.THICKNESS_PX, thickness_PX );\n                        gl.uniform1f( uniforms.FEATHER_PX, 1.5 );\n                        glUniformRgba( gl, uniforms.COLOR, color );\n                        for ( const { extent, coords: { triangleCoords4, triangleVertexCount } } of groups ) {\n                            if ( triangleVertexCount >= 3 ) {\n                                const dVerticesKey = `${tileUrl}::${groupKey}::${extent}::lineVertices`;\n                                const dVertices = context.getBuffer( dVerticesKey, [], ( gl, target ) => {\n                                    return bufferDataI16( gl, target, triangleCoords4.subarray( 0, 4*triangleVertexCount ), 4 );\n                                } );\n                                vertexAttribPointer( gl, attribs.inCoords, dVertices );\n\n                                const dXyOriginAndSteps = getXyOriginAndSteps( tileUrl, extent, perInstanceTileBounds_PX );\n                                vertexAttribPointer( gl, attribs.inXyOriginAndStep_PX, dXyOriginAndSteps );\n\n                                glExt.drawArraysInstancedANGLE( GL.TRIANGLES, 0, dVertices.meta.unitCount, dXyOriginAndSteps.meta.unitCount );\n                            }\n                        }\n                    }\n                    finally {\n                        glExt.vertexAttribDivisorANGLE( attribs.inXyOriginAndStep_PX, 0 );\n                        gl.disableVertexAttribArray( attribs.inXyOriginAndStep_PX );\n                        gl.disableVertexAttribArray( attribs.inCoords );\n                        gl.useProgram( null );\n                    }\n                }\n            }\n        };\n\n        // Define fn for painting line joins\n        const paintLineJoins = ( tileUrl: string, perInstanceTileBounds_PX: ReadonlyArray<Interval2D>, stem: string, groups: Array<RenderGroupLines> | undefined ) => {\n            if ( groups && groups.some( g => ( g.coords.pointVertexCount >= 1 ) ) ) {\n                const groupKey = `${stem}_line`;\n                const thickness_PX = getLineThickness_LPX( groupKey ) * lpxToPx;\n                const color = getLineColor( groupKey );\n                if ( thickness_PX > 1 && color.a > 0 ) {\n                    const { program, attribs, uniforms } = context.getProgram( POINT_PROG_SOURCE );\n                    gl.useProgram( program );\n                    gl.enableVertexAttribArray( attribs.inCoords );\n                    gl.enableVertexAttribArray( attribs.inXyOriginAndStep_PX );\n                    glExt.vertexAttribDivisorANGLE( attribs.inXyOriginAndStep_PX, 1 );\n                    try {\n                        gl.uniform2f( uniforms.VIEWPORT_SIZE_PX, viewport_PX.w, viewport_PX.h );\n                        gl.uniform1f( uniforms.DIAMETER_PX, thickness_PX );\n                        gl.uniform1f( uniforms.FEATHER_PX, 1.5 );\n                        glUniformRgba( gl, uniforms.COLOR, color );\n                        for ( const { extent, coords: { pointCoords2, pointVertexCount } } of groups ) {\n                            if ( pointVertexCount >= 1 ) {\n                                const dVerticesKey = `${tileUrl}::${groupKey}::${extent}::pointVertices`;\n                                const dVertices = context.getBuffer( dVerticesKey, [], ( gl, target ) => {\n                                    return bufferDataI16( gl, target, pointCoords2.subarray( 0, 2*pointVertexCount ), 2 );\n                                } );\n                                vertexAttribPointer( gl, attribs.inCoords, dVertices );\n\n                                const dXyOriginAndSteps = getXyOriginAndSteps( tileUrl, extent, perInstanceTileBounds_PX );\n                                vertexAttribPointer( gl, attribs.inXyOriginAndStep_PX, dXyOriginAndSteps );\n\n                                glExt.drawArraysInstancedANGLE( GL.POINTS, 0, dVertices.meta.unitCount, dXyOriginAndSteps.meta.unitCount );\n                            }\n                        }\n                    }\n                    finally {\n                        glExt.vertexAttribDivisorANGLE( attribs.inXyOriginAndStep_PX, 0 );\n                        gl.disableVertexAttribArray( attribs.inXyOriginAndStep_PX );\n                        gl.disableVertexAttribArray( attribs.inCoords );\n                        gl.useProgram( null );\n                    }\n                }\n            }\n        };\n\n        // Define fn for painting polygon fills\n        const paintPolygonFills = ( tileUrl: string, perInstanceTileBounds_PX: ReadonlyArray<Interval2D>, stem: string, groups: Array<RenderGroupPolygons> | undefined ) => {\n            if ( groups && groups.some( g => ( g.coords.triangleVertexCount >= 3 ) ) ) {\n                const groupKey = `${stem}_area`;\n                const color = getFillColor( groupKey );\n                if ( color.a > 0 ) {\n                    const { program, attribs, uniforms } = context.getProgram( FILL_PROG_SOURCE );\n                    gl.useProgram( program );\n                    gl.enableVertexAttribArray( attribs.inCoords );\n                    gl.enableVertexAttribArray( attribs.inXyOriginAndStep_PX );\n                    glExt.vertexAttribDivisorANGLE( attribs.inXyOriginAndStep_PX, 1 );\n                    try {\n                        gl.uniform2f( uniforms.VIEWPORT_SIZE_PX, viewport_PX.w, viewport_PX.h );\n                        glUniformRgba( gl, uniforms.COLOR, color );\n                        for ( const { extent, coords: { triangleCoords2, triangleVertexCount } } of groups ) {\n                            if ( triangleVertexCount >= 3 ) {\n                                const dVerticesKey = `${tileUrl}::${groupKey}::${extent}::fillVertices`;\n                                const dVertices = context.getBuffer( dVerticesKey, [], ( gl, target ) => {\n                                    return bufferDataI16( gl, target, triangleCoords2.subarray( 0, 2*triangleVertexCount ), 2 );\n                                } );\n                                vertexAttribPointer( gl, attribs.inCoords, dVertices );\n\n                                const dXyOriginAndSteps = getXyOriginAndSteps( tileUrl, extent, perInstanceTileBounds_PX );\n                                vertexAttribPointer( gl, attribs.inXyOriginAndStep_PX, dXyOriginAndSteps );\n\n                                glExt.drawArraysInstancedANGLE( GL.TRIANGLES, 0, dVertices.meta.unitCount, dXyOriginAndSteps.meta.unitCount );\n                            }\n                        }\n                    }\n                    finally {\n                        glExt.vertexAttribDivisorANGLE( attribs.inXyOriginAndStep_PX, 0 );\n                        gl.disableVertexAttribArray( attribs.inXyOriginAndStep_PX );\n                        gl.disableVertexAttribArray( attribs.inCoords );\n                        gl.useProgram( null );\n                    }\n                }\n            }\n        };\n\n        // Prep for rendering\n        enablePremultipliedAlphaBlending( gl );\n\n        // Render tiles\n        const csByCWrappedByZ = getViewColumnIndicesByWrappedColumnIndexByZoomLevel( tilesInView );\n        for ( const { tileUrl, tileIndex, renderGroups } of tileEntriesToRender ) {\n            const tileBounds_PX = new Array<Interval2D>( );\n            const { zoomLevel, rowIndex } = tileIndex;\n            const columnIndices = mapRequire( csByCWrappedByZ[ zoomLevel ], tileIndex.columnIndex );\n            const viewportWidth_PX = viewport_PX.w;\n            const viewportHeight_PX = viewport_PX.h;\n            for ( const columnIndex of columnIndices ) {\n                const tileInstanceBounds_PROJ = getProjectedTileBounds( this.tocBounds, { zoomLevel, columnIndex, rowIndex } );\n                const tileInstanceBounds_FRAC = boxToFracOfOtherBox( tileInstanceBounds_PROJ, viewBounds );\n                const tileInstanceBounds_PX = Interval2D.fromXy(\n                    tileInstanceBounds_FRAC.x.scale( viewportWidth_PX ),\n                    tileInstanceBounds_FRAC.y.scale( viewportHeight_PX ),\n                );\n                tileBounds_PX.push( tileInstanceBounds_PX );\n            }\n            for ( const { stem, type } of renderGroupKeys ) {\n                switch ( type ) {\n                    case FEATURE_TYPE_POINT: {\n                        // TODO: Support point features\n                    }\n                    break;\n\n                    case FEATURE_TYPE_LINE: {\n                        const groups = renderGroups.lineGroupsByStem.get( stem );\n                        paintLineSegments( tileUrl, tileBounds_PX, stem, groups );\n                        paintLineJoins( tileUrl, tileBounds_PX, stem, groups );\n                    }\n                    break;\n\n                    case FEATURE_TYPE_POLYGON: {\n                        const groups = renderGroups.polygonGroupsByStem.get( stem );\n                        paintPolygonFills( tileUrl, tileBounds_PX, stem, groups );\n                    }\n                    break;\n                }\n            }\n        }\n    }\n\n    protected getRenderGroupStyle( groupKey: string ): CSSStyleDeclaration {\n        // TODO: Can we get away with not pruning the styles map?\n        const styleEntry = mapSetIfAbsent( this.stylesByGroupKey, groupKey, ( ) => {\n            const peer = createDomPeer( 'feature-style', this, PeerType.OTHER );\n            if ( groupKey ) {\n                peer.classList.add( groupKey );\n            }\n            this.peer.appendChild( peer );\n            const style = window.getComputedStyle( peer );\n            return { peer, style };\n        } );\n        return styleEntry.style;\n    }\n\n    dispose( context: Context ): void {\n        this.cache.dispose( );\n    }\n}\n","import { FeatureCollection } from 'geojson';\n\nexport const simpleFeatures: FeatureCollection = {\n    type: 'FeatureCollection',\n    features: [ {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n            type: 'Point',\n            coordinates: [ -77.35891827299356, 38.958433649794124 ],\n        },\n    }, {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n            type: 'Polygon',\n            coordinates: [ [\n                [ -77.36298667802035, 38.960376973353675 ],\n                [ -77.35459348700716, 38.96004084970365 ],\n                [ -77.35506177663451, 38.95741482879896 ],\n                [ -77.36276153877644, 38.95722575153806 ],\n            ] ],\n        },\n    } ],\n};\n\nexport const antimeridianFeatures: FeatureCollection = {\n    type: 'FeatureCollection',\n    features: [ {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n            type: 'MultiPoint',\n            coordinates: [\n                [ -179.8, -20 ],\n                [ -179.9, -20.7 ],\n                [ -180.0, -20.2 ],\n                [ -180.1, -20.9 ],\n                [ -180.2, -20.5 ],\n            ],\n        },\n    }, {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n            type: 'LineString',\n            coordinates: [\n                [ -179.8, -20 ],\n                [ -179.9, -20.7 ],\n                [ -180.0, -20.2 ],\n                [ -180.1, -20.9 ],\n                [ -180.2, -20.5 ],\n            ],\n        },\n    }, {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n            type: 'MultiLineString',\n            coordinates: [ [\n                [ +172, +28 ],\n                [ -172, +28 ],\n                [ -172, +12 ],\n                [ +172, +12 ],\n                [ +172, +20.5 ],\n                [ -175, +20.5 ],\n            ], [\n                [ +172, +27 ],\n                [ -173, +27 ],\n                [ -173, +13 ],\n                [ +173, +13 ],\n                [ +173, +19.5 ],\n                [ -175, +19.5 ],\n            ] ],\n        },\n    }, {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n            type: 'MultiPolygon',\n            coordinates: [ [\n                [ [+170,+30], [-170,+30], [-170,+10], [+170,+10] ],\n                [ [+175,+25], [-175,+25], [-175,+22], [+175,+22] ],\n                [ [+175,+18], [-175,+18], [-175,+15], [+175,+15] ],\n            ], [\n                [ [+170,-10], [-170,-10], [-170,-30], [+170,-30] ],\n                [ [+175,-15], [+178,-15], [+178,-25], [+175,-25] ],\n                [ [-175,-15], [-178,-15], [-178,-25], [-175,-25] ],\n            ] ],\n        },\n    } ],\n};\n\nexport const polarFeatures: FeatureCollection = {\n    type: 'FeatureCollection',\n    features: [ {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n            type: 'Polygon',\n            coordinates: [\n                [ [+45,+70], [+70,+70], [-45,+75], [-40,+80], [+90,+70], [+135,+70], [+225,+70], [+315,+70] ],\n            ],\n        },\n    }, {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n            type: 'LineString',\n            coordinates: [\n                [-45,+60], [+45,+60], [+135,+60], [+225,+60], [+315,+60],\n            ],\n        },\n    }, {\n        type: 'Feature',\n        properties: {},\n        geometry: {\n            type: 'Polygon',\n            coordinates: [\n                [ [0,-70], [-90,-70], [-180,-70], [-270,-70] ],\n                [ [0,-75], [-90,-75], [-180,-75], [-270,-75] ],\n            ],\n        },\n    } ],\n};\n","import { addCssLink, attachAxisInputHandlers2D, attachAxisViewportUpdater2D, attachPane, axisBoundsFn, createCommonScaleAxis2D, gleamCoreDefaultStyleLoading, lockScaleRatio, Pane } from '@metsci/gleam-core';\nimport { addCssClass, createPreRenderableFactory, createPreRenderablesWorkerPool, GeoJsonMarkerPin, GeoJsonPainter } from '@metsci/gleam-geojson';\nimport { addMvtAttributionElement, createCacheWorkerPool, createRenderGroupsFactory, fetchTileSetToc, gleamMvtDefaultStyleLoading, MvtCache, MvtPainter } from '@metsci/gleam-mvt';\nimport { Interval1D, ListenableBasic, MERCATOR_PROJ, requireNonNull, run, SPHERICAL_GREAT_CIRCLE_INTERPOLATOR, SPHERICAL_RHUMB_LINE_INTERPOLATOR } from '@metsci/gleam-util';\nimport { antimeridianFeatures, polarFeatures, simpleFeatures } from './data';\n\nconst { PI } = Math;\nconst { NEGATIVE_INFINITY, POSITIVE_INFINITY } = Number;\n\n// Resolve relative URLs at load-time, in case a polyfill relies on document.currentScript\nconst mainCssUrl = new URL( './main.css', import.meta.url );\n\nrun( async ( ) => {\n    // Begin loading CSS\n    const stylesLoading = Promise.all( [\n        gleamCoreDefaultStyleLoading,\n        gleamMvtDefaultStyleLoading,\n        addCssLink( mainCssUrl ),\n    ] );\n\n    // Create a listenable that can be fired by application code to trigger a repaint\n    const repaint = new ListenableBasic( );\n\n    // Create axes\n    const proj = MERCATOR_PROJ;\n    const xyAxis = createCommonScaleAxis2D( );\n    lockScaleRatio( xyAxis, 1 );\n    xyAxis.y.maxConstraint = Interval1D.fromEdges( NEGATIVE_INFINITY, proj.maxUsableY );\n    xyAxis.y.minConstraint = Interval1D.fromEdges( proj.minUsableY, POSITIVE_INFINITY );\n    xyAxis.y.scaleConstraint = Interval1D.fromEdges( NEGATIVE_INFINITY, 1e7*proj.maxDLatDY_RAD( ) );\n    xyAxis.x.set( false, proj.lonToX( -PI ), proj.lonToX( +PI ) );\n    xyAxis.changes.addListener( ( ) => {\n        repaint.fire( );\n    } );\n\n    // Attach axes to a pane\n    const pane = new Pane( );\n    attachAxisViewportUpdater2D( pane, xyAxis );\n    attachAxisInputHandlers2D( pane, xyAxis );\n\n    // Show MVT tiles\n    const mvtTocUrl = '__TILES_JSON_URL__';\n    const mvtToc = fetchTileSetToc( mvtTocUrl, {\n        method: 'GET',\n        mode: 'cors',\n        credentials: 'same-origin',\n    } );\n    const mvtCreateRenderGroups = createRenderGroupsFactory( createCacheWorkerPool( ) );\n    const mvtCache = new MvtCache( mvtToc, mvtCreateRenderGroups );\n    mvtCache.attachToRepaint( repaint );\n    const mvtPainter = new MvtPainter( mvtCache, proj, axisBoundsFn( xyAxis ) );\n    pane.addPainter( mvtPainter );\n\n    // Show GeoJSON objects, defined in ./data.ts\n    // Default to great-circle interp, and for one of the objects specify rhumb-line interp\n    const geojsonCreatePreRenderables = createPreRenderableFactory( createPreRenderablesWorkerPool( ) );\n    const geojsonPainter = new GeoJsonPainter( proj, geojsonCreatePreRenderables, axisBoundsFn( xyAxis ), { interp: SPHERICAL_GREAT_CIRCLE_INTERPOLATOR } );\n    geojsonPainter.attachToRepaint( repaint );\n    geojsonPainter.registerMarker( 'pin1', new GeoJsonMarkerPin( 'pin1' ) );\n    geojsonPainter.registerMarker( 'pin2', new GeoJsonMarkerPin( 'pin2' ) );\n    geojsonPainter.registerMarker( 'pin3', new GeoJsonMarkerPin( 'pin3' ) );\n    geojsonPainter.putData( 'simple-features', simpleFeatures, [ addCssClass( 'simple' ) ] );\n    geojsonPainter.putData( 'antimeridian-features', antimeridianFeatures, [ addCssClass( 'antimeridian' ) ], { interp: SPHERICAL_RHUMB_LINE_INTERPOLATOR } );\n    geojsonPainter.putData( 'polar-features', polarFeatures, [ addCssClass( 'polar' ) ] );\n    pane.addPainter( geojsonPainter );\n\n    // Make the pane visible\n    await stylesLoading;\n    const host = requireNonNull( document.getElementById( 'host' ) );\n    attachPane( host, pane, repaint );\n    addMvtAttributionElement( host, mvtToc );\n} );\n"],"names":["get","trunc","round","floor","cos","PI","sign","sin","acos","NEGATIVE_INFINITY","POSITIVE_INFINITY","Map","Set","immutable.is","immutable.hash","immutable.List","immutable.Set","immutable.Map","cssUrl","cssLink","defaultStyle","_a","canvas","abs","pow","PROG_SOURCE","vertShader_GLSL","fragShader_GLSL","CoordsInputs","max","min","fillVertShader_GLSL","fillFragShader_GLSL","lineVertShader_GLSL","lineFragShader_GLSL","pointVertShader_GLSL","pointFragShader_GLSL","this","ceil","log2","LINE_PROG_SOURCE","FILL_PROG_SOURCE","entries","Object","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","Reflect","apply","construct","fun","thisValue","args","x","Func","arrayForEach","unapply","Array","prototype","forEach","arrayPop","pop","arrayPush","push","stringToLowerCase","String","toLowerCase","stringToString","toString","stringMatch","match","stringReplace","replace","stringIndexOf","indexOf","stringTrim","trim","regExpTest","RegExp","test","typeErrorCreate","unconstruct","TypeError","func","thisArg","addToSet","set","array","transformCaseFunc","l","length","element","lcElement","clone","object","newObject","property","value","lookupGetter","prop","desc","fallbackValue","console","warn","html","svg","svgFilters","svgDisallowed","mathMl","mathMlDisallowed","text","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","window","_createTrustedTypesPolicy","trustedTypes","document","createPolicy","suffix","ATTR_NAME","currentScript","hasAttribute","getAttribute","policyName","createHTML","createScriptURL","scriptUrl","_","createDOMPurify","DOMPurify","root","version","VERSION","removed","nodeType","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","createHTMLDocument","EXPRESSIONS","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","ATTRS","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","Function","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","namespaceURI","parentTagName","Boolean","_forceRemove","node","parentNode","removeChild","remove","_removeAttribute","name","attribute","getAttributeNode","from","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","childNodes","call","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","elm","nodeName","textContent","attributes","hasChildNodes","_isNode","_executeHook","entryPoint","currentNode","data","hook","_sanitizeElements","allowedTags","firstElementChild","_basicCustomElementTest","childCount","i","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","forceKeepAttr","undefined","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","appendChild","firstChild","nodeIterator","shadowroot","shadowrootmod","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","Point","require$$0","VectorTileFeature","signedArea","earcutModule","earcut_1","mapSetIfAbsent"],"mappings":"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A;;MCvFjD,cAAc,GAAG,IAAI,UAAU,CAAE,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC,CAAG,CAAA;AAoB5sF,MAAA,OAAO,iBAAgB,kBAAkB,CAAE,SAAS,EAAE,MAAM,EAAE,EAAE,CAAC,MAAM,EAAE,cAAc,CAAG,CAAA;;MCd1F,YAAY,GAAG,IAAI,UAAU,CAAE,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,G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,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3d,CAAA,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAE,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC,CAAC;CAC3pB,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC;AAC9d,CAAA,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAE,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAE,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;AAC99B,CAAA,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,OAAO,CAAC,CAAC;AAC/c,CAAA,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC;AACtZ,CAAA,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC;CACpV,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,OAAM,CAAC,CAAC,CAAC;CACvd,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACnf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACrf,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAM,CAAC,CAAC,CAAC;CACva,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;CACtf,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC;CAC9E,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrf,CAAA,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAA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,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC;CACza,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;CACpf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpf,CAAA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACvf,CAAC,CAAC,CAAC,EAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAC7f,CAAA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC,CAAC,CAAC,KAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AACzf,CAAA,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAA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AC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,CAAE,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,GAAE,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CA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C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAE,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,IAA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"}